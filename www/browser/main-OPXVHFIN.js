var gx=Object.create;var Qd=Object.defineProperty,mx=Object.defineProperties,yx=Object.getOwnPropertyDescriptor,wx=Object.getOwnPropertyDescriptors,vx=Object.getOwnPropertyNames,v0=Object.getOwnPropertySymbols,Cx=Object.getPrototypeOf,x0=Object.prototype.hasOwnProperty,xx=Object.prototype.propertyIsEnumerable;var C0=(e,t,n)=>t in e?Qd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t)=>{for(var n in t||={})x0.call(t,n)&&C0(e,n,t[n]);if(v0)for(var n of v0(t))xx.call(t,n)&&C0(e,n,t[n]);return e},$e=(e,t)=>mx(e,wx(t));var E0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ex=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of vx(t))!x0.call(e,a)&&a!==n&&Qd(e,a,{get:()=>t[a],enumerable:!(r=yx(t,a))||r.enumerable});return e};var Kd=(e,t,n)=>(n=e!=null?gx(Cx(e)):{},Ex(t||!e||!e.__esModule?Qd(n,"default",{value:e,enumerable:!0}):n,e));var ma=(e,t,n)=>new Promise((r,a)=>{var u=x=>{try{m(n.next(x))}catch(v){a(v)}},f=x=>{try{m(n.throw(x))}catch(v){a(v)}},m=x=>x.done?r(x.value):Promise.resolve(x.value).then(u,f);m((n=n.apply(e,t)).next())});var o0=E0((Vr,i0)=>{"use strict";(function(e,t){typeof Vr=="object"&&typeof i0<"u"?i0.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Sweetalert2=t())})(Vr,function(){"use strict";function e(g,C,b){if(typeof g=="function"?g===C:g.has(C))return arguments.length<3?C:b;throw new TypeError("Private element is not present on this object")}function t(g,C){if(C.has(g))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(g,C){return g.get(e(g,C))}function r(g,C,b){t(g,C),C.set(g,b)}function a(g,C,b){return g.set(e(g,C),b),b}let u=100,f={},m=()=>{f.previousActiveElement instanceof HTMLElement?(f.previousActiveElement.focus(),f.previousActiveElement=null):document.body&&document.body.focus()},x=g=>new Promise(C=>{if(!g)return C();let b=window.scrollX,M=window.scrollY;f.restoreFocusTimeout=setTimeout(()=>{m(),C()},u),window.scrollTo(b,M)}),v="swal2-",D=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((g,C)=>(g[C]=v+C,g),{}),R=["success","warning","info","question","error"].reduce((g,C)=>(g[C]=v+C,g),{}),G="SweetAlert2:",Z=g=>g.charAt(0).toUpperCase()+g.slice(1),W=g=>{console.warn(`${G} ${typeof g=="object"?g.join(" "):g}`)},X=g=>{console.error(`${G} ${g}`)},ge=[],Ye=g=>{ge.includes(g)||(ge.push(g),W(g))},De=function(g){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ye(`"${g}" is deprecated and will be removed in the next major release.${C?` Use "${C}" instead.`:""}`)},q=g=>typeof g=="function"?g():g,Te=g=>g&&typeof g.toPromise=="function",K=g=>Te(g)?g.toPromise():Promise.resolve(g),zr=g=>g&&Promise.resolve(g)===g,st=()=>document.body.querySelector(`.${D.container}`),me=g=>{let C=st();return C?C.querySelector(g):null},Me=g=>me(`.${g}`),ye=()=>Me(D.popup),H=()=>Me(D.icon),Lt=()=>Me(D["icon-content"]),Ae=()=>Me(D.title),Gr=()=>Me(D["html-container"]),fr=()=>Me(D.image),Xn=()=>Me(D["progress-steps"]),Zi=()=>Me(D["validation-message"]),gt=()=>me(`.${D.actions} .${D.confirm}`),wn=()=>me(`.${D.actions} .${D.cancel}`),Dt=()=>me(`.${D.actions} .${D.deny}`),Il=()=>Me(D["input-label"]),ce=()=>me(`.${D.loader}`),wi=()=>Me(D.actions),Rt=()=>Me(D.footer),br=()=>Me(D["timer-progress-bar"]),$r=()=>Me(D.close),an=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Xi=()=>{let g=ye();if(!g)return[];let C=g.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(C).sort((ne,Le)=>{let Xe=parseInt(ne.getAttribute("tabindex")||"0"),St=parseInt(Le.getAttribute("tabindex")||"0");return Xe>St?1:Xe<St?-1:0}),M=g.querySelectorAll(an),B=Array.from(M).filter(ne=>ne.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(B))].filter(ne=>ln(ne))},Ze=()=>mt(document.body,D.shown)&&!mt(document.body,D["toast-shown"])&&!mt(document.body,D["no-backdrop"]),Ir=()=>{let g=ye();return g?mt(g,D.toast):!1},hr=()=>{let g=ye();return g?g.hasAttribute("data-loading"):!1},Ht=(g,C)=>{if(g.textContent="",C){let M=new DOMParser().parseFromString(C,"text/html"),B=M.querySelector("head");B&&Array.from(B.childNodes).forEach(Le=>{g.appendChild(Le)});let ne=M.querySelector("body");ne&&Array.from(ne.childNodes).forEach(Le=>{Le instanceof HTMLVideoElement||Le instanceof HTMLAudioElement?g.appendChild(Le.cloneNode(!0)):g.appendChild(Le)})}},mt=(g,C)=>{if(!C)return!1;let b=C.split(/\s+/);for(let M=0;M<b.length;M++)if(!g.classList.contains(b[M]))return!1;return!0},ea=(g,C)=>{Array.from(g.classList).forEach(b=>{!Object.values(D).includes(b)&&!Object.values(R).includes(b)&&!Object.values(C.showClass||{}).includes(b)&&g.classList.remove(b)})},Ee=(g,C,b)=>{if(ea(g,C),!C.customClass)return;let M=C.customClass[b];if(M){if(typeof M!="string"&&!M.forEach){W(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof M}"`);return}He(g,M)}},Wr=(g,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return g.querySelector(`.${D.popup} > .${D[C]}`);case"checkbox":return g.querySelector(`.${D.popup} > .${D.checkbox} input`);case"radio":return g.querySelector(`.${D.popup} > .${D.radio} input:checked`)||g.querySelector(`.${D.popup} > .${D.radio} input:first-child`);case"range":return g.querySelector(`.${D.popup} > .${D.range} input`);default:return g.querySelector(`.${D.popup} > .${D.input}`)}},ae=g=>{if(g.focus(),g.type!=="file"){let C=g.value;g.value="",g.value=C}},Qi=(g,C,b)=>{!g||!C||(typeof C=="string"&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(M=>{Array.isArray(g)?g.forEach(B=>{b?B.classList.add(M):B.classList.remove(M)}):b?g.classList.add(M):g.classList.remove(M)}))},He=(g,C)=>{Qi(g,C,!0)},nn=(g,C)=>{Qi(g,C,!1)},Qn=(g,C)=>{let b=Array.from(g.children);for(let M=0;M<b.length;M++){let B=b[M];if(B instanceof HTMLElement&&mt(B,C))return B}},zt=(g,C,b)=>{b===`${parseInt(b)}`&&(b=parseInt(b)),b||parseInt(b)===0?g.style.setProperty(C,typeof b=="number"?`${b}px`:b):g.style.removeProperty(C)},Ot=function(g){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";g&&(g.style.display=C)},wt=g=>{g&&(g.style.display="none")},Gt=function(g){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";g&&new MutationObserver(()=>{Dr(g,g.innerHTML,C)}).observe(g,{childList:!0,subtree:!0})},ta=(g,C,b,M)=>{let B=g.querySelector(C);B&&B.style.setProperty(b,M)},Dr=function(g,C){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";C?Ot(g,b):wt(g)},ln=g=>!!(g&&(g.offsetWidth||g.offsetHeight||g.getClientRects().length)),Nt=()=>!ln(gt())&&!ln(Dt())&&!ln(wn()),ee=g=>g.scrollHeight>g.clientHeight,jo=g=>{let C=window.getComputedStyle(g),b=parseFloat(C.getPropertyValue("animation-duration")||"0"),M=parseFloat(C.getPropertyValue("transition-duration")||"0");return b>0||M>0},rt=function(g){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=br();b&&ln(b)&&(C&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${g/1e3}s linear`,b.style.width="0%"},10))},xt=()=>{let g=br();if(!g)return;let C=parseInt(window.getComputedStyle(g).width);g.style.removeProperty("transition"),g.style.width="100%";let b=parseInt(window.getComputedStyle(g).width),M=C/b*100;g.style.width=`${M}%`},Ki=()=>typeof window>"u"||typeof document>"u",na=`
 <div aria-labelledby="${D.title}" aria-describedby="${D["html-container"]}" class="${D.popup}" tabindex="-1">
   <button type="button" class="${D.close}"></button>
   <ul class="${D["progress-steps"]}"></ul>
   <div class="${D.icon}"></div>
   <img class="${D.image}" />
   <h2 class="${D.title}" id="${D.title}"></h2>
   <div class="${D["html-container"]}" id="${D["html-container"]}"></div>
   <input class="${D.input}" id="${D.input}" />
   <input type="file" class="${D.file}" />
   <div class="${D.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${D.select}" id="${D.select}"></select>
   <div class="${D.radio}"></div>
   <label class="${D.checkbox}">
     <input type="checkbox" id="${D.checkbox}" />
     <span class="${D.label}"></span>
   </label>
   <textarea class="${D.textarea}" id="${D.textarea}"></textarea>
   <div class="${D["validation-message"]}" id="${D["validation-message"]}"></div>
   <div class="${D.actions}">
     <div class="${D.loader}"></div>
     <button type="button" class="${D.confirm}"></button>
     <button type="button" class="${D.deny}"></button>
     <button type="button" class="${D.cancel}"></button>
   </div>
   <div class="${D.footer}"></div>
   <div class="${D["timer-progress-bar-container"]}">
     <div class="${D["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Dl=()=>{let g=st();return g?(g.remove(),nn([document.documentElement,document.body],[D["no-backdrop"],D["toast-shown"],D["has-column"]]),!0):!1},Be=()=>{f.currentInstance.resetValidationMessage()},Ho=()=>{let g=ye(),C=Qn(g,D.input),b=Qn(g,D.file),M=g.querySelector(`.${D.range} input`),B=g.querySelector(`.${D.range} output`),ne=Qn(g,D.select),Le=g.querySelector(`.${D.checkbox} input`),Xe=Qn(g,D.textarea);C.oninput=Be,b.onchange=Be,ne.onchange=Be,Le.onchange=Be,Xe.oninput=Be,M.oninput=()=>{Be(),B.value=M.value},M.onchange=()=>{Be(),B.value=M.value}},Al=g=>typeof g=="string"?document.querySelector(g):g,Sl=g=>{let C=ye();C.setAttribute("role",g.toast?"alert":"dialog"),C.setAttribute("aria-live",g.toast?"polite":"assertive"),g.toast||C.setAttribute("aria-modal","true")},Nn=g=>{window.getComputedStyle(g).direction==="rtl"&&He(st(),D.rtl)},ra=g=>{let C=Dl();if(Ki()){X("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=D.container,C&&He(b,D["no-transition"]),Ht(b,na),b.dataset.swal2Theme=g.theme;let M=Al(g.target);M.appendChild(b),Sl(g),Nn(M),Ho()},pr=(g,C)=>{g instanceof HTMLElement?C.appendChild(g):typeof g=="object"?vi(g,C):g&&Ht(C,g)},vi=(g,C)=>{g.jquery?zo(C,g):Ht(C,g.toString())},zo=(g,C)=>{if(g.textContent="",0 in C)for(let b=0;b in C;b++)g.appendChild(C[b].cloneNode(!0));else g.appendChild(C.cloneNode(!0))},Kn=(g,C)=>{let b=wi(),M=ce();!b||!M||(!C.showConfirmButton&&!C.showDenyButton&&!C.showCancelButton?wt(b):Ot(b),Ee(b,C,"actions"),Od(b,M,C),Ht(M,C.loaderHtml||""),Ee(M,C,"loader"))};function Od(g,C,b){let M=gt(),B=Dt(),ne=wn();!M||!B||!ne||(Ji(M,"confirm",b),Ji(B,"deny",b),Ji(ne,"cancel",b),qr(M,B,ne,b),b.reverseButtons&&(b.toast?(g.insertBefore(ne,M),g.insertBefore(B,M)):(g.insertBefore(ne,C),g.insertBefore(B,C),g.insertBefore(M,C))))}function qr(g,C,b,M){if(!M.buttonsStyling){nn([g,C,b],D.styled);return}He([g,C,b],D.styled),M.confirmButtonColor&&(g.style.backgroundColor=M.confirmButtonColor,He(g,D["default-outline"])),M.denyButtonColor&&(C.style.backgroundColor=M.denyButtonColor,He(C,D["default-outline"])),M.cancelButtonColor&&(b.style.backgroundColor=M.cancelButtonColor,He(b,D["default-outline"]))}function Ji(g,C,b){let M=Z(C);Dr(g,b[`show${M}Button`],"inline-block"),Ht(g,b[`${C}ButtonText`]||""),g.setAttribute("aria-label",b[`${C}ButtonAriaLabel`]||""),g.className=D[C],Ee(g,b,`${C}Button`)}let Rn=(g,C)=>{let b=$r();b&&(Ht(b,C.closeButtonHtml||""),Ee(b,C,"closeButton"),Dr(b,C.showCloseButton),b.setAttribute("aria-label",C.closeButtonAriaLabel||""))},Yr=(g,C)=>{let b=st();b&&(Ci(b,C.backdrop),oe(b,C.position),xi(b,C.grow),Ee(b,C,"container"))};function Ci(g,C){typeof C=="string"?g.style.background=C:C||He([document.documentElement,document.body],D["no-backdrop"])}function oe(g,C){C&&(C in D?He(g,D[C]):(W('The "position" parameter is not valid, defaulting to "center"'),He(g,D.center)))}function xi(g,C){C&&He(g,D[`grow-${C}`])}var at={innerParams:new WeakMap,domCache:new WeakMap};let On=["input","file","range","select","radio","checkbox","textarea"],kd=(g,C)=>{let b=ye();if(!b)return;let M=at.innerParams.get(g),B=!M||C.input!==M.input;On.forEach(ne=>{let Le=Qn(b,D[ne]);Le&&(_l(ne,C.inputAttributes),Le.className=D[ne],B&&wt(Le))}),C.input&&(B&&Fd(C),Pd(C))},Fd=g=>{if(!g.input)return;if(!Et[g.input]){X(`Unexpected type of input! Expected ${Object.keys(Et).join(" | ")}, got "${g.input}"`);return}let C=Tl(g.input);if(!C)return;let b=Et[g.input](C,g);Ot(C),g.inputAutoFocus&&setTimeout(()=>{ae(b)})},Go=g=>{for(let C=0;C<g.attributes.length;C++){let b=g.attributes[C].name;["id","type","value","style"].includes(b)||g.removeAttribute(b)}},_l=(g,C)=>{let b=ye();if(!b)return;let M=Wr(b,g);if(M){Go(M);for(let B in C)M.setAttribute(B,C[B])}},Pd=g=>{if(!g.input)return;let C=Tl(g.input);C&&Ee(C,g,"input")},ia=(g,C)=>{!g.placeholder&&C.inputPlaceholder&&(g.placeholder=C.inputPlaceholder)},eo=(g,C,b)=>{if(b.inputLabel){let M=document.createElement("label"),B=D["input-label"];M.setAttribute("for",g.id),M.className=B,typeof b.customClass=="object"&&He(M,b.customClass.inputLabel),M.innerText=b.inputLabel,C.insertAdjacentElement("beforebegin",M)}},Tl=g=>{let C=ye();if(C)return Qn(C,D[g]||D.input)},kn=(g,C)=>{["string","number"].includes(typeof C)?g.value=`${C}`:zr(C)||W(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},Et={};Et.text=Et.email=Et.password=Et.number=Et.tel=Et.url=Et.search=Et.date=Et["datetime-local"]=Et.time=Et.week=Et.month=(g,C)=>(kn(g,C.inputValue),eo(g,g,C),ia(g,C),g.type=C.input,g),Et.file=(g,C)=>(eo(g,g,C),ia(g,C),g),Et.range=(g,C)=>{let b=g.querySelector("input"),M=g.querySelector("output");return kn(b,C.inputValue),b.type=C.input,kn(M,C.inputValue),eo(b,g,C),g},Et.select=(g,C)=>{if(g.textContent="",C.inputPlaceholder){let b=document.createElement("option");Ht(b,C.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,g.appendChild(b)}return eo(g,g,C),g},Et.radio=g=>(g.textContent="",g),Et.checkbox=(g,C)=>{let b=Wr(ye(),"checkbox");b.value="1",b.checked=!!C.inputValue;let M=g.querySelector("span");return Ht(M,C.inputPlaceholder||C.inputLabel),b},Et.textarea=(g,C)=>{kn(g,C.inputValue),ia(g,C),eo(g,g,C);let b=M=>parseInt(window.getComputedStyle(M).marginLeft)+parseInt(window.getComputedStyle(M).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let M=parseInt(window.getComputedStyle(ye()).width),B=()=>{if(!document.body.contains(g))return;let ne=g.offsetWidth+b(g);ne>M?ye().style.width=`${ne}px`:zt(ye(),"width",C.width)};new MutationObserver(B).observe(g,{attributes:!0,attributeFilter:["style"]})}}),g};let Ar=(g,C)=>{let b=Gr();b&&(Gt(b),Ee(b,C,"htmlContainer"),C.html?(pr(C.html,b),Ot(b,"block")):C.text?(b.textContent=C.text,Ot(b,"block")):wt(b),kd(g,C))},oa=(g,C)=>{let b=Rt();b&&(Gt(b),Dr(b,C.footer,"block"),C.footer&&pr(C.footer,b),Ee(b,C,"footer"))},$=(g,C)=>{let b=at.innerParams.get(g),M=H();if(!M)return;if(b&&C.icon===b.icon){et(M,C),Ml(M,C);return}if(!C.icon&&!C.iconHtml){wt(M);return}if(C.icon&&Object.keys(R).indexOf(C.icon)===-1){X(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),wt(M);return}Ot(M),et(M,C),Ml(M,C),He(M,C.showClass&&C.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",vt)},Ml=(g,C)=>{for(let[b,M]of Object.entries(R))C.icon!==b&&nn(g,M);He(g,C.icon&&R[C.icon]),tt(g,C),vt(),Ee(g,C,"icon")},vt=()=>{let g=ye();if(!g)return;let C=window.getComputedStyle(g).getPropertyValue("background-color"),b=g.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let M=0;M<b.length;M++)b[M].style.backgroundColor=C},Ei=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ld=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,et=(g,C)=>{if(!C.icon&&!C.iconHtml)return;let b=g.innerHTML,M="";C.iconHtml?M=Ve(C.iconHtml):C.icon==="success"?(M=Ei,b=b.replace(/ style=".*?"/g,"")):C.icon==="error"?M=Ld:C.icon&&(M=Ve({question:"?",warning:"!",info:"i"}[C.icon])),b.trim()!==M.trim()&&Ht(g,M)},tt=(g,C)=>{if(C.iconColor){g.style.color=C.iconColor,g.style.borderColor=C.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ta(g,b,"background-color",C.iconColor);ta(g,".swal2-success-ring","border-color",C.iconColor)}},Ve=g=>`<div class="${D["icon-content"]}">${g}</div>`,sa=(g,C)=>{let b=fr();if(b){if(!C.imageUrl){wt(b);return}Ot(b,""),b.setAttribute("src",C.imageUrl),b.setAttribute("alt",C.imageAlt||""),zt(b,"width",C.imageWidth),zt(b,"height",C.imageHeight),b.className=D.image,Ee(b,C,"image")}},to=!1,$o=0,kt=0,gr=0,Nl=0,At=g=>{g.addEventListener("mousedown",qo),document.body.addEventListener("mousemove",Sr),g.addEventListener("mouseup",it),g.addEventListener("touchstart",qo),document.body.addEventListener("touchmove",Sr),g.addEventListener("touchend",it)},Wo=g=>{g.removeEventListener("mousedown",qo),document.body.removeEventListener("mousemove",Sr),g.removeEventListener("mouseup",it),g.removeEventListener("touchstart",qo),document.body.removeEventListener("touchmove",Sr),g.removeEventListener("touchend",it)},qo=g=>{let C=ye();if(g.target===C||H().contains(g.target)){to=!0;let b=$t(g);$o=b.clientX,kt=b.clientY,gr=parseInt(C.style.insetInlineStart)||0,Nl=parseInt(C.style.insetBlockStart)||0,He(C,"swal2-dragging")}},Sr=g=>{let C=ye();if(to){let{clientX:b,clientY:M}=$t(g);C.style.insetInlineStart=`${gr+(b-$o)}px`,C.style.insetBlockStart=`${Nl+(M-kt)}px`}},it=()=>{let g=ye();to=!1,nn(g,"swal2-dragging")},$t=g=>{let C=0,b=0;return g.type.startsWith("mouse")?(C=g.clientX,b=g.clientY):g.type.startsWith("touch")&&(C=g.touches[0].clientX,b=g.touches[0].clientY),{clientX:C,clientY:b}},F=(g,C)=>{let b=st(),M=ye();if(!(!b||!M)){if(C.toast){zt(b,"width",C.width),M.style.width="100%";let B=ce();B&&M.insertBefore(B,H())}else zt(M,"width",C.width);zt(M,"padding",C.padding),C.color&&(M.style.color=C.color),C.background&&(M.style.background=C.background),wt(Zi()),_(M,C),C.draggable&&!C.toast?(He(M,D.draggable),At(M)):(nn(M,D.draggable),Wo(M))}},_=(g,C)=>{let b=C.showClass||{};g.className=`${D.popup} ${ln(g)?b.popup:""}`,C.toast?(He([document.documentElement,document.body],D["toast-shown"]),He(g,D.toast)):He(g,D.modal),Ee(g,C,"popup"),typeof C.customClass=="string"&&He(g,C.customClass),C.icon&&He(g,D[`icon-${C.icon}`])},ue=(g,C)=>{let b=Xn();if(!b)return;let{progressSteps:M,currentProgressStep:B}=C;if(!M||M.length===0||B===void 0){wt(b);return}Ot(b),b.textContent="",B>=M.length&&W("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.forEach((ne,Le)=>{let Xe=Wt(ne);if(b.appendChild(Xe),Le===B&&He(Xe,D["active-progress-step"]),Le!==M.length-1){let St=vn(C);b.appendChild(St)}})},Wt=g=>{let C=document.createElement("li");return He(C,D["progress-step"]),Ht(C,g),C},vn=g=>{let C=document.createElement("li");return He(C,D["progress-step-line"]),g.progressStepsDistance&&zt(C,"width",g.progressStepsDistance),C},Bd=(g,C)=>{let b=Ae();b&&(Gt(b),Dr(b,C.title||C.titleText,"block"),C.title&&pr(C.title,b),C.titleText&&(b.innerText=C.titleText),Ee(b,C,"title"))},Yo=(g,C)=>{F(g,C),Yr(g,C),ue(g,C),$(g,C),sa(g,C),Bd(g,C),Rn(g,C),Ar(g,C),Kn(g,C),oa(g,C);let b=ye();typeof C.didRender=="function"&&b&&C.didRender(b),f.eventEmitter.emit("didRender",b)},Fn=()=>ln(ye()),he=()=>{var g;return(g=gt())===null||g===void 0?void 0:g.click()},Rl=()=>{var g;return(g=Dt())===null||g===void 0?void 0:g.click()},Ol=()=>{var g;return(g=wn())===null||g===void 0?void 0:g.click()},bi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Zo=g=>{g.keydownTarget&&g.keydownHandlerAdded&&(g.keydownTarget.removeEventListener("keydown",g.keydownHandler,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!1)},Xo=(g,C,b)=>{Zo(g),C.toast||(g.keydownHandler=M=>ro(C,M,b),g.keydownTarget=C.keydownListenerCapture?window:ye(),g.keydownListenerCapture=C.keydownListenerCapture,g.keydownTarget.addEventListener("keydown",g.keydownHandler,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!0)},no=(g,C)=>{var b;let M=Xi();if(M.length){g=g+C,g===M.length?g=0:g===-1&&(g=M.length-1),M[g].focus();return}(b=ye())===null||b===void 0||b.focus()},kl=["ArrowRight","ArrowDown"],Ud=["ArrowLeft","ArrowUp"],ro=(g,C,b)=>{g&&(C.isComposing||C.keyCode===229||(g.stopKeydownPropagation&&C.stopPropagation(),C.key==="Enter"?_r(C,g):C.key==="Tab"?we(C):[...kl,...Ud].includes(C.key)?Vd(C.key):C.key==="Escape"&&Ne(C,g,b)))},_r=(g,C)=>{if(!q(C.allowEnterKey))return;let b=Wr(ye(),C.input);if(g.target&&b&&g.target instanceof HTMLElement&&g.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(C.input))return;he(),g.preventDefault()}},we=g=>{let C=g.target,b=Xi(),M=-1;for(let B=0;B<b.length;B++)if(C===b[B]){M=B;break}g.shiftKey?no(M,-1):no(M,1),g.stopPropagation(),g.preventDefault()},Vd=g=>{let C=wi(),b=gt(),M=Dt(),B=wn();if(!C||!b||!M||!B)return;let ne=[b,M,B];if(document.activeElement instanceof HTMLElement&&!ne.includes(document.activeElement))return;let Le=kl.includes(g)?"nextElementSibling":"previousElementSibling",Xe=document.activeElement;if(Xe){for(let St=0;St<C.children.length;St++){if(Xe=Xe[Le],!Xe)return;if(Xe instanceof HTMLButtonElement&&ln(Xe))break}Xe instanceof HTMLButtonElement&&Xe.focus()}},Ne=(g,C,b)=>{q(C.allowEscapeKey)&&(g.preventDefault(),b(bi.esc))};var bt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let jd=()=>{let g=st();Array.from(document.body.children).forEach(b=>{b.contains(g)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},Qo=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")||""),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},aa=typeof window<"u"&&!!window.GestureEvent,Zr=()=>{if(aa&&!mt(document.body,D.iosfix)){let g=document.body.scrollTop;document.body.style.top=`${g*-1}px`,He(document.body,D.iosfix),Hd()}},Hd=()=>{let g=st();if(!g)return;let C;g.ontouchstart=b=>{C=io(b)},g.ontouchmove=b=>{C&&(b.preventDefault(),b.stopPropagation())}},io=g=>{let C=g.target,b=st(),M=Gr();return!b||!M||Fl(g)||oo(g)?!1:C===b||!ee(b)&&C instanceof HTMLElement&&C.tagName!=="INPUT"&&C.tagName!=="TEXTAREA"&&!(ee(M)&&M.contains(C))},Fl=g=>g.touches&&g.touches.length&&g.touches[0].touchType==="stylus",oo=g=>g.touches&&g.touches.length>1,Pl=()=>{if(mt(document.body,D.iosfix)){let g=parseInt(document.body.style.top,10);nn(document.body,D.iosfix),document.body.style.top="",document.body.scrollTop=g*-1}},so=()=>{let g=document.createElement("div");g.className=D["scrollbar-measure"],document.body.appendChild(g);let C=g.getBoundingClientRect().width-g.clientWidth;return document.body.removeChild(g),C},Ii=null,cn=g=>{Ii===null&&(document.body.scrollHeight>window.innerHeight||g==="scroll")&&(Ii=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ii+so()}px`)},Ll=()=>{Ii!==null&&(document.body.style.paddingRight=`${Ii}px`,Ii=null)};function la(g,C,b,M){Ir()?Vl(g,M):(x(b).then(()=>Vl(g,M)),Zo(f)),aa?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Ze()&&(Ll(),Pl(),Qo()),zd()}function zd(){nn([document.documentElement,document.body],[D.shown,D["height-auto"],D["no-backdrop"],D["toast-shown"]])}function Tr(g){g=Ul(g);let C=bt.swalPromiseResolve.get(this),b=Gd(this);this.isAwaitingPromise?g.isDismissed||(nt(this),C(g)):b&&C(g)}let Gd=g=>{let C=ye();if(!C)return!1;let b=at.innerParams.get(g);if(!b||mt(C,b.hideClass.popup))return!1;nn(C,b.showClass.popup),He(C,b.hideClass.popup);let M=st();return nn(M,b.showClass.backdrop),He(M,b.hideClass.backdrop),Ko(g,C,b),!0};function Bl(g){let C=bt.swalPromiseReject.get(this);nt(this),C&&C(g)}let nt=g=>{g.isAwaitingPromise&&(delete g.isAwaitingPromise,at.innerParams.get(g)||g._destroy())},Ul=g=>typeof g>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},g),Ko=(g,C,b)=>{var M;let B=st(),ne=jo(C);typeof b.willClose=="function"&&b.willClose(C),(M=f.eventEmitter)===null||M===void 0||M.emit("willClose",C),ne?Mr(g,C,B,b.returnFocus,b.didClose):la(g,B,b.returnFocus,b.didClose)},Mr=(g,C,b,M,B)=>{f.swalCloseEventFinishedCallback=la.bind(null,g,b,M,B);let ne=function(Le){if(Le.target===C){var Xe;(Xe=f.swalCloseEventFinishedCallback)===null||Xe===void 0||Xe.call(f),delete f.swalCloseEventFinishedCallback,C.removeEventListener("animationend",ne),C.removeEventListener("transitionend",ne)}};C.addEventListener("animationend",ne),C.addEventListener("transitionend",ne)},Vl=(g,C)=>{setTimeout(()=>{var b;typeof C=="function"&&C.bind(g.params)(),(b=f.eventEmitter)===null||b===void 0||b.emit("didClose"),g._destroy&&g._destroy()})},L=g=>{let C=ye();if(C||new nc,C=ye(),!C)return;let b=ce();Ir()?wt(H()):Oe(C,g),Ot(b),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Oe=(g,C)=>{let b=wi(),M=ce();!b||!M||(!C&&ln(gt())&&(C=gt()),Ot(b),C&&(wt(C),M.setAttribute("data-button-to-replace",C.className),b.insertBefore(M,C)),He([g,b],D.loading))},qt=(g,C)=>{C.input==="select"||C.input==="radio"?qd(g,C):["text","email","number","tel","textarea"].some(b=>b===C.input)&&(Te(C.inputValue)||zr(C.inputValue))&&(L(gt()),Hl(g,C))},ca=(g,C)=>{let b=g.getInput();if(!b)return null;switch(C.input){case"checkbox":return jl(b);case"radio":return $d(b);case"file":return Wd(b);default:return C.inputAutoTrim?b.value.trim():b.value}},jl=g=>g.checked?1:0,$d=g=>g.checked?g.value:null,Wd=g=>g.files&&g.files.length?g.getAttribute("multiple")!==null?g.files:g.files[0]:null,qd=(g,C)=>{let b=ye();if(!b)return;let M=B=>{C.input==="select"?Ft(b,mr(B),C):C.input==="radio"&&ua(b,mr(B),C)};Te(C.inputOptions)||zr(C.inputOptions)?(L(gt()),K(C.inputOptions).then(B=>{g.hideLoading(),M(B)})):typeof C.inputOptions=="object"?M(C.inputOptions):X(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof C.inputOptions}`)},Hl=(g,C)=>{let b=g.getInput();b&&(wt(b),K(C.inputValue).then(M=>{b.value=C.input==="number"?`${parseFloat(M)||0}`:`${M}`,Ot(b),b.focus(),g.hideLoading()}).catch(M=>{X(`Error in inputValue promise: ${M}`),b.value="",Ot(b),b.focus(),g.hideLoading()}))};function Ft(g,C,b){let M=Qn(g,D.select);if(!M)return;let B=(ne,Le,Xe)=>{let St=document.createElement("option");St.value=Xe,Ht(St,Le),St.selected=ao(Xe,b.inputValue),ne.appendChild(St)};C.forEach(ne=>{let Le=ne[0],Xe=ne[1];if(Array.isArray(Xe)){let St=document.createElement("optgroup");St.label=Le,St.disabled=!1,M.appendChild(St),Xe.forEach(ss=>B(St,ss[1],ss[0]))}else B(M,Xe,Le)}),M.focus()}function ua(g,C,b){let M=Qn(g,D.radio);if(!M)return;C.forEach(ne=>{let Le=ne[0],Xe=ne[1],St=document.createElement("input"),ss=document.createElement("label");St.type="radio",St.name=D.radio,St.value=Le,ao(Le,b.inputValue)&&(St.checked=!0);let Xd=document.createElement("span");Ht(Xd,Xe),Xd.className=D.label,ss.appendChild(St),ss.appendChild(Xd),M.appendChild(ss)});let B=M.querySelectorAll("input");B.length&&B[0].focus()}let mr=g=>{let C=[];return g instanceof Map?g.forEach((b,M)=>{let B=b;typeof B=="object"&&(B=mr(B)),C.push([M,B])}):Object.keys(g).forEach(b=>{let M=g[b];typeof M=="object"&&(M=mr(M)),C.push([b,M])}),C},ao=(g,C)=>!!C&&C.toString()===g.toString(),Jo=g=>{let C=at.innerParams.get(g);g.disableButtons(),C.input?zl(g,"confirm"):ha(g,!0)},dt=g=>{let C=at.innerParams.get(g);g.disableButtons(),C.returnInputValueOnDeny?zl(g,"deny"):da(g,!1)},pe=(g,C)=>{g.disableButtons(),C(bi.cancel)},zl=(g,C)=>{let b=at.innerParams.get(g);if(!b.input){X(`The "input" parameter is needed to be set when using returnInputValueOn${Z(C)}`);return}let M=g.getInput(),B=ca(g,b);b.inputValidator?ht(g,B,C):M&&!M.checkValidity()?(g.enableButtons(),g.showValidationMessage(b.validationMessage||M.validationMessage)):C==="deny"?da(g,B):ha(g,B)},ht=(g,C,b)=>{let M=at.innerParams.get(g);g.disableInput(),Promise.resolve().then(()=>K(M.inputValidator(C,M.validationMessage))).then(ne=>{g.enableButtons(),g.enableInput(),ne?g.showValidationMessage(ne):b==="deny"?da(g,C):ha(g,C)})},da=(g,C)=>{let b=at.innerParams.get(g||void 0);b.showLoaderOnDeny&&L(Dt()),b.preDeny?(g.isAwaitingPromise=!0,Promise.resolve().then(()=>K(b.preDeny(C,b.validationMessage))).then(B=>{B===!1?(g.hideLoading(),nt(g)):g.close({isDenied:!0,value:typeof B>"u"?C:B})}).catch(B=>Gl(g||void 0,B))):g.close({isDenied:!0,value:C})},fa=(g,C)=>{g.close({isConfirmed:!0,value:C})},Gl=(g,C)=>{g.rejectPromise(C)},ha=(g,C)=>{let b=at.innerParams.get(g||void 0);b.showLoaderOnConfirm&&L(),b.preConfirm?(g.resetValidationMessage(),g.isAwaitingPromise=!0,Promise.resolve().then(()=>K(b.preConfirm(C,b.validationMessage))).then(B=>{ln(Zi())||B===!1?(g.hideLoading(),nt(g)):fa(g,typeof B>"u"?C:B)}).catch(B=>Gl(g||void 0,B))):fa(g,C)};function Di(){let g=at.innerParams.get(this);if(!g)return;let C=at.domCache.get(this);wt(C.loader),Ir()?g.icon&&Ot(H()):$l(C),nn([C.popup,C.actions],D.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}let $l=g=>{let C=g.popup.getElementsByClassName(g.loader.getAttribute("data-button-to-replace"));C.length?Ot(C[0],"inline-block"):Nt()&&wt(g.actions)};function es(){let g=at.innerParams.get(this),C=at.domCache.get(this);return C?Wr(C.popup,g.input):null}function pa(g,C,b){let M=at.domCache.get(g);C.forEach(B=>{M[B].disabled=b})}function ga(g,C){let b=ye();if(!(!b||!g))if(g.type==="radio"){let M=b.querySelectorAll(`[name="${D.radio}"]`);for(let B=0;B<M.length;B++)M[B].disabled=C}else g.disabled=C}function Wl(){pa(this,["confirmButton","denyButton","cancelButton"],!1)}function Xr(){pa(this,["confirmButton","denyButton","cancelButton"],!0)}function ts(){ga(this.getInput(),!1)}function ql(){ga(this.getInput(),!0)}function Ai(g){let C=at.domCache.get(this),b=at.innerParams.get(this);Ht(C.validationMessage,g),C.validationMessage.className=D["validation-message"],b.customClass&&b.customClass.validationMessage&&He(C.validationMessage,b.customClass.validationMessage),Ot(C.validationMessage);let M=this.getInput();M&&(M.setAttribute("aria-invalid","true"),M.setAttribute("aria-describedby",D["validation-message"]),ae(M),He(M,D.inputerror))}function Yl(){let g=at.domCache.get(this);g.validationMessage&&wt(g.validationMessage);let C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),nn(C,D.inputerror))}let gn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ns=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Cn={allowEnterKey:void 0},Zl=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Pn=g=>Object.prototype.hasOwnProperty.call(gn,g),Xl=g=>ns.indexOf(g)!==-1,rs=g=>Cn[g],Yd=g=>{Pn(g)||W(`Unknown parameter "${g}"`)},Ql=g=>{Zl.includes(g)&&W(`The parameter "${g}" is incompatible with toasts`)},Jn=g=>{let C=rs(g);C&&De(g,C)},Kl=g=>{g.backdrop===!1&&g.allowOutsideClick&&W('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),g.theme&&!["light","dark","auto","borderless"].includes(g.theme)&&W(`Invalid theme "${g.theme}". Expected "light", "dark", "auto", or "borderless"`);for(let C in g)Yd(C),g.toast&&Ql(C),Jn(C)};function is(g){let C=st(),b=ye(),M=at.innerParams.get(this);if(!b||mt(b,M.hideClass.popup)){W("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let B=lo(g),ne=Object.assign({},M,B);Kl(ne),C.dataset.swal2Theme=ne.theme,Yo(this,ne),at.innerParams.set(this,ne),Object.defineProperties(this,{params:{value:Object.assign({},this.params,g),writable:!1,enumerable:!0}})}let lo=g=>{let C={};return Object.keys(g).forEach(b=>{Xl(b)?C[b]=g[b]:W(`Invalid parameter to update: ${b}`)}),C};function Ge(){let g=at.domCache.get(this),C=at.innerParams.get(this);if(!C){w(this);return}g.popup&&f.swalCloseEventFinishedCallback&&(f.swalCloseEventFinishedCallback(),delete f.swalCloseEventFinishedCallback),typeof C.didDestroy=="function"&&C.didDestroy(),f.eventEmitter.emit("didDestroy"),os(this)}let os=g=>{w(g),delete g.params,delete f.keydownHandler,delete f.keydownTarget,delete f.currentInstance},w=g=>{g.isAwaitingPromise?(i(at,g),g.isAwaitingPromise=!0):(i(bt,g),i(at,g),delete g.isAwaitingPromise,delete g.disableButtons,delete g.enableButtons,delete g.getInput,delete g.disableInput,delete g.enableInput,delete g.hideLoading,delete g.disableLoading,delete g.showValidationMessage,delete g.resetValidationMessage,delete g.close,delete g.closePopup,delete g.closeModal,delete g.closeToast,delete g.rejectPromise,delete g.update,delete g._destroy)},i=(g,C)=>{for(let b in g)g[b].delete(C)};var o=Object.freeze({__proto__:null,_destroy:Ge,close:Tr,closeModal:Tr,closePopup:Tr,closeToast:Tr,disableButtons:Xr,disableInput:ql,disableLoading:Di,enableButtons:Wl,enableInput:ts,getInput:es,handleAwaitingPromise:nt,hideLoading:Di,rejectPromise:Bl,resetValidationMessage:Yl,showValidationMessage:Ai,update:is});let s=(g,C,b)=>{g.toast?l(g,C,b):(h(C),p(C),y(g,C,b))},l=(g,C,b)=>{C.popup.onclick=()=>{g&&(c(g)||g.timer||g.input)||b(bi.close)}},c=g=>!!(g.showConfirmButton||g.showDenyButton||g.showCancelButton||g.showCloseButton),d=!1,h=g=>{g.popup.onmousedown=()=>{g.container.onmouseup=function(C){g.container.onmouseup=()=>{},C.target===g.container&&(d=!0)}}},p=g=>{g.container.onmousedown=C=>{C.target===g.container&&C.preventDefault(),g.popup.onmouseup=function(b){g.popup.onmouseup=()=>{},(b.target===g.popup||b.target instanceof HTMLElement&&g.popup.contains(b.target))&&(d=!0)}}},y=(g,C,b)=>{C.container.onclick=M=>{if(d){d=!1;return}M.target===C.container&&q(g.allowOutsideClick)&&b(bi.backdrop)}},E=g=>typeof g=="object"&&g.jquery,I=g=>g instanceof Element||E(g),S=g=>{let C={};return typeof g[0]=="object"&&!I(g[0])?Object.assign(C,g[0]):["title","html","icon"].forEach((b,M)=>{let B=g[M];typeof B=="string"||I(B)?C[b]=B:B!==void 0&&X(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof B}`)}),C};function T(){for(var g=arguments.length,C=new Array(g),b=0;b<g;b++)C[b]=arguments[b];return new this(...C)}function N(g){class C extends this{_main(M,B){return super._main(M,Object.assign({},g,B))}}return C}let O=()=>f.timeout&&f.timeout.getTimerLeft(),k=()=>{if(f.timeout)return xt(),f.timeout.stop()},P=()=>{if(f.timeout){let g=f.timeout.start();return rt(g),g}},Y=()=>{let g=f.timeout;return g&&(g.running?k():P())},te=g=>{if(f.timeout){let C=f.timeout.increase(g);return rt(C,!0),C}},z=()=>!!(f.timeout&&f.timeout.isRunning()),ke=!1,be={};function un(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";be[g]=this,ke||(document.body.addEventListener("click",Ln),ke=!0)}let Ln=g=>{for(let C=g.target;C&&C!==document;C=C.parentNode)for(let b in be){let M=C.getAttribute(b);if(M){be[b].fire({template:M});return}}};class dn{constructor(){this.events={}}_getHandlersByEventName(C){return typeof this.events[C]>"u"&&(this.events[C]=[]),this.events[C]}on(C,b){let M=this._getHandlersByEventName(C);M.includes(b)||M.push(b)}once(C,b){var M=this;let B=function(){M.removeListener(C,B);for(var ne=arguments.length,Le=new Array(ne),Xe=0;Xe<ne;Xe++)Le[Xe]=arguments[Xe];b.apply(M,Le)};this.on(C,B)}emit(C){for(var b=arguments.length,M=new Array(b>1?b-1:0),B=1;B<b;B++)M[B-1]=arguments[B];this._getHandlersByEventName(C).forEach(ne=>{try{ne.apply(this,M)}catch(Le){console.error(Le)}})}removeListener(C,b){let M=this._getHandlersByEventName(C),B=M.indexOf(b);B>-1&&M.splice(B,1)}removeAllListeners(C){this.events[C]!==void 0&&(this.events[C].length=0)}reset(){this.events={}}}f.eventEmitter=new dn;var Si=Object.freeze({__proto__:null,argsToParams:S,bindClickHandler:un,clickCancel:Ol,clickConfirm:he,clickDeny:Rl,enableLoading:L,fire:T,getActions:wi,getCancelButton:wn,getCloseButton:$r,getConfirmButton:gt,getContainer:st,getDenyButton:Dt,getFocusableElements:Xi,getFooter:Rt,getHtmlContainer:Gr,getIcon:H,getIconContent:Lt,getImage:fr,getInputLabel:Il,getLoader:ce,getPopup:ye,getProgressSteps:Xn,getTimerLeft:O,getTimerProgressBar:br,getTitle:Ae,getValidationMessage:Zi,increaseTimer:te,isDeprecatedParameter:rs,isLoading:hr,isTimerRunning:z,isUpdatableParameter:Xl,isValidParameter:Pn,isVisible:Fn,mixin:N,off:(g,C)=>{if(!g){f.eventEmitter.reset();return}C?f.eventEmitter.removeListener(g,C):f.eventEmitter.removeAllListeners(g)},on:(g,C)=>{f.eventEmitter.on(g,C)},once:(g,C)=>{f.eventEmitter.once(g,C)},resumeTimer:P,showLoading:L,stopTimer:k,toggleTimer:Y});class _i{constructor(C,b){this.callback=C,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(C){let b=this.running;return b&&this.stop(),this.remaining+=C,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Jl=["swal-title","swal-html","swal-footer"],Zd=g=>{let C=typeof g.template=="string"?document.querySelector(g.template):g.template;if(!C)return{};let b=C.content;return JC(b),Object.assign(WC(b),qC(b),YC(b),ZC(b),XC(b),QC(b),KC(b,Jl))},WC=g=>{let C={};return Array.from(g.querySelectorAll("swal-param")).forEach(M=>{co(M,["name","value"]);let B=M.getAttribute("name"),ne=M.getAttribute("value");!B||!ne||(typeof gn[B]=="boolean"?C[B]=ne!=="false":typeof gn[B]=="object"?C[B]=JSON.parse(ne):C[B]=ne)}),C},qC=g=>{let C={};return Array.from(g.querySelectorAll("swal-function-param")).forEach(M=>{let B=M.getAttribute("name"),ne=M.getAttribute("value");!B||!ne||(C[B]=new Function(`return ${ne}`)())}),C},YC=g=>{let C={};return Array.from(g.querySelectorAll("swal-button")).forEach(M=>{co(M,["type","color","aria-label"]);let B=M.getAttribute("type");!B||!["confirm","cancel","deny"].includes(B)||(C[`${B}ButtonText`]=M.innerHTML,C[`show${Z(B)}Button`]=!0,M.hasAttribute("color")&&(C[`${B}ButtonColor`]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(C[`${B}ButtonAriaLabel`]=M.getAttribute("aria-label")))}),C},ZC=g=>{let C={},b=g.querySelector("swal-image");return b&&(co(b,["src","width","height","alt"]),b.hasAttribute("src")&&(C.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(C.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(C.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(C.imageAlt=b.getAttribute("alt")||void 0)),C},XC=g=>{let C={},b=g.querySelector("swal-icon");return b&&(co(b,["type","color"]),b.hasAttribute("type")&&(C.icon=b.getAttribute("type")),b.hasAttribute("color")&&(C.iconColor=b.getAttribute("color")),C.iconHtml=b.innerHTML),C},QC=g=>{let C={},b=g.querySelector("swal-input");b&&(co(b,["type","label","placeholder","value"]),C.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(C.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(C.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(C.inputValue=b.getAttribute("value")));let M=Array.from(g.querySelectorAll("swal-input-option"));return M.length&&(C.inputOptions={},M.forEach(B=>{co(B,["value"]);let ne=B.getAttribute("value");if(!ne)return;let Le=B.innerHTML;C.inputOptions[ne]=Le})),C},KC=(g,C)=>{let b={};for(let M in C){let B=C[M],ne=g.querySelector(B);ne&&(co(ne,[]),b[B.replace(/^swal-/,"")]=ne.innerHTML.trim())}return b},JC=g=>{let C=Jl.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(g.children).forEach(b=>{let M=b.tagName.toLowerCase();C.includes(M)||W(`Unrecognized element <${M}>`)})},co=(g,C)=>{Array.from(g.attributes).forEach(b=>{C.indexOf(b.name)===-1&&W([`Unrecognized attribute "${b.name}" on <${g.tagName.toLowerCase()}>.`,`${C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."}`])})},y0=10,ex=g=>{let C=st(),b=ye();typeof g.willOpen=="function"&&g.willOpen(b),f.eventEmitter.emit("willOpen",b);let B=window.getComputedStyle(document.body).overflowY;rx(C,b,g),setTimeout(()=>{tx(C,b)},y0),Ze()&&(nx(C,g.scrollbarPadding,B),jd()),!Ir()&&!f.previousActiveElement&&(f.previousActiveElement=document.activeElement),typeof g.didOpen=="function"&&setTimeout(()=>g.didOpen(b)),f.eventEmitter.emit("didOpen",b),nn(C,D["no-transition"])},ec=g=>{let C=ye();if(g.target!==C)return;let b=st();C.removeEventListener("animationend",ec),C.removeEventListener("transitionend",ec),b.style.overflowY="auto"},tx=(g,C)=>{jo(C)?(g.style.overflowY="hidden",C.addEventListener("animationend",ec),C.addEventListener("transitionend",ec)):g.style.overflowY="auto"},nx=(g,C,b)=>{Zr(),C&&b!=="hidden"&&cn(b),setTimeout(()=>{g.scrollTop=0})},rx=(g,C,b)=>{He(g,b.showClass.backdrop),b.animation?(C.style.setProperty("opacity","0","important"),Ot(C,"grid"),setTimeout(()=>{He(C,b.showClass.popup),C.style.removeProperty("opacity")},y0)):Ot(C,"grid"),He([document.documentElement,document.body],D.shown),b.heightAuto&&b.backdrop&&!b.toast&&He([document.documentElement,document.body],D["height-auto"])};var w0={email:(g,C)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(g)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(g,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(g)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function ix(g){g.inputValidator||(g.input==="email"&&(g.inputValidator=w0.email),g.input==="url"&&(g.inputValidator=w0.url))}function ox(g){(!g.target||typeof g.target=="string"&&!document.querySelector(g.target)||typeof g.target!="string"&&!g.target.appendChild)&&(W('Target parameter is not valid, defaulting to "body"'),g.target="body")}function sx(g){ix(g),g.showLoaderOnConfirm&&!g.preConfirm&&W(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ox(g),typeof g.title=="string"&&(g.title=g.title.split(`
`).join("<br />")),ra(g)}let Nr;var tc=new WeakMap;class Pt{constructor(){if(r(this,tc,void 0),typeof window>"u")return;Nr=this;for(var C=arguments.length,b=new Array(C),M=0;M<C;M++)b[M]=arguments[M];let B=Object.freeze(this.constructor.argsToParams(b));this.params=B,this.isAwaitingPromise=!1,a(tc,this,this._main(Nr.params))}_main(C){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Kl(Object.assign({},b,C)),f.currentInstance){let ne=bt.swalPromiseResolve.get(f.currentInstance),{isAwaitingPromise:Le}=f.currentInstance;f.currentInstance._destroy(),Le||ne({isDismissed:!0}),Ze()&&Qo()}f.currentInstance=Nr;let M=lx(C,b);sx(M),Object.freeze(M),f.timeout&&(f.timeout.stop(),delete f.timeout),clearTimeout(f.restoreFocusTimeout);let B=cx(Nr);return Yo(Nr,M),at.innerParams.set(Nr,M),ax(Nr,B,M)}then(C){return n(tc,this).then(C)}finally(C){return n(tc,this).finally(C)}}let ax=(g,C,b)=>new Promise((M,B)=>{let ne=Le=>{g.close({isDismissed:!0,dismiss:Le})};bt.swalPromiseResolve.set(g,M),bt.swalPromiseReject.set(g,B),C.confirmButton.onclick=()=>{Jo(g)},C.denyButton.onclick=()=>{dt(g)},C.cancelButton.onclick=()=>{pe(g,ne)},C.closeButton.onclick=()=>{ne(bi.close)},s(b,C,ne),Xo(f,b,ne),qt(g,b),ex(b),ux(f,b,ne),dx(C,b),setTimeout(()=>{C.container.scrollTop=0})}),lx=(g,C)=>{let b=Zd(g),M=Object.assign({},gn,C,b,g);return M.showClass=Object.assign({},gn.showClass,M.showClass),M.hideClass=Object.assign({},gn.hideClass,M.hideClass),M.animation===!1&&(M.showClass={backdrop:"swal2-noanimation"},M.hideClass={}),M},cx=g=>{let C={popup:ye(),container:st(),actions:wi(),confirmButton:gt(),denyButton:Dt(),cancelButton:wn(),loader:ce(),closeButton:$r(),validationMessage:Zi(),progressSteps:Xn()};return at.domCache.set(g,C),C},ux=(g,C,b)=>{let M=br();wt(M),C.timer&&(g.timeout=new _i(()=>{b("timer"),delete g.timeout},C.timer),C.timerProgressBar&&(Ot(M),Ee(M,C,"timerProgressBar"),setTimeout(()=>{g.timeout&&g.timeout.running&&rt(C.timer)})))},dx=(g,C)=>{if(!C.toast){if(!q(C.allowEnterKey)){De("allowEnterKey"),px();return}fx(g)||hx(g,C)||no(-1,1)}},fx=g=>{let C=Array.from(g.popup.querySelectorAll("[autofocus]"));for(let b of C)if(b instanceof HTMLElement&&ln(b))return b.focus(),!0;return!1},hx=(g,C)=>C.focusDeny&&ln(g.denyButton)?(g.denyButton.focus(),!0):C.focusCancel&&ln(g.cancelButton)?(g.cancelButton.focus(),!0):C.focusConfirm&&ln(g.confirmButton)?(g.confirmButton.focus(),!0):!1,px=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let g=new Date,C=localStorage.getItem("swal-initiation");C?(g.getTime()-Date.parse(C))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let b=document.createElement("audio");b.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",b.loop=!0,document.body.appendChild(b),setTimeout(()=>{b.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${g}`)}Pt.prototype.disableButtons=Xr,Pt.prototype.enableButtons=Wl,Pt.prototype.getInput=es,Pt.prototype.disableInput=ql,Pt.prototype.enableInput=ts,Pt.prototype.hideLoading=Di,Pt.prototype.disableLoading=Di,Pt.prototype.showValidationMessage=Ai,Pt.prototype.resetValidationMessage=Yl,Pt.prototype.close=Tr,Pt.prototype.closePopup=Tr,Pt.prototype.closeModal=Tr,Pt.prototype.closeToast=Tr,Pt.prototype.rejectPromise=Bl,Pt.prototype.update=is,Pt.prototype._destroy=Ge,Object.assign(Pt,Si),Object.keys(o).forEach(g=>{Pt[g]=function(){return Nr&&Nr[g]?Nr[g](...arguments):null}}),Pt.DismissReason=bi,Pt.version="11.17.2";let nc=Pt;return nc.default=nc,nc});typeof Vr<"u"&&Vr.Sweetalert2&&(Vr.swal=Vr.sweetAlert=Vr.Swal=Vr.SweetAlert=Vr.Sweetalert2);typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var yC=E0((_d,mC)=>{"use strict";(function(e,t){typeof _d=="object"&&typeof mC<"u"?t(_d):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ZXing={}))})(_d,function(e){"use strict";function t(w){return w==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,i){w.__proto__=i}||function(w,i){for(var o in i)i.hasOwnProperty(o)&&(w[o]=i[o])};function r(w,i){n(w,i);function o(){this.constructor=w}w.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function a(w,i){var o=Object.setPrototypeOf;o?o(w,i):w.__proto__=i}function u(w,i){i===void 0&&(i=w.constructor);var o=Error.captureStackTrace;o&&o(w,i)}var f=function(w){r(i,w);function i(o){var s=this.constructor,l=w.call(this,o)||this;return Object.defineProperty(l,"name",{value:s.name,enumerable:!1}),a(l,s.prototype),u(l),l}return i}(Error);let m=(()=>{class w extends f{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}return w.kind="Exception",w})(),x=(()=>{class w extends m{}return w.kind="ArgumentException",w})(),v=(()=>{class w extends m{}return w.kind="IllegalArgumentException",w})();class A{constructor(i){if(this.binarizer=i,i===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,s,l){let c=this.binarizer.getLuminanceSource().crop(i,o,s,l);return new A(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){let i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let D=(()=>{class w extends m{static getChecksumInstance(){return new w}}return w.kind="ChecksumException",w})();class U{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(i,o,s,l,c){for(;c--;)s[l++]=i[o++]}static currentTimeMillis(){return Date.now()}}let G=(()=>{class w extends m{}return w.kind="IndexOutOfBoundsException",w})(),Z=(()=>{class w extends G{constructor(o=void 0,s=void 0){super(s),this.index=o,this.message=s}}return w.kind="ArrayIndexOutOfBoundsException",w})();class W{static fill(i,o){for(let s=0,l=i.length;s<l;s++)i[s]=o}static fillWithin(i,o,s,l){W.rangeCheck(i.length,o,s);for(let c=o;c<s;c++)i[c]=l}static rangeCheck(i,o,s){if(o>s)throw new v("fromIndex("+o+") > toIndex("+s+")");if(o<0)throw new Z(o);if(s>i)throw new Z(s)}static asList(...i){return i}static create(i,o,s){return Array.from({length:i}).map(c=>Array.from({length:o}).fill(s))}static createInt32Array(i,o,s){return Array.from({length:i}).map(c=>Int32Array.from({length:o}).fill(s))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let s=0,l=i.length;s<l;s++)if(i[s]!==o[s])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(let s of i)o=31*o+s;return o}static fillUint8Array(i,o){for(let s=0;s!==i.length;s++)i[s]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){let s=new Uint8Array(o);return s.set(i),s}return i.slice(0,o)}static copyOfRange(i,o,s){let l=s-o,c=new Int32Array(l);return R.arraycopy(i,o,c,0,l),c}static binarySearch(i,o,s){s===void 0&&(s=W.numberComparator);let l=0,c=i.length-1;for(;l<=c;){let d=c+l>>1,h=s(o,i[d]);if(h>0)l=d+1;else if(h<0)c=d-1;else return d}return-l-1}static numberComparator(i,o){return i-o}}class X{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let s=31;return o=i<<16,o!==0&&(s-=16,i=o),o=i<<8,o!==0&&(s-=8,i=o),o=i<<4,o!==0&&(s-=4,i=o),o=i<<2,o!==0&&(s-=2,i=o),s-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}X.MIN_VALUE_32_BITS=-2147483648,X.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=ge.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){let o=ge.makeArray(i);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){let o=this.size;if(i>=o)return o;let s=this.bits,l=Math.floor(i/32),c=s[l];c&=~((1<<(i&31))-1);let d=s.length;for(;c===0;){if(++l===d)return o;c=s[l]}let h=l*32+X.numberOfTrailingZeros(c);return h>o?o:h}getNextUnset(i){let o=this.size;if(i>=o)return o;let s=this.bits,l=Math.floor(i/32),c=~s[l];c&=~((1<<(i&31))-1);let d=s.length;for(;c===0;){if(++l===d)return o;c=~s[l]}let h=l*32+X.numberOfTrailingZeros(c);return h>o?o:h}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new v;if(o===i)return;o--;let s=Math.floor(i/32),l=Math.floor(o/32),c=this.bits;for(let d=s;d<=l;d++){let h=d>s?0:i&31,y=(2<<(d<l?31:o&31))-(1<<h);c[d]|=y}}clear(){let i=this.bits.length,o=this.bits;for(let s=0;s<i;s++)o[s]=0}isRange(i,o,s){if(o<i||i<0||o>this.size)throw new v;if(o===i)return!0;o--;let l=Math.floor(i/32),c=Math.floor(o/32),d=this.bits;for(let h=l;h<=c;h++){let p=h>l?0:i&31,E=(2<<(h<c?31:o&31))-(1<<p)&4294967295;if((d[h]&E)!==(s?E:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let s=o;s>0;s--)this.appendBit((i>>s-1&1)===1)}appendBitArray(i){let o=i.size;this.ensureCapacity(this.size+o);for(let s=0;s<o;s++)this.appendBit(i.get(s))}xor(i){if(this.size!==i.size)throw new v("Sizes don't match");let o=this.bits;for(let s=0,l=o.length;s<l;s++)o[s]^=i.bits[s]}toBytes(i,o,s,l){for(let c=0;c<l;c++){let d=0;for(let h=0;h<8;h++)this.get(i)&&(d|=1<<7-h),i++;o[s+c]=d}}getBitArray(){return this.bits}reverse(){let i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),s=o+1,l=this.bits;for(let c=0;c<s;c++){let d=l[c];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[o-c]=d}if(this.size!==s*32){let c=s*32-this.size,d=i[0]>>>c;for(let h=1;h<s;h++){let p=i[h];d|=p<<32-c,i[h-1]=d,d=p>>>c}i[s-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof ge))return!1;let o=i;return this.size===o.size&&W.equals(this.bits,o.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let i="";for(let o=0,s=this.size;o<s;o++)(o&7)===0&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new ge(this.size,this.bits.slice())}}var Ye=function(w){return w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",w}(Ye||{}),De=Ye;let q=(()=>{class w extends m{static getFormatInstance(){return new w}}return w.kind="FormatException",w})();var Te=function(w){return w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR",w}(Te||{});class K{constructor(i,o,s,...l){this.valueIdentifier=i,this.name=s,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=l,K.VALUE_IDENTIFIER_TO_ECI.set(i,this),K.NAME_TO_ECI.set(s,this);let c=this.values;for(let d=0,h=c.length;d!==h;d++){let p=c[d];K.VALUES_TO_ECI.set(p,this)}for(let d of l)K.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new q("incorect value");let o=K.VALUES_TO_ECI.get(i);if(o===void 0)throw new q("incorect value");return o}static getCharacterSetECIByName(i){let o=K.NAME_TO_ECI.get(i);if(o===void 0)throw new q("incorect value");return o}equals(i){if(!(i instanceof K))return!1;let o=i;return this.getName()===o.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Te.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Te.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Te.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Te.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Te.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Te.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Te.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Te.Big5,28,"Big5"),K.GB18030=new K(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Te.EUC_KR,30,"EUC_KR","EUC-KR");let zr=(()=>{class w extends m{}return w.kind="UnsupportedOperationException",w})();class st{static decode(i,o){let s=this.encodingName(o);return this.customDecoder?this.customDecoder(i,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(i,s):new TextDecoder(s).decode(i)}static shouldDecodeOnFallback(i){return!st.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){let s=this.encodingName(o);return this.customEncoder?this.customEncoder(i,s):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof K?i:K.getCharacterSetECIByName(i)}static decodeFallback(i,o){let s=this.encodingCharacterSet(o);if(st.isDecodeFallbackSupported(s)){let l="";for(let c=0,d=i.length;c<d;c++){let h=i[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(s.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new zr(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(K.UTF8)||i.equals(K.ISO8859_1)||i.equals(K.ASCII)}static encodeFallback(i){let s=btoa(unescape(encodeURIComponent(i))).split(""),l=[];for(let c=0;c<s.length;c++)l.push(s[c].charCodeAt(0));return new Uint8Array(l)}}class me{static castAsNonUtf8Char(i,o=null){let s=o?o.getName():this.ISO88591;return st.decode(new Uint8Array([i]),s)}static guessEncoding(i,o){if(o!=null&&o.get(De.CHARACTER_SET)!==void 0)return o.get(De.CHARACTER_SET).toString();let s=i.length,l=!0,c=!0,d=!0,h=0,p=0,y=0,E=0,I=0,S=0,T=0,N=0,O=0,k=0,P=0,Y=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let te=0;te<s&&(l||c||d);te++){let z=i[te]&255;d&&(h>0?(z&128)===0?d=!1:h--:(z&128)!==0&&((z&64)===0?d=!1:(h++,(z&32)===0?p++:(h++,(z&16)===0?y++:(h++,(z&8)===0?E++:d=!1))))),l&&(z>127&&z<160?l=!1:z>159&&(z<192||z===215||z===247)&&P++),c&&(I>0?z<64||z===127||z>252?c=!1:I--:z===128||z===160||z>239?c=!1:z>160&&z<224?(S++,N=0,T++,T>O&&(O=T)):z>127?(I++,T=0,N++,N>k&&(k=N)):(T=0,N=0))}return d&&h>0&&(d=!1),c&&I>0&&(c=!1),d&&(Y||p+y+E>0)?me.UTF8:c&&(me.ASSUME_SHIFT_JIS||O>=3||k>=3)?me.SHIFT_JIS:l&&c?O===2&&S===2||P*10>=s?me.SHIFT_JIS:me.ISO88591:l?me.ISO88591:c?me.SHIFT_JIS:d?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let s=-1;function l(d,h,p,y,E,I){if(d==="%%")return"%";if(o[++s]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let S=E?parseInt(E.substr(1)):void 0,T;switch(I){case"s":T=o[s];break;case"c":T=o[s][0];break;case"f":T=parseFloat(o[s]).toFixed(d);break;case"p":T=parseFloat(o[s]).toPrecision(d);break;case"e":T=parseFloat(o[s]).toExponential(d);break;case"x":T=parseInt(o[s]).toString(S||16);break;case"d":T=parseFloat(parseInt(o[s],S||10).toPrecision(d)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let N=parseInt(p),O=p&&p[0]+""=="0"?"0":" ";for(;T.length<N;)T=h!==void 0?T+O:O+T;return T}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(c,l)}static getBytes(i,o){return st.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}me.SHIFT_JIS=K.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=K.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=K.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class Me{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=me.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,s){for(let l=o;o<o+s;l++)this.append(i[l]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class ye{constructor(i,o,s,l){if(this.width=i,this.height=o,this.rowSize=s,this.bits=l,o==null&&(o=i),this.height=o,i<1||o<1)throw new v("Both dimensions must be greater than 0");s==null&&(s=Math.floor((i+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){let o=i.length,s=i[0].length,l=new ye(s,o);for(let c=0;c<o;c++){let d=i[c];for(let h=0;h<s;h++)d[h]&&l.set(h,c)}return l}static parseFromString(i,o,s){if(i===null)throw new v("stringRepresentation cannot be null");let l=new Array(i.length),c=0,d=0,h=-1,p=0,y=0;for(;y<i.length;)if(i.charAt(y)===`
`||i.charAt(y)==="\r"){if(c>d){if(h===-1)h=c-d;else if(c-d!==h)throw new v("row lengths do not match");d=c,p++}y++}else if(i.substring(y,y+o.length)===o)y+=o.length,l[c]=!0,c++;else if(i.substring(y,y+s.length)===s)y+=s.length,l[c]=!1,c++;else throw new v("illegal character encountered: "+i.substring(y));if(c>d){if(h===-1)h=c-d;else if(c-d!==h)throw new v("row lengths do not match");p++}let E=new ye(h,p);for(let I=0;I<c;I++)l[I]&&E.set(Math.floor(I%h),Math.floor(I/h));return E}get(i,o){let s=o*this.rowSize+Math.floor(i/32);return(this.bits[s]>>>(i&31)&1)!==0}set(i,o){let s=o*this.rowSize+Math.floor(i/32);this.bits[s]|=1<<(i&31)&4294967295}unset(i,o){let s=o*this.rowSize+Math.floor(i/32);this.bits[s]&=~(1<<(i&31)&4294967295)}flip(i,o){let s=o*this.rowSize+Math.floor(i/32);this.bits[s]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new v("input matrix dimensions do not match");let o=new ge(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits;for(let c=0,d=this.height;c<d;c++){let h=c*s,p=i.getRow(c,o).getBitArray();for(let y=0;y<s;y++)l[h+y]^=p[y]}}clear(){let i=this.bits,o=i.length;for(let s=0;s<o;s++)i[s]=0}setRegion(i,o,s,l){if(o<0||i<0)throw new v("Left and top must be nonnegative");if(l<1||s<1)throw new v("Height and width must be at least 1");let c=i+s,d=o+l;if(d>this.height||c>this.width)throw new v("The region must fit inside the matrix");let h=this.rowSize,p=this.bits;for(let y=o;y<d;y++){let E=y*h;for(let I=i;I<c;I++)p[E+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new ge(this.width):o.clear();let s=this.rowSize,l=this.bits,c=i*s;for(let d=0;d<s;d++)o.setBulk(d*32,l[c+d]);return o}setRow(i,o){R.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){let i=this.getWidth(),o=this.getHeight(),s=new ge(i),l=new ge(i);for(let c=0,d=Math.floor((o+1)/2);c<d;c++)s=this.getRow(c,s),l=this.getRow(o-1-c,l),s.reverse(),l.reverse(),this.setRow(c,l),this.setRow(o-1-c,s)}getEnclosingRectangle(){let i=this.width,o=this.height,s=this.rowSize,l=this.bits,c=i,d=o,h=-1,p=-1;for(let y=0;y<o;y++)for(let E=0;E<s;E++){let I=l[y*s+E];if(I!==0){if(y<d&&(d=y),y>p&&(p=y),E*32<c){let S=0;for(;(I<<31-S&4294967295)===0;)S++;E*32+S<c&&(c=E*32+S)}if(E*32+31>h){let S=31;for(;!(I>>>S);)S--;E*32+S>h&&(h=E*32+S)}}}return h<c||p<d?null:Int32Array.from([c,d,h-c+1,p-d+1])}getTopLeftOnBit(){let i=this.rowSize,o=this.bits,s=0;for(;s<o.length&&o[s]===0;)s++;if(s===o.length)return null;let l=s/i,c=s%i*32,d=o[s],h=0;for(;(d<<31-h&4294967295)===0;)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){let i=this.rowSize,o=this.bits,s=o.length-1;for(;s>=0&&o[s]===0;)s--;if(s<0)return null;let l=Math.floor(s/i),c=Math.floor(s%i)*32,d=o[s],h=31;for(;!(d>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ye))return!1;let o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&W.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+W.hashCode(this.bits),i}toString(i="X ",o="  ",s=`
`){return this.buildToString(i,o,s)}buildToString(i,o,s){let l=new Me;for(let c=0,d=this.height;c<d;c++){for(let h=0,p=this.width;h<p;h++)l.append(this.get(h,c)?i:o);l.append(s)}return l.toString()}clone(){return new ye(this.width,this.height,this.rowSize,this.bits.slice())}}let H=(()=>{class w extends m{static getNotFoundInstance(){return new w}}return w.kind="NotFoundException",w})();class Lt extends U{constructor(i){super(i),this.luminances=Lt.EMPTY,this.buckets=new Int32Array(Lt.LUMINANCE_BUCKETS)}getBlackRow(i,o){let s=this.getLuminanceSource(),l=s.getWidth();o==null||o.getSize()<l?o=new ge(l):o.clear(),this.initArrays(l);let c=s.getRow(i,this.luminances),d=this.buckets;for(let p=0;p<l;p++)d[(c[p]&255)>>Lt.LUMINANCE_SHIFT]++;let h=Lt.estimateBlackPoint(d);if(l<3)for(let p=0;p<l;p++)(c[p]&255)<h&&o.set(p);else{let p=c[0]&255,y=c[1]&255;for(let E=1;E<l-1;E++){let I=c[E+1]&255;(y*4-p-I)/2<h&&o.set(E),p=y,y=I}}return o}getBlackMatrix(){let i=this.getLuminanceSource(),o=i.getWidth(),s=i.getHeight(),l=new ye(o,s);this.initArrays(o);let c=this.buckets;for(let p=1;p<5;p++){let y=Math.floor(s*p/5),E=i.getRow(y,this.luminances),I=Math.floor(o*4/5);for(let S=Math.floor(o/5);S<I;S++){let T=E[S]&255;c[T>>Lt.LUMINANCE_SHIFT]++}}let d=Lt.estimateBlackPoint(c),h=i.getMatrix();for(let p=0;p<s;p++){let y=p*o;for(let E=0;E<o;E++)(h[y+E]&255)<d&&l.set(E,p)}return l}createBinarizer(i){return new Lt(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));let o=this.buckets;for(let s=0;s<Lt.LUMINANCE_BUCKETS;s++)o[s]=0}static estimateBlackPoint(i){let o=i.length,s=0,l=0,c=0;for(let E=0;E<o;E++)i[E]>c&&(l=E,c=i[E]),i[E]>s&&(s=i[E]);let d=0,h=0;for(let E=0;E<o;E++){let I=E-l,S=i[E]*I*I;S>h&&(d=E,h=S)}if(l>d){let E=l;l=d,d=E}if(d-l<=o/16)throw new H;let p=d-1,y=-1;for(let E=d-1;E>l;E--){let I=E-l,S=I*I*(d-E)*(s-i[E]);S>y&&(p=E,y=S)}return p<<Lt.LUMINANCE_SHIFT}}Lt.LUMINANCE_BITS=5,Lt.LUMINANCE_SHIFT=8-Lt.LUMINANCE_BITS,Lt.LUMINANCE_BUCKETS=1<<Lt.LUMINANCE_BITS,Lt.EMPTY=Uint8ClampedArray.from([0]);class Ae extends Lt{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let i=this.getLuminanceSource(),o=i.getWidth(),s=i.getHeight();if(o>=Ae.MINIMUM_DIMENSION&&s>=Ae.MINIMUM_DIMENSION){let l=i.getMatrix(),c=o>>Ae.BLOCK_SIZE_POWER;(o&Ae.BLOCK_SIZE_MASK)!==0&&c++;let d=s>>Ae.BLOCK_SIZE_POWER;(s&Ae.BLOCK_SIZE_MASK)!==0&&d++;let h=Ae.calculateBlackPoints(l,c,d,o,s),p=new ye(o,s);Ae.calculateThresholdForBlock(l,c,d,o,s,h,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new Ae(i)}static calculateThresholdForBlock(i,o,s,l,c,d,h){let p=c-Ae.BLOCK_SIZE,y=l-Ae.BLOCK_SIZE;for(let E=0;E<s;E++){let I=E<<Ae.BLOCK_SIZE_POWER;I>p&&(I=p);let S=Ae.cap(E,2,s-3);for(let T=0;T<o;T++){let N=T<<Ae.BLOCK_SIZE_POWER;N>y&&(N=y);let O=Ae.cap(T,2,o-3),k=0;for(let Y=-2;Y<=2;Y++){let te=d[S+Y];k+=te[O-2]+te[O-1]+te[O]+te[O+1]+te[O+2]}let P=k/25;Ae.thresholdBlock(i,N,I,P,l,h)}}}static cap(i,o,s){return i<o?o:i>s?s:i}static thresholdBlock(i,o,s,l,c,d){for(let h=0,p=s*c+o;h<Ae.BLOCK_SIZE;h++,p+=c)for(let y=0;y<Ae.BLOCK_SIZE;y++)(i[p+y]&255)<=l&&d.set(o+y,s+h)}static calculateBlackPoints(i,o,s,l,c){let d=c-Ae.BLOCK_SIZE,h=l-Ae.BLOCK_SIZE,p=new Array(s);for(let y=0;y<s;y++){p[y]=new Int32Array(o);let E=y<<Ae.BLOCK_SIZE_POWER;E>d&&(E=d);for(let I=0;I<o;I++){let S=I<<Ae.BLOCK_SIZE_POWER;S>h&&(S=h);let T=0,N=255,O=0;for(let P=0,Y=E*l+S;P<Ae.BLOCK_SIZE;P++,Y+=l){for(let te=0;te<Ae.BLOCK_SIZE;te++){let z=i[Y+te]&255;T+=z,z<N&&(N=z),z>O&&(O=z)}if(O-N>Ae.MIN_DYNAMIC_RANGE)for(P++,Y+=l;P<Ae.BLOCK_SIZE;P++,Y+=l)for(let te=0;te<Ae.BLOCK_SIZE;te++)T+=i[Y+te]&255}let k=T>>Ae.BLOCK_SIZE_POWER*2;if(O-N<=Ae.MIN_DYNAMIC_RANGE&&(k=N/2,y>0&&I>0)){let P=(p[y-1][I]+2*p[y][I-1]+p[y-1][I-1])/4;N<P&&(k=P)}p[y][I]=k}}return p}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class Gr{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,s,l){throw new zr("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new zr("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new zr("This luminance source does not support rotation by 45 degrees.")}toString(){let i=new Uint8ClampedArray(this.width),o=new Me;for(let s=0;s<this.height;s++){let l=this.getRow(s,i);for(let c=0;c<this.width;c++){let d=l[c]&255,h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",o.append(h)}o.append(`
`)}return o.toString()}}class fr extends Gr{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){let s=this.delegate.getRow(i,o),l=this.getWidth();for(let c=0;c<l;c++)s[c]=255-(s[c]&255);return s}getMatrix(){let i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(o);for(let l=0;l<o;l++)s[l]=255-(i[l]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,s,l){return new fr(this.delegate.crop(i,o,s,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fr(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fr(this.delegate.rotateCounterClockwise45())}}class Xn extends Gr{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Xn.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){let o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Xn.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,s){let l=new Uint8ClampedArray(o*s);for(let c=0,d=0,h=i.length;c<h;c+=4,d++){let p;if(i[c+3]===0)p=255;else{let E=i[c],I=i[c+1],S=i[c+2];p=306*E+601*I+117*S+512>>10}l[d]=p}return l}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);let s=this.getWidth(),l=i*s;return o===null?o=this.buffer.slice(l,l+s):(o.length<s&&(o=new Uint8ClampedArray(s)),o.set(this.buffer.slice(l,l+s))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,s,l){return super.crop(i,o,s,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){let o=this.getTempCanvasElement(),s=o.getContext("2d"),l=i*Xn.DEGREE_TO_RADIANS,c=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*d),p=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*d);return o.width=h,o.height=p,s.translate(h/2,p/2),s.rotate(l),s.drawImage(this.canvas,c/-2,d/-2),this.buffer=Xn.makeBufferFromCanvasImageData(o),this}invert(){return new fr(this)}}Xn.DEGREE_TO_RADIANS=Math.PI/180;class Zi{constructor(i,o,s){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var gt=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(w,i,o,s){function l(c){return c instanceof o?c:new o(function(d){d(c)})}return new(o||(o=Promise))(function(c,d){function h(E){try{y(s.next(E))}catch(I){d(I)}}function p(E){try{y(s.throw(E))}catch(I){d(I)}}function y(E){E.done?c(E.value):l(E.value).then(h,p)}y((s=s.apply(w,i||[])).next())})};class wn{constructor(i,o=500,s){this.reader=i,this.timeBetweenScansMillis=o,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return gt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(let s of i){let l=s.kind==="video"?"videoinput":s.kind;if(l!=="videoinput")continue;let c=s.deviceId||s.id,d=s.label||`Video device ${o.length+1}`,h=s.groupId,p={deviceId:c,label:d,kind:l,groupId:h};o.push(p)}return o})}getVideoInputDevices(){return gt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Zi(o.deviceId,o.label))})}findDeviceById(i){return gt(this,void 0,void 0,function*(){let o=yield this.listVideoInputDevices();return o?o.find(s=>s.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return gt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return gt(this,void 0,void 0,function*(){this.reset();let s;i?s={deviceId:{exact:i}}:s={facingMode:"environment"};let l={video:s};return yield this.decodeOnceFromConstraints(l,o)})}decodeOnceFromConstraints(i,o){return gt(this,void 0,void 0,function*(){let s=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(s,o)})}decodeOnceFromStream(i,o){return gt(this,void 0,void 0,function*(){this.reset();let s=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(i,o,s){return gt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,s)})}decodeFromVideoDevice(i,o,s){return gt(this,void 0,void 0,function*(){let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};let c={video:l};return yield this.decodeFromConstraints(c,o,s)})}decodeFromConstraints(i,o,s){return gt(this,void 0,void 0,function*(){let l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(l,o,s)})}decodeFromStream(i,o,s){return gt(this,void 0,void 0,function*(){this.reset();let l=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(l,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return gt(this,void 0,void 0,function*(){let s=this.prepareVideoElement(o);return this.addVideoSource(s,i),this.videoElement=s,this.stream=i,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(i){return new Promise((o,s)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return gt(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){let s=document.getElementById(i);if(!s)throw new x(`element with id '${i}' not found`);if(s.nodeName.toLowerCase()!==o.toLowerCase())throw new x(`element with id '${i}' must be an ${o} element`);return s}decodeFromImage(i,o){if(!i&&!o)throw new x("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new x("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,s){if(i===void 0&&o===void 0)throw new x("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,s):this.decodeFromVideoElementContinuously(i,s)}decodeFromImageElement(i){if(!i)throw new x("An image element must be provided.");this.reset();let o=this.prepareImageElement(i);this.imageElement=o;let s;return this.isImageLoaded(o)?s=this.decodeOnce(o,!1,!0):s=this._decodeOnLoadImage(o),s}decodeFromVideoElement(i){let o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){let s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(s,o)}_decodeFromVideoElementSetup(i){if(!i)throw new x("A video element must be provided.");this.reset();let o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();let o=this.prepareImageElement();this.imageElement=o;let s=this._decodeOnLoadImage(o);return o.src=i,s}decodeFromVideoUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();let o=this.prepareVideoElement(),s=this.decodeFromVideoElement(o);return o.src=i,s}decodeFromVideoUrlContinuously(i,o){if(!i)throw new x("An URL must be provided.");this.reset();let s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,o);return s.src=i,l}_decodeOnLoadImage(i){return new Promise((o,s)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,s),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return gt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return gt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,s=!0){this._stopAsyncDecode=!1;let l=(c,d)=>{if(this._stopAsyncDecode){d(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let h=this.decode(i);c(h)}catch(h){let p=o&&h instanceof H,E=(h instanceof D||h instanceof q)&&s;if(p||E)return setTimeout(l,this._timeBetweenDecodingAttempts,c,d);d(h)}};return new Promise((c,d)=>l(c,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;let s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let l=this.decode(i);o(l,null),setTimeout(s,this.timeBetweenScansMillis)}catch(l){o(null,l);let c=l instanceof D||l instanceof q,d=l instanceof H;(c||d)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(i){let o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,s){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,s=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){let o=this.getCaptureCanvasContext(i);this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);let s=this.getCaptureCanvas(i),l=new Xn(s),c=new Ae(l);return new A(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){let s=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){let o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let o=document.createElement("canvas"),s,l;return typeof i<"u"&&(i instanceof HTMLVideoElement?(s=i.videoWidth,l=i.videoHeight):i instanceof HTMLImageElement&&(s=i.naturalWidth||i.width,l=i.naturalHeight||i.height)),o.style.width=s+"px",o.style.height=l+"px",o.width=s,o.height=l,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Dt{constructor(i,o,s=o==null?0:8*o.length,l,c,d=R.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=s,this.resultPoints=l,this.format=c,this.timestamp=d,this.text=i,this.rawBytes=o,s==null?this.numBits=o==null?0:8*o.length:this.numBits=s,this.resultPoints=l,this.format=c,this.resultMetadata=null,d==null?this.timestamp=R.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){let o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){let s=new Array(o.length+i.length);R.arraycopy(o,0,s,0,o.length),R.arraycopy(i,0,s,o.length,i.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Il=function(w){return w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",w}(Il||{}),ce=Il,wi=function(w){return w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",w}(wi||{}),Rt=wi;class br{constructor(i,o,s,l,c=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $r{exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class an{constructor(i,o){if(o.length===0)throw new v;this.field=i;let s=o.length;if(s>1&&o[0]===0){let l=1;for(;l<s&&o[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),R.arraycopy(o,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);let o=this.coefficients,s;if(i===1){s=0;for(let d=0,h=o.length;d!==h;d++){let p=o[d];s=$r.addOrSubtract(s,p)}return s}s=o[0];let l=o.length,c=this.field;for(let d=1;d<l;d++)s=$r.addOrSubtract(c.multiply(i,s),o[d]);return s}addOrSubtract(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,s=i.coefficients;if(o.length>s.length){let d=o;o=s,s=d}let l=new Int32Array(s.length),c=s.length-o.length;R.arraycopy(s,0,l,0,c);for(let d=c;d<s.length;d++)l[d]=$r.addOrSubtract(o[d-c],s[d]);return new an(this.field,l)}multiply(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();let o=this.coefficients,s=o.length,l=i.coefficients,c=l.length,d=new Int32Array(s+c-1),h=this.field;for(let p=0;p<s;p++){let y=o[p];for(let E=0;E<c;E++)d[p+E]=$r.addOrSubtract(d[p+E],h.multiply(y,l[E]))}return new an(h,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;let o=this.coefficients.length,s=this.field,l=new Int32Array(o),c=this.coefficients;for(let d=0;d<o;d++)l[d]=s.multiply(c[d],i);return new an(s,l)}multiplyByMonomial(i,o){if(i<0)throw new v;if(o===0)return this.field.getZero();let s=this.coefficients,l=s.length,c=new Int32Array(l+i),d=this.field;for(let h=0;h<l;h++)c[h]=d.multiply(s[h],o);return new an(d,c)}divide(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new v("Divide by 0");let o=this.field,s=o.getZero(),l=this,c=i.getCoefficient(i.getDegree()),d=o.inverse(c);for(;l.getDegree()>=i.getDegree()&&!l.isZero();){let h=l.getDegree()-i.getDegree(),p=o.multiply(l.getCoefficient(l.getDegree()),d),y=i.multiplyByMonomial(h,p),E=o.buildMonomial(h,p);s=s.addOrSubtract(E),l=l.addOrSubtract(y)}return[s,l]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let s=this.getCoefficient(o);if(s!==0){if(s<0?(i+=" - ",s=-s):i.length>0&&(i+=" + "),o===0||s!==1){let l=this.field.log(s);l===0?i+="1":l===1?i+="a":(i+="a^",i+=l)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}let Xi=(()=>{class w extends m{}return w.kind="ArithmeticException",w})();class Ze extends $r{constructor(i,o,s){super(),this.primitive=i,this.size=o,this.generatorBase=s;let l=new Int32Array(o),c=1;for(let h=0;h<o;h++)l[h]=c,c*=2,c>=o&&(c^=i,c&=o-1);this.expTable=l;let d=new Int32Array(o);for(let h=0;h<o-1;h++)d[l[h]]=h;this.logTable=d,this.zero=new an(this,Int32Array.from([0])),this.one=new an(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new v;if(o===0)return this.zero;let s=new Int32Array(i+1);return s[0]=o,new an(this,s)}inverse(i){if(i===0)throw new Xi;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Ze.AZTEC_DATA_12=new Ze(4201,4096,1),Ze.AZTEC_DATA_10=new Ze(1033,1024,1),Ze.AZTEC_DATA_6=new Ze(67,64,1),Ze.AZTEC_PARAM=new Ze(19,16,1),Ze.QR_CODE_FIELD_256=new Ze(285,256,0),Ze.DATA_MATRIX_FIELD_256=new Ze(301,256,1),Ze.AZTEC_DATA_8=Ze.DATA_MATRIX_FIELD_256,Ze.MAXICODE_FIELD_64=Ze.AZTEC_DATA_6;let Ir=(()=>{class w extends m{}return w.kind="ReedSolomonException",w})(),hr=(()=>{class w extends m{}return w.kind="IllegalStateException",w})();class Ht{constructor(i){this.field=i}decode(i,o){let s=this.field,l=new an(s,i),c=new Int32Array(o),d=!0;for(let T=0;T<o;T++){let N=l.evaluateAt(s.exp(T+s.getGeneratorBase()));c[c.length-1-T]=N,N!==0&&(d=!1)}if(d)return;let h=new an(s,c),p=this.runEuclideanAlgorithm(s.buildMonomial(o,1),h,o),y=p[0],E=p[1],I=this.findErrorLocations(y),S=this.findErrorMagnitudes(E,I);for(let T=0;T<I.length;T++){let N=i.length-1-s.log(I[T]);if(N<0)throw new Ir("Bad error location");i[N]=Ze.addOrSubtract(i[N],S[T])}}runEuclideanAlgorithm(i,o,s){if(i.getDegree()<o.getDegree()){let T=i;i=o,o=T}let l=this.field,c=i,d=o,h=l.getZero(),p=l.getOne();for(;d.getDegree()>=(s/2|0);){let T=c,N=h;if(c=d,h=p,c.isZero())throw new Ir("r_{i-1} was zero");d=T;let O=l.getZero(),k=c.getCoefficient(c.getDegree()),P=l.inverse(k);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let Y=d.getDegree()-c.getDegree(),te=l.multiply(d.getCoefficient(d.getDegree()),P);O=O.addOrSubtract(l.buildMonomial(Y,te)),d=d.addOrSubtract(c.multiplyByMonomial(Y,te))}if(p=O.multiply(h).addOrSubtract(N),d.getDegree()>=c.getDegree())throw new hr("Division algorithm failed to reduce polynomial?")}let y=p.getCoefficient(0);if(y===0)throw new Ir("sigmaTilde(0) was zero");let E=l.inverse(y),I=p.multiplyScalar(E),S=d.multiplyScalar(E);return[I,S]}findErrorLocations(i){let o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);let s=new Int32Array(o),l=0,c=this.field;for(let d=1;d<c.getSize()&&l<o;d++)i.evaluateAt(d)===0&&(s[l]=c.inverse(d),l++);if(l!==o)throw new Ir("Error locator degree does not match number of roots");return s}findErrorMagnitudes(i,o){let s=o.length,l=new Int32Array(s),c=this.field;for(let d=0;d<s;d++){let h=c.inverse(o[d]),p=1;for(let y=0;y<s;y++)if(d!==y){let E=c.multiply(o[y],h),I=(E&1)===0?E|1:E&-2;p=c.multiply(p,I)}l[d]=c.multiply(i.evaluateAt(h),c.inverse(p)),c.getGeneratorBase()!==0&&(l[d]=c.multiply(l[d],h))}return l}}var mt=function(w){return w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY",w}(mt||{});let ea=(()=>{class w{decode(o){this.ddata=o;let s=o.getBits(),l=this.extractBits(s),c=this.correctBits(l),d=w.convertBoolArrayToByteArray(c),h=w.getEncodedData(c),p=new br(d,h,null,null);return p.setNumBits(c.length),p}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let s=o.length,l=mt.UPPER,c=mt.UPPER,d="",h=0;for(;h<s;)if(c===mt.BINARY){if(s-h<5)break;let p=w.readCode(o,h,5);if(h+=5,p===0){if(s-h<11)break;p=w.readCode(o,h,11)+31,h+=11}for(let y=0;y<p;y++){if(s-h<8){h=s;break}let E=w.readCode(o,h,8);d+=me.castAsNonUtf8Char(E),h+=8}c=l}else{let p=c===mt.DIGIT?4:5;if(s-h<p)break;let y=w.readCode(o,h,p);h+=p;let E=w.getCharacter(c,y);E.startsWith("CTRL_")?(l=c,c=w.getTable(E.charAt(5)),E.charAt(6)==="L"&&(l=c)):(d+=E,c=l)}return d}static getTable(o){switch(o){case"L":return mt.LOWER;case"P":return mt.PUNCT;case"M":return mt.MIXED;case"D":return mt.DIGIT;case"B":return mt.BINARY;case"U":default:return mt.UPPER}}static getCharacter(o,s){switch(o){case mt.UPPER:return w.UPPER_TABLE[s];case mt.LOWER:return w.LOWER_TABLE[s];case mt.MIXED:return w.MIXED_TABLE[s];case mt.PUNCT:return w.PUNCT_TABLE[s];case mt.DIGIT:return w.DIGIT_TABLE[s];default:throw new hr("Bad table")}}correctBits(o){let s,l;this.ddata.getNbLayers()<=2?(l=6,s=Ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,s=Ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,s=Ze.AZTEC_DATA_10):(l=12,s=Ze.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=o.length/l;if(d<c)throw new q;let h=o.length%l,p=new Int32Array(d);for(let T=0;T<d;T++,h+=l)p[T]=w.readCode(o,h,l);try{new Ht(s).decode(p,d-c)}catch(T){throw new q(T)}let y=(1<<l)-1,E=0;for(let T=0;T<c;T++){let N=p[T];if(N===0||N===y)throw new q;(N===1||N===y-1)&&E++}let I=new Array(c*l-E),S=0;for(let T=0;T<c;T++){let N=p[T];if(N===1||N===y-1)I.fill(N>1,S,S+l-1),S+=l-1;else for(let O=l-1;O>=0;--O)I[S++]=(N&1<<O)!==0}return I}extractBits(o){let s=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(s?11:14)+l*4,d=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,s));if(s)for(let p=0;p<d.length;p++)d[p]=p;else{let p=c+1+2*X.truncDivision(X.truncDivision(c,2)-1,15),y=c/2,E=X.truncDivision(p,2);for(let I=0;I<y;I++){let S=I+X.truncDivision(I,15);d[y-I-1]=E-S-1,d[y+I]=E+S+1}}for(let p=0,y=0;p<l;p++){let E=(l-p)*4+(s?9:12),I=p*2,S=c-1-I;for(let T=0;T<E;T++){let N=T*2;for(let O=0;O<2;O++)h[y+N+O]=o.get(d[I+O],d[I+T]),h[y+2*E+N+O]=o.get(d[I+T],d[S-O]),h[y+4*E+N+O]=o.get(d[S-O],d[S-T]),h[y+6*E+N+O]=o.get(d[S-T],d[I+O])}y+=E*8}return h}static readCode(o,s,l){let c=0;for(let d=s;d<s+l;d++)c<<=1,o[d]&&(c|=1);return c}static readByte(o,s){let l=o.length-s;return l>=8?w.readCode(o,s,8):w.readCode(o,s,l)<<8-l}static convertBoolArrayToByteArray(o){let s=new Uint8Array((o.length+7)/8);for(let l=0;l<s.length;l++)s[l]=w.readByte(o,8*l);return s}totalBitsInLayer(o,s){return((s?88:112)+16*o)*o}}return w.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],w.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],w.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],w.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],w.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],w})();class Ee{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,s,l){let c=i-s,d=o-l;return Math.sqrt(c*c+d*d)}static sum(i){let o=0;for(let s=0,l=i.length;s!==l;s++){let c=i[s];o+=c}return o}}class Wr{static floatToIntBits(i){return i}}Wr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ae{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof ae){let o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Wr.floatToIntBits(this.x)+Wr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){let o=this.distance(i[0],i[1]),s=this.distance(i[1],i[2]),l=this.distance(i[0],i[2]),c,d,h;if(s>=o&&s>=l?(d=i[0],c=i[1],h=i[2]):l>=s&&l>=o?(d=i[1],c=i[0],h=i[2]):(d=i[2],c=i[0],h=i[1]),this.crossProductZ(c,d,h)<0){let p=c;c=h,h=p}i[0]=c,i[1]=d,i[2]=h}static distance(i,o){return Ee.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,s){let l=o.x,c=o.y;return(s.x-l)*(i.y-c)-(s.y-c)*(i.x-l)}}class Qi{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class He extends Qi{constructor(i,o,s,l,c){super(i,o),this.compact=s,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let nn=(()=>{class w{constructor(o,s,l,c){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),s==null&&(s=w.INIT_SIZE),l==null&&(l=o.getWidth()/2|0),c==null&&(c=o.getHeight()/2|0);let d=s/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let o=this.leftInit,s=this.rightInit,l=this.upInit,c=this.downInit,d=!1,h=!0,p=!1,y=!1,E=!1,I=!1,S=!1,T=this.width,N=this.height;for(;h;){h=!1;let O=!0;for(;(O||!y)&&s<T;)O=this.containsBlackPoint(l,c,s,!1),O?(s++,h=!0,y=!0):y||s++;if(s>=T){d=!0;break}let k=!0;for(;(k||!E)&&c<N;)k=this.containsBlackPoint(o,s,c,!0),k?(c++,h=!0,E=!0):E||c++;if(c>=N){d=!0;break}let P=!0;for(;(P||!I)&&o>=0;)P=this.containsBlackPoint(l,c,o,!1),P?(o--,h=!0,I=!0):I||o--;if(o<0){d=!0;break}let Y=!0;for(;(Y||!S)&&l>=0;)Y=this.containsBlackPoint(o,s,l,!0),Y?(l--,h=!0,S=!0):S||l--;if(l<0){d=!0;break}h&&(p=!0)}if(!d&&p){let O=s-o,k=null;for(let z=1;k===null&&z<O;z++)k=this.getBlackPointOnSegment(o,c-z,o+z,c);if(k==null)throw new H;let P=null;for(let z=1;P===null&&z<O;z++)P=this.getBlackPointOnSegment(o,l+z,o+z,l);if(P==null)throw new H;let Y=null;for(let z=1;Y===null&&z<O;z++)Y=this.getBlackPointOnSegment(s,l+z,s-z,l);if(Y==null)throw new H;let te=null;for(let z=1;te===null&&z<O;z++)te=this.getBlackPointOnSegment(s,c-z,s-z,c);if(te==null)throw new H;return this.centerEdges(te,k,Y,P)}else throw new H}getBlackPointOnSegment(o,s,l,c){let d=Ee.round(Ee.distance(o,s,l,c)),h=(l-o)/d,p=(c-s)/d,y=this.image;for(let E=0;E<d;E++){let I=Ee.round(o+E*h),S=Ee.round(s+E*p);if(y.get(I,S))return new ae(I,S)}return null}centerEdges(o,s,l,c){let d=o.getX(),h=o.getY(),p=s.getX(),y=s.getY(),E=l.getX(),I=l.getY(),S=c.getX(),T=c.getY(),N=w.CORR;return d<this.width/2?[new ae(S-N,T+N),new ae(p+N,y+N),new ae(E-N,I-N),new ae(d+N,h-N)]:[new ae(S+N,T+N),new ae(p+N,y-N),new ae(E-N,I+N),new ae(d-N,h-N)]}containsBlackPoint(o,s,l,c){let d=this.image;if(c){for(let h=o;h<=s;h++)if(d.get(h,l))return!0}else for(let h=o;h<=s;h++)if(d.get(l,h))return!0;return!1}}return w.INIT_SIZE=10,w.CORR=1,w})();class Qn{static checkAndNudgePoints(i,o){let s=i.getWidth(),l=i.getHeight(),c=!0;for(let d=0;d<o.length&&c;d+=2){let h=Math.floor(o[d]),p=Math.floor(o[d+1]);if(h<-1||h>s||p<-1||p>l)throw new H;c=!1,h===-1?(o[d]=0,c=!0):h===s&&(o[d]=s-1,c=!0),p===-1?(o[d+1]=0,c=!0):p===l&&(o[d+1]=l-1,c=!0)}c=!0;for(let d=o.length-2;d>=0&&c;d-=2){let h=Math.floor(o[d]),p=Math.floor(o[d+1]);if(h<-1||h>s||p<-1||p>l)throw new H;c=!1,h===-1?(o[d]=0,c=!0):h===s&&(o[d]=s-1,c=!0),p===-1?(o[d+1]=0,c=!0):p===l&&(o[d+1]=l-1,c=!0)}}}class zt{constructor(i,o,s,l,c,d,h,p,y){this.a11=i,this.a21=o,this.a31=s,this.a12=l,this.a22=c,this.a32=d,this.a13=h,this.a23=p,this.a33=y}static quadrilateralToQuadrilateral(i,o,s,l,c,d,h,p,y,E,I,S,T,N,O,k){let P=zt.quadrilateralToSquare(i,o,s,l,c,d,h,p);return zt.squareToQuadrilateral(y,E,I,S,T,N,O,k).times(P)}transformPoints(i){let o=i.length,s=this.a11,l=this.a12,c=this.a13,d=this.a21,h=this.a22,p=this.a23,y=this.a31,E=this.a32,I=this.a33;for(let S=0;S<o;S+=2){let T=i[S],N=i[S+1],O=c*T+p*N+I;i[S]=(s*T+d*N+y)/O,i[S+1]=(l*T+h*N+E)/O}}transformPointsWithValues(i,o){let s=this.a11,l=this.a12,c=this.a13,d=this.a21,h=this.a22,p=this.a23,y=this.a31,E=this.a32,I=this.a33,S=i.length;for(let T=0;T<S;T++){let N=i[T],O=o[T],k=c*N+p*O+I;i[T]=(s*N+d*O+y)/k,o[T]=(l*N+h*O+E)/k}}static squareToQuadrilateral(i,o,s,l,c,d,h,p){let y=i-s+c-h,E=o-l+d-p;if(y===0&&E===0)return new zt(s-i,c-s,i,l-o,d-l,o,0,0,1);{let I=s-c,S=h-c,T=l-d,N=p-d,O=I*N-S*T,k=(y*N-S*E)/O,P=(I*E-y*T)/O;return new zt(s-i+k*s,h-i+P*h,i,l-o+k*l,p-o+P*p,o,k,P,1)}}static quadrilateralToSquare(i,o,s,l,c,d,h,p){return zt.squareToQuadrilateral(i,o,s,l,c,d,h,p).buildAdjoint()}buildAdjoint(){return new zt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new zt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Ot extends Qn{sampleGrid(i,o,s,l,c,d,h,p,y,E,I,S,T,N,O,k,P,Y,te){let z=zt.quadrilateralToQuadrilateral(l,c,d,h,p,y,E,I,S,T,N,O,k,P,Y,te);return this.sampleGridWithTransform(i,o,s,z)}sampleGridWithTransform(i,o,s,l){if(o<=0||s<=0)throw new H;let c=new ye(o,s),d=new Float32Array(2*o);for(let h=0;h<s;h++){let p=d.length,y=h+.5;for(let E=0;E<p;E+=2)d[E]=E/2+.5,d[E+1]=y;l.transformPoints(d),Qn.checkAndNudgePoints(i,d);try{for(let E=0;E<p;E+=2)i.get(Math.floor(d[E]),Math.floor(d[E+1]))&&c.set(E/2,h)}catch{throw new H}}return c}}class wt{static setGridSampler(i){wt.gridSampler=i}static getInstance(){return wt.gridSampler}}wt.gridSampler=new Ot;class Gt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ta{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),s=this.getBullsEyeCorners(o);if(i){let d=s[0];s[0]=s[2],s[2]=d}this.extractParameters(s);let l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),c=this.getMatrixCornerPoints(s);return new He(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new H;let o=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(s,o);let l=0;for(let d=0;d<4;d++){let h=s[(this.shift+d)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(i,o){let s=0;i.forEach((l,c,d)=>{let h=(l>>o-2<<1)+(l&1);s=(s<<3)+h}),s=((s&1)<<11)+(s>>1);for(let l=0;l<4;l++)if(X.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new H}getCorrectedParameterData(i,o){let s,l;o?(s=7,l=2):(s=10,l=4);let c=s-l,d=new Int32Array(s);for(let p=s-1;p>=0;--p)d[p]=i&15,i>>=4;try{new Ht(Ze.AZTEC_PARAM).decode(d,c)}catch{throw new H}let h=0;for(let p=0;p<l;p++)h=(h<<4)+d[p];return h}getBullsEyeCorners(i){let o=i,s=i,l=i,c=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(o,d,1,-1),S=this.getFirstDifferent(s,d,1,1),T=this.getFirstDifferent(l,d,-1,1),N=this.getFirstDifferent(c,d,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(N,I)*this.nbCenterLayers/(this.distancePoint(c,o)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(I,S,T,N))break}o=I,s=S,l=T,c=N,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let h=new ae(o.getX()+.5,o.getY()-.5),p=new ae(s.getX()+.5,s.getY()+.5),y=new ae(l.getX()-.5,l.getY()+.5),E=new ae(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,p,y,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,s,l;try{let h=new nn(this.image).detect();i=h[0],o=h[1],s=h[2],l=h[3]}catch{let p=this.image.getWidth()/2,y=this.image.getHeight()/2;i=this.getFirstDifferent(new Gt(p+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Gt(p+7,y+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Gt(p-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Gt(p-7,y-7),!1,-1,-1).toResultPoint()}let c=Ee.round((i.getX()+l.getX()+o.getX()+s.getX())/4),d=Ee.round((i.getY()+l.getY()+o.getY()+s.getY())/4);try{let h=new nn(this.image,15,c,d).detect();i=h[0],o=h[1],s=h[2],l=h[3]}catch{i=this.getFirstDifferent(new Gt(c+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Gt(c+7,d+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Gt(c-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Gt(c-7,d-7),!1,-1,-1).toResultPoint()}return c=Ee.round((i.getX()+l.getX()+o.getX()+s.getX())/4),d=Ee.round((i.getY()+l.getY()+o.getY()+s.getY())/4),new Gt(c,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,s,l,c){let d=wt.getInstance(),h=this.getDimension(),p=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return d.sampleGrid(i,h,h,p,p,y,p,y,y,p,y,o.getX(),o.getY(),s.getX(),s.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(i,o,s){let l=0,c=this.distanceResultPoint(i,o),d=c/s,h=i.getX(),p=i.getY(),y=d*(o.getX()-i.getX())/c,E=d*(o.getY()-i.getY())/c;for(let I=0;I<s;I++)this.image.get(Ee.round(h+I*y),Ee.round(p+I*E))&&(l|=1<<s-I-1);return l}isWhiteOrBlackRectangle(i,o,s,l){let c=3;i=new Gt(i.getX()-c,i.getY()+c),o=new Gt(o.getX()-c,o.getY()-c),s=new Gt(s.getX()+c,s.getY()-c),l=new Gt(l.getX()+c,l.getY()+c);let d=this.getColor(l,i);if(d===0)return!1;let h=this.getColor(i,o);return h!==d||(h=this.getColor(o,s),h!==d)?!1:(h=this.getColor(s,l),h===d)}getColor(i,o){let s=this.distancePoint(i,o),l=(o.getX()-i.getX())/s,c=(o.getY()-i.getY())/s,d=0,h=i.getX(),p=i.getY(),y=this.image.get(i.getX(),i.getY()),E=Math.ceil(s);for(let S=0;S<E;S++)h+=l,p+=c,this.image.get(Ee.round(h),Ee.round(p))!==y&&d++;let I=d/s;return I>.1&&I<.9?0:I<=.1===y?1:-1}getFirstDifferent(i,o,s,l){let c=i.getX()+s,d=i.getY()+l;for(;this.isValid(c,d)&&this.image.get(c,d)===o;)c+=s,d+=l;for(c-=s,d-=l;this.isValid(c,d)&&this.image.get(c,d)===o;)c+=s;for(c-=s;this.isValid(c,d)&&this.image.get(c,d)===o;)d+=l;return d-=l,new Gt(c,d)}expandSquare(i,o,s){let l=s/(2*o),c=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),h=(i[0].getX()+i[2].getX())/2,p=(i[0].getY()+i[2].getY())/2,y=new ae(h+l*c,p+l*d),E=new ae(h-l*c,p-l*d);c=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),h=(i[1].getX()+i[3].getX())/2,p=(i[1].getY()+i[3].getY())/2;let I=new ae(h+l*c,p+l*d),S=new ae(h-l*c,p-l*d);return[y,I,E,S]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Ee.round(i.getX()),s=Ee.round(i.getY());return this.isValid(o,s)}distancePoint(i,o){return Ee.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Ee.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15}}class Dr{decode(i,o=null){let s=null,l=new ta(i.getBlackMatrix()),c=null,d=null;try{let E=l.detectMirror(!1);c=E.getPoints(),this.reportFoundResultPoints(o,c),d=new ea().decode(E)}catch(E){s=E}if(d==null)try{let E=l.detectMirror(!0);c=E.getPoints(),this.reportFoundResultPoints(o,c),d=new ea().decode(E)}catch(E){throw s??E}let h=new Dt(d.getText(),d.getRawBytes(),d.getNumBits(),c,ce.AZTEC,R.currentTimeMillis()),p=d.getByteSegments();p!=null&&h.putMetadata(Rt.BYTE_SEGMENTS,p);let y=d.getECLevel();return y!=null&&h.putMetadata(Rt.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(i,o){if(i!=null){let s=i.get(De.NEED_RESULT_POINT_CALLBACK);s!=null&&o.forEach((l,c,d)=>{s.foundPossibleResultPoint(l)})}}reset(){}}class ln extends wn{constructor(i=500){super(new Dr,i)}}class Nt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(De.TRY_HARDER)===!0&&i.isRotateSupported()){let c=i.rotateCounterClockwise(),d=this.doDecode(c,o),h=d.getResultMetadata(),p=270;h!==null&&h.get(Rt.ORIENTATION)===!0&&(p=p+h.get(Rt.ORIENTATION)%360),d.putMetadata(Rt.ORIENTATION,p);let y=d.getResultPoints();if(y!==null){let E=c.getHeight();for(let I=0;I<y.length;I++)y[I]=new ae(E-y[I].getY()-1,y[I].getX())}return d}else throw new H}}reset(){}doDecode(i,o){let s=i.getWidth(),l=i.getHeight(),c=new ge(s),d=o&&o.get(De.TRY_HARDER)===!0,h=Math.max(1,l>>(d?8:5)),p;d?p=l:p=15;let y=Math.trunc(l/2);for(let E=0;E<p;E++){let I=Math.trunc((E+1)/2),S=(E&1)===0,T=y+h*(S?I:-I);if(T<0||T>=l)break;try{c=i.getBlackRow(T,c)}catch{continue}for(let N=0;N<2;N++){if(N===1&&(c.reverse(),o&&o.get(De.NEED_RESULT_POINT_CALLBACK)===!0)){let O=new Map;o.forEach((k,P)=>O.set(P,k)),O.delete(De.NEED_RESULT_POINT_CALLBACK),o=O}try{let O=this.decodeRow(T,c,o);if(N===1){O.putMetadata(Rt.ORIENTATION,180);let k=O.getResultPoints();k!==null&&(k[0]=new ae(s-k[0].getX()-1,k[0].getY()),k[1]=new ae(s-k[1].getX()-1,k[1].getY()))}return O}catch{}}}throw new H}static recordPattern(i,o,s){let l=s.length;for(let y=0;y<l;y++)s[y]=0;let c=i.getSize();if(o>=c)throw new H;let d=!i.get(o),h=0,p=o;for(;p<c;){if(i.get(p)!==d)s[h]++;else{if(++h===l)break;s[h]=1,d=!d}p++}if(!(h===l||h===l-1&&p===c))throw new H}static recordPatternInReverse(i,o,s){let l=s.length,c=i.get(o);for(;o>0&&l>=0;)i.get(--o)!==c&&(l--,c=!c);if(l>=0)throw new H;Nt.recordPattern(i,o+1,s)}static patternMatchVariance(i,o,s){let l=i.length,c=0,d=0;for(let y=0;y<l;y++)c+=i[y],d+=o[y];if(c<d)return Number.POSITIVE_INFINITY;let h=c/d;s*=h;let p=0;for(let y=0;y<l;y++){let E=i[y],I=o[y]*h,S=E>I?E-I:I-E;if(S>s)return Number.POSITIVE_INFINITY;p+=S}return p/c}}class ee extends Nt{static findStartPattern(i){let o=i.getSize(),s=i.getNextSet(0),l=0,c=Int32Array.from([0,0,0,0,0,0]),d=s,h=!1,p=6;for(let y=s;y<o;y++)if(i.get(y)!==h)c[l]++;else{if(l===p-1){let E=ee.MAX_AVG_VARIANCE,I=-1;for(let S=ee.CODE_START_A;S<=ee.CODE_START_C;S++){let T=Nt.patternMatchVariance(c,ee.CODE_PATTERNS[S],ee.MAX_INDIVIDUAL_VARIANCE);T<E&&(E=T,I=S)}if(I>=0&&i.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,I]);d+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new H}static decodeCode(i,o,s){Nt.recordPattern(i,s,o);let l=ee.MAX_AVG_VARIANCE,c=-1;for(let d=0;d<ee.CODE_PATTERNS.length;d++){let h=ee.CODE_PATTERNS[d],p=this.patternMatchVariance(o,h,ee.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,c=d)}if(c>=0)return c;throw new H}decodeRow(i,o,s){let l=s&&s.get(De.ASSUME_GS1)===!0,c=ee.findStartPattern(o),d=c[2],h=0,p=new Uint8Array(20);p[h++]=d;let y;switch(d){case ee.CODE_START_A:y=ee.CODE_CODE_A;break;case ee.CODE_START_B:y=ee.CODE_CODE_B;break;case ee.CODE_START_C:y=ee.CODE_CODE_C;break;default:throw new q}let E=!1,I=!1,S="",T=c[0],N=c[1],O=Int32Array.from([0,0,0,0,0,0]),k=0,P=0,Y=d,te=0,z=!0,ke=!1,be=!1;for(;!E;){let _i=I;switch(I=!1,k=P,P=ee.decodeCode(o,O,N),p[h++]=P,P!==ee.CODE_STOP&&(z=!0),P!==ee.CODE_STOP&&(te++,Y+=te*P),T=N,N+=O.reduce((Jl,Zd)=>Jl+Zd,0),P){case ee.CODE_START_A:case ee.CODE_START_B:case ee.CODE_START_C:throw new q}switch(y){case ee.CODE_CODE_A:if(P<64)be===ke?S+=String.fromCharCode(32+P):S+=String.fromCharCode(32+P+128),be=!1;else if(P<96)be===ke?S+=String.fromCharCode(P-64):S+=String.fromCharCode(P+64),be=!1;else switch(P!==ee.CODE_STOP&&(z=!1),P){case ee.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_FNC_2:case ee.CODE_FNC_3:break;case ee.CODE_FNC_4_A:!ke&&be?(ke=!0,be=!1):ke&&be?(ke=!1,be=!1):be=!0;break;case ee.CODE_SHIFT:I=!0,y=ee.CODE_CODE_B;break;case ee.CODE_CODE_B:y=ee.CODE_CODE_B;break;case ee.CODE_CODE_C:y=ee.CODE_CODE_C;break;case ee.CODE_STOP:E=!0;break}break;case ee.CODE_CODE_B:if(P<96)be===ke?S+=String.fromCharCode(32+P):S+=String.fromCharCode(32+P+128),be=!1;else switch(P!==ee.CODE_STOP&&(z=!1),P){case ee.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_FNC_2:case ee.CODE_FNC_3:break;case ee.CODE_FNC_4_B:!ke&&be?(ke=!0,be=!1):ke&&be?(ke=!1,be=!1):be=!0;break;case ee.CODE_SHIFT:I=!0,y=ee.CODE_CODE_A;break;case ee.CODE_CODE_A:y=ee.CODE_CODE_A;break;case ee.CODE_CODE_C:y=ee.CODE_CODE_C;break;case ee.CODE_STOP:E=!0;break}break;case ee.CODE_CODE_C:if(P<100)P<10&&(S+="0"),S+=P;else switch(P!==ee.CODE_STOP&&(z=!1),P){case ee.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_CODE_A:y=ee.CODE_CODE_A;break;case ee.CODE_CODE_B:y=ee.CODE_CODE_B;break;case ee.CODE_STOP:E=!0;break}break}_i&&(y=y===ee.CODE_CODE_A?ee.CODE_CODE_B:ee.CODE_CODE_A)}let un=N-T;if(N=o.getNextUnset(N),!o.isRange(N,Math.min(o.getSize(),N+(N-T)/2),!1))throw new H;if(Y-=te*k,Y%103!==k)throw new D;let Ln=S.length;if(Ln===0)throw new H;Ln>0&&z&&(y===ee.CODE_CODE_C?S=S.substring(0,Ln-2):S=S.substring(0,Ln-1));let dn=(c[1]+c[0])/2,ft=T+un/2,en=p.length,xn=new Uint8Array(en);for(let _i=0;_i<en;_i++)xn[_i]=p[_i];let Si=[new ae(dn,i),new ae(ft,i)];return new Dt(S,xn,0,Si,ce.CODE_128,new Date().getTime())}}ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ee.MAX_AVG_VARIANCE=.25,ee.MAX_INDIVIDUAL_VARIANCE=.7,ee.CODE_SHIFT=98,ee.CODE_CODE_C=99,ee.CODE_CODE_B=100,ee.CODE_CODE_A=101,ee.CODE_FNC_1=102,ee.CODE_FNC_2=97,ee.CODE_FNC_3=96,ee.CODE_FNC_4_A=101,ee.CODE_FNC_4_B=100,ee.CODE_START_A=103,ee.CODE_START_B=104,ee.CODE_START_C=105,ee.CODE_STOP=106;let jo=(()=>{class w extends Nt{constructor(o=!1,s=!1){super(),this.usingCheckDigit=o,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,s,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=w.findAsteriskPattern(s,c),h=s.getNextSet(d[1]),p=s.getSize(),y,E;do{w.recordPattern(s,h,c);let k=w.toNarrowWidePattern(c);if(k<0)throw new H;y=w.patternToChar(k),this.decodeRowResult+=y,E=h;for(let P of c)h+=P;h=s.getNextSet(h)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let k of c)I+=k;let S=h-E-I;if(h!==p&&S*2<I)throw new H;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,P=0;for(let Y=0;Y<k;Y++)P+=w.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(k)!==w.ALPHABET_STRING.charAt(P%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new H;let T;this.extendedMode?T=w.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let N=(d[1]+d[0])/2,O=E+I/2;return new Dt(T,null,0,[new ae(N,o),new ae(O,o)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(o,s){let l=o.getSize(),c=o.getNextSet(0),d=0,h=c,p=!1,y=s.length;for(let E=c;E<l;E++)if(o.get(E)!==p)s[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(s)===w.ASTERISK_ENCODING&&o.isRange(Math.max(0,h-Math.floor((E-h)/2)),h,!1))return[h,E];h+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,p=!p}throw new H}static toNarrowWidePattern(o){let s=o.length,l=0,c;do{let d=2147483647;for(let y of o)y<d&&y>l&&(d=y);l=d,c=0;let h=0,p=0;for(let y=0;y<s;y++){let E=o[y];E>l&&(p|=1<<s-1-y,c++,h+=E)}if(c===3){for(let y=0;y<s&&c>0;y++){let E=o[y];if(E>l&&(c--,E*2>=h))return-1}return p}}while(c>3);return-1}static patternToChar(o){for(let s=0;s<w.CHARACTER_ENCODINGS.length;s++)if(w.CHARACTER_ENCODINGS[s]===o)return w.ALPHABET_STRING.charAt(s);if(o===w.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(o){let s=o.length,l="";for(let c=0;c<s;c++){let d=o.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=o.charAt(c+1),p="\0";switch(d){case"+":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)+32);else throw new q;break;case"$":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)-64);else throw new q;break;case"%":if(h>="A"&&h<="E")p=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")p=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")p=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")p="\0";else if(h==="V")p="@";else if(h==="W")p="`";else if(h==="X"||h==="Y"||h==="Z")p="\x7F";else throw new q;break;case"/":if(h>="A"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")p=":";else throw new q;break}l+=p,c++}else l+=d}return l}}return w.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",w.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],w.ASTERISK_ENCODING=148,w})();class rt extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,s){let l=this.decodeStart(o),c=this.decodeEnd(o),d=new Me;rt.decodeMiddle(o,l[1],c[0],d);let h=d.toString(),p=null;s!=null&&(p=s.get(De.ALLOWED_LENGTHS)),p==null&&(p=rt.DEFAULT_ALLOWED_LENGTHS);let y=h.length,E=!1,I=0;for(let N of p){if(y===N){E=!0;break}N>I&&(I=N)}if(!E&&y>I&&(E=!0),!E)throw new q;let S=[new ae(l[1],i),new ae(c[0],i)];return new Dt(h,null,0,S,ce.ITF,new Date().getTime())}static decodeMiddle(i,o,s,l){let c=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),d.fill(0),h.fill(0);o<s;){Nt.recordPattern(i,o,c);for(let y=0;y<5;y++){let E=2*y;d[y]=c[E],h[y]=c[E+1]}let p=rt.decodeDigit(d);l.append(p.toString()),p=this.decodeDigit(h),l.append(p.toString()),c.forEach(function(y){o+=y})}}decodeStart(i){let o=rt.skipWhiteSpace(i),s=rt.findGuardPattern(i,o,rt.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(i,s[0]),s}validateQuietZone(i,o){let s=this.narrowLineWidth*10;s=s<o?s:o;for(let l=o-1;s>0&&l>=0&&!i.get(l);l--)s--;if(s!==0)throw new H}static skipWhiteSpace(i){let o=i.getSize(),s=i.getNextSet(0);if(s===o)throw new H;return s}decodeEnd(i){i.reverse();try{let o=rt.skipWhiteSpace(i),s;try{s=rt.findGuardPattern(i,o,rt.END_PATTERN_REVERSED[0])}catch(c){c instanceof H&&(s=rt.findGuardPattern(i,o,rt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,s[0]);let l=s[0];return s[0]=i.getSize()-s[1],s[1]=i.getSize()-l,s}finally{i.reverse()}}static findGuardPattern(i,o,s){let l=s.length,c=new Int32Array(l),d=i.getSize(),h=!1,p=0,y=o;c.fill(0);for(let E=o;E<d;E++)if(i.get(E)!==h)c[p]++;else{if(p===l-1){if(Nt.patternMatchVariance(c,s,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return[y,E];y+=c[0]+c[1],R.arraycopy(c,2,c,0,p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,h=!h}throw new H}static decodeDigit(i){let o=rt.MAX_AVG_VARIANCE,s=-1,l=rt.PATTERNS.length;for(let c=0;c<l;c++){let d=rt.PATTERNS[c],h=Nt.patternMatchVariance(i,d,rt.MAX_INDIVIDUAL_VARIANCE);h<o?(o=h,s=c):h===o&&(s=-1)}if(s>=0)return s%10;throw new H}}rt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],rt.MAX_AVG_VARIANCE=.38,rt.MAX_INDIVIDUAL_VARIANCE=.5,rt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],rt.START_PATTERN=Int32Array.from([1,1,1,1]),rt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,s,l=0,c=Int32Array.from([0,0,0]);for(;!o;){c=Int32Array.from([0,0,0]),s=xt.findGuardPattern(i,l,!1,this.START_END_PATTERN,c);let d=s[0];l=s[1];let h=d-(l-d);h>=0&&(o=i.isRange(h,d,!1))}return s}static checkChecksum(i){return xt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let s=parseInt(i.charAt(o-1),10);return xt.getStandardUPCEANChecksum(i.substring(0,o-1))===s}static getStandardUPCEANChecksum(i){let o=i.length,s=0;for(let l=o-1;l>=0;l-=2){let c=i.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;s+=c}s*=3;for(let l=o-2;l>=0;l-=2){let c=i.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;s+=c}return(1e3-s)%10}static decodeEnd(i,o){return xt.findGuardPattern(i,o,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,s,l){return this.findGuardPattern(i,o,s,l,new Int32Array(l.length))}static findGuardPattern(i,o,s,l,c){let d=i.getSize();o=s?i.getNextUnset(o):i.getNextSet(o);let h=0,p=o,y=l.length,E=s;for(let I=o;I<d;I++)if(i.get(I)!==E)c[h]++;else{if(h===y-1){if(Nt.patternMatchVariance(c,l,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([p,I]);p+=c[0]+c[1];let S=c.slice(2,c.length-1);for(let T=0;T<h-1;T++)c[T]=S[T];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,E=!E}throw new H}static decodeDigit(i,o,s,l){this.recordPattern(i,s,o);let c=this.MAX_AVG_VARIANCE,d=-1,h=l.length;for(let p=0;p<h;p++){let y=l[p],E=Nt.patternMatchVariance(o,y,xt.MAX_INDIVIDUAL_VARIANCE);E<c&&(c=E,d=p)}if(d>=0)return d;throw new H}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ki{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,s){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(o,s,l),d=l.toString(),h=Ki.parseExtensionString(d),p=[new ae((s[0]+s[1])/2,i),new ae(c,i)],y=new Dt(d,null,0,p,ce.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(i,o,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),d=o[1],h=0;for(let y=0;y<5&&d<c;y++){let E=xt.decodeDigit(i,l,d,xt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+E%10);for(let I of l)d+=I;E>=10&&(h|=1<<4-y),y!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(s.length!==5)throw new H;let p=this.determineCheckDigit(h);if(Ki.extensionChecksum(s.toString())!==p)throw new H;return d}static extensionChecksum(i){let o=i.length,s=0;for(let l=o-2;l>=0;l-=2)s+=i.charAt(l).charCodeAt(0)-48;s*=3;for(let l=o-1;l>=0;l-=2)s+=i.charAt(l).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new H}static parseExtensionString(i){if(i.length!==5)return null;let o=Ki.parseExtension5String(i);return o==null?null:new Map([[Rt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="\xA3";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let s=parseInt(i.substring(1)),l=(s/100).toString(),c=s%100,d=c<10?"0"+c:c.toString();return o+l+"."+d}}class na{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,s){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(o,s,l),d=l.toString(),h=na.parseExtensionString(d),p=[new ae((s[0]+s[1])/2,i),new ae(c,i)],y=new Dt(d,null,0,p,ce.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(i,o,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),d=o[1],h=0;for(let p=0;p<2&&d<c;p++){let y=xt.decodeDigit(i,l,d,xt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let E of l)d+=E;y>=10&&(h|=1<<1-p),p!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(s.length!==2)throw new H;if(parseInt(s.toString())%4!==h)throw new H;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[Rt.ISSUE_NUMBER,parseInt(i)]])}}class Dl{static decodeRow(i,o,s){let l=xt.findGuardPattern(o,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ki().decodeRow(i,o,l)}catch{return new na().decodeRow(i,o,l)}}}Dl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Be extends xt{constructor(){super(),this.decodeRowStringBuffer="",Be.L_AND_G_PATTERNS=Be.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Be.L_PATTERNS[i-10],s=new Int32Array(o.length);for(let l=0;l<o.length;l++)s[l]=o[o.length-l-1];Be.L_AND_G_PATTERNS[i]=s}}decodeRow(i,o,s){let l=Be.findStartGuardPattern(o),c=s==null?null:s.get(De.NEED_RESULT_POINT_CALLBACK);if(c!=null){let z=new ae((l[0]+l[1])/2,i);c.foundPossibleResultPoint(z)}let d=this.decodeMiddle(o,l,this.decodeRowStringBuffer),h=d.rowOffset,p=d.resultString;if(c!=null){let z=new ae(h,i);c.foundPossibleResultPoint(z)}let y=this.decodeEnd(o,h);if(c!=null){let z=new ae((y[0]+y[1])/2,i);c.foundPossibleResultPoint(z)}let E=y[1],I=E+(E-y[0]);if(I>=o.getSize()||!o.isRange(E,I,!1))throw new H;let S=p.toString();if(S.length<8)throw new q;if(!Be.checkChecksum(S))throw new D;let T=(l[1]+l[0])/2,N=(y[1]+y[0])/2,O=this.getBarcodeFormat(),k=[new ae(T,i),new ae(N,i)],P=new Dt(S,null,0,k,O,new Date().getTime()),Y=0;try{let z=Dl.decodeRow(i,o,y[1]);P.putMetadata(Rt.UPC_EAN_EXTENSION,z.getText()),P.putAllMetadata(z.getResultMetadata()),P.addResultPoints(z.getResultPoints()),Y=z.getText().length}catch{}let te=s==null?null:s.get(De.ALLOWED_EAN_EXTENSIONS);if(te!=null){let z=!1;for(let ke in te)if(Y.toString()===ke){z=!0;break}if(!z)throw new H}return P}decodeEnd(i,o){return Be.findGuardPattern(i,o,!1,Be.START_END_PATTERN,new Int32Array(Be.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Be.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let s=parseInt(i.charAt(o-1),10);return Be.getStandardUPCEANChecksum(i.substring(0,o-1))===s}static getStandardUPCEANChecksum(i){let o=i.length,s=0;for(let l=o-1;l>=0;l-=2){let c=i.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;s+=c}s*=3;for(let l=o-2;l>=0;l-=2){let c=i.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;s+=c}return(1e3-s)%10}}let Ho=(()=>{class w extends Be{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,s,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=o.getSize(),h=s[1],p=0;for(let E=0;E<6&&h<d;E++){let I=Be.decodeDigit(o,c,h,Be.L_AND_G_PATTERNS);l+=String.fromCharCode(48+I%10);for(let S of c)h+=S;I>=10&&(p|=1<<5-E)}l=w.determineFirstDigit(l,p),h=Be.findGuardPattern(o,h,!0,Be.MIDDLE_PATTERN,new Int32Array(Be.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&h<d;E++){let I=Be.decodeDigit(o,c,h,Be.L_PATTERNS);l+=String.fromCharCode(48+I);for(let S of c)h+=S}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(o,s){for(let l=0;l<10;l++)if(s===this.FIRST_DIGIT_ENCODINGS[l])return o=String.fromCharCode(48+l)+o,o;throw new H}}return w.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],w})();class Al extends Be{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),d=o[1];for(let p=0;p<4&&d<c;p++){let y=Be.decodeDigit(i,l,d,Be.L_PATTERNS);s+=String.fromCharCode(48+y);for(let E of l)d+=E}d=Be.findGuardPattern(i,d,!0,Be.MIDDLE_PATTERN,new Int32Array(Be.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<c;p++){let y=Be.decodeDigit(i,l,d,Be.L_PATTERNS);s+=String.fromCharCode(48+y);for(let E of l)d+=E}return{rowOffset:d,resultString:s}}getBarcodeFormat(){return ce.EAN_8}}class Sl extends Be{constructor(){super(...arguments),this.ean13Reader=new Ho}getBarcodeFormat(){return ce.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,s))}decodeMiddle(i,o,s){return this.ean13Reader.decodeMiddle(i,o,s)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let s=new Dt(o.substring(1),null,null,i.getResultPoints(),ce.UPC_A);return i.getResultMetadata()!=null&&s.putAllMetadata(i.getResultMetadata()),s}else throw new H}reset(){this.ean13Reader.reset()}}class Nn extends Be{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,s){let l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),d=o[1],h=0;for(let y=0;y<6&&d<c;y++){let E=Nn.decodeDigit(i,l,d,Nn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+E%10);for(let I of l)d+=I;E>=10&&(h|=1<<5-y)}let p=Nn.determineNumSysAndCheckDigit(s,h);return{rowOffset:d,resultString:p}}decodeEnd(i,o){return Nn.findGuardPatternWithoutCounters(i,o,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(i){return Be.checkChecksum(Nn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let s=0;s<=1;s++)for(let l=0;l<10;l++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][l]){let c=String.fromCharCode(48+s),d=String.fromCharCode(48+l);return c+i+d}throw H.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(i){let o=i.slice(1,7).split("").map(c=>c.charCodeAt(0)),s=new Me;s.append(i.charAt(0));let l=o[5];switch(l){case 0:case 1:case 2:s.appendChars(o,0,2),s.append(l),s.append("0000"),s.appendChars(o,2,3);break;case 3:s.appendChars(o,0,3),s.append("00000"),s.appendChars(o,3,2);break;case 4:s.appendChars(o,0,4),s.append("00000"),s.append(o[4]);break;default:s.appendChars(o,0,5),s.append("0000"),s.append(l);break}return i.length>=8&&s.append(i.charAt(7)),s.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ra extends Nt{constructor(i){super();let o=i==null?null:i.get(De.POSSIBLE_FORMATS),s=[];t(o)?(s.push(new Ho),s.push(new Sl),s.push(new Al),s.push(new Nn)):(o.indexOf(ce.EAN_13)>-1&&s.push(new Ho),o.indexOf(ce.UPC_A)>-1&&s.push(new Sl),o.indexOf(ce.EAN_8)>-1&&s.push(new Al),o.indexOf(ce.UPC_E)>-1&&s.push(new Nn)),this.readers=s}decodeRow(i,o,s){for(let l of this.readers)try{let c=l.decodeRow(i,o,s),d=c.getBarcodeFormat()===ce.EAN_13&&c.getText().charAt(0)==="0",h=s==null?null:s.get(De.POSSIBLE_FORMATS),p=h==null||h.includes(ce.UPC_A);if(d&&p){let y=c.getRawBytes(),E=new Dt(c.getText().substring(1),y,y?y.length:null,c.getResultPoints(),ce.UPC_A);return E.putAllMetadata(c.getResultMetadata()),E}return c}catch{}throw new H}reset(){for(let i of this.readers)i.reset()}}let pr=(()=>{class w extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,s){for(let l=0;l<s.length;l++)if(Nt.patternMatchVariance(o,s[l],w.MAX_INDIVIDUAL_VARIANCE)<w.MAX_AVG_VARIANCE)return l;throw new H}static count(o){return Ee.sum(new Int32Array(o))}static increment(o,s){let l=0,c=s[0];for(let d=1;d<o.length;d++)s[d]>c&&(c=s[d],l=d);o[l]++}static decrement(o,s){let l=0,c=s[0];for(let d=1;d<o.length;d++)s[d]<c&&(c=s[d],l=d);o[l]--}static isFinderPattern(o){let s=o[0]+o[1],l=s+o[2]+o[3],c=s/l;if(c>=w.MIN_FINDER_PATTERN_RATIO&&c<=w.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let p of o)p>h&&(h=p),p<d&&(d=p);return h<10*d}return!1}}return w.MAX_AVG_VARIANCE=.2,w.MAX_INDIVIDUAL_VARIANCE=.45,w.MIN_FINDER_PATTERN_RATIO=9.5/12,w.MAX_FINDER_PATTERN_RATIO=12.5/14,w})();class vi{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof vi))return!1;let o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class zo{constructor(i,o,s,l,c){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ae(s,c)),this.resultPoints.push(new ae(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof zo))return!1;let o=i;return this.value===o.value}hashCode(){return this.value}}class Kn{constructor(){}static getRSSvalue(i,o,s){let l=0;for(let p of i)l+=p;let c=0,d=0,h=i.length;for(let p=0;p<h-1;p++){let y;for(y=1,d|=1<<p;y<i[p];y++,d&=~(1<<p)){let E=Kn.combins(l-y-1,h-p-2);if(s&&d===0&&l-y-(h-p-1)>=h-p-1&&(E-=Kn.combins(l-y-(h-p),h-p-2)),h-p-1>1){let I=0;for(let S=l-y-(h-p-2);S>o;S--)I+=Kn.combins(l-y-S-1,h-p-3);E-=I*(h-1-p)}else l-y>o&&E--;c+=E}l-=y}return c}static combins(i,o){let s,l;i-o>o?(l=o,s=i-o):(l=i-o,s=o);let c=1,d=1;for(let h=i;h>s;h--)c*=h,d<=l&&(c/=d,d++);for(;d<=l;)c/=d,d++;return c}}class Od{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let s=12*o,l=new ge(s),c=0,h=i[0].getRightChar().getValue();for(let p=11;p>=0;--p)(h&1<<p)!=0&&l.set(c),c++;for(let p=1;p<i.length;++p){let y=i[p],E=y.getLeftChar().getValue();for(let I=11;I>=0;--I)(E&1<<I)!=0&&l.set(c),c++;if(y.getRightChar()!=null){let I=y.getRightChar().getValue();for(let S=11;S>=0;--S)(I&1<<S)!=0&&l.set(c),c++}}return l}}class qr{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ji{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}let Rn=(()=>{class w extends Ji{constructor(o,s){super(o),this.value=s}getValue(){return this.value}isFNC1(){return this.value===w.FNC1}}return w.FNC1="$",w})();class Yr extends Ji{constructor(i,o,s){super(i),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Ci=(()=>{class w extends Ji{constructor(o,s,l){if(super(o),s<0||s>10||l<0||l>10)throw new q;this.firstDigit=s,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===w.FNC1}isSecondDigitFNC1(){return this.secondDigit===w.FNC1}isAnyFNC1(){return this.firstDigit===w.FNC1||this.secondDigit===w.FNC1}}return w.FNC1=10,w})();class oe{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new H;let o=i.substring(0,2);for(let c of oe.TWO_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(2,c[2],i):oe.processFixedAI(2,c[1],i);if(i.length<3)throw new H;let s=i.substring(0,3);for(let c of oe.THREE_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(3,c[2],i):oe.processFixedAI(3,c[1],i);for(let c of oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,c[2],i):oe.processFixedAI(4,c[1],i);if(i.length<4)throw new H;let l=i.substring(0,4);for(let c of oe.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,c[2],i):oe.processFixedAI(4,c[1],i);throw new H}static processFixedAI(i,o,s){if(s.length<i)throw new H;let l=s.substring(0,i);if(s.length<i+o)throw new H;let c=s.substring(i,i+o),d=s.substring(i+o),h="("+l+")"+c,p=oe.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}static processVariableAI(i,o,s){let l=s.substring(0,i),c;s.length<i+o?c=s.length:c=i+o;let d=s.substring(i,c),h=s.substring(c),p="("+l+")"+d,y=oe.parseFieldsInGeneralPurpose(h);return y==null?p:p+y}}oe.VARIABLE_LENGTH=[],oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",oe.VARIABLE_LENGTH,20],["22",oe.VARIABLE_LENGTH,29],["30",oe.VARIABLE_LENGTH,8],["37",oe.VARIABLE_LENGTH,8],["90",oe.VARIABLE_LENGTH,30],["91",oe.VARIABLE_LENGTH,30],["92",oe.VARIABLE_LENGTH,30],["93",oe.VARIABLE_LENGTH,30],["94",oe.VARIABLE_LENGTH,30],["95",oe.VARIABLE_LENGTH,30],["96",oe.VARIABLE_LENGTH,30],["97",oe.VARIABLE_LENGTH,3],["98",oe.VARIABLE_LENGTH,30],["99",oe.VARIABLE_LENGTH,30]],oe.THREE_DIGIT_DATA_LENGTH=[["240",oe.VARIABLE_LENGTH,30],["241",oe.VARIABLE_LENGTH,30],["242",oe.VARIABLE_LENGTH,6],["250",oe.VARIABLE_LENGTH,30],["251",oe.VARIABLE_LENGTH,30],["253",oe.VARIABLE_LENGTH,17],["254",oe.VARIABLE_LENGTH,20],["400",oe.VARIABLE_LENGTH,30],["401",oe.VARIABLE_LENGTH,30],["402",17],["403",oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",oe.VARIABLE_LENGTH,20],["421",oe.VARIABLE_LENGTH,15],["422",3],["423",oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",oe.VARIABLE_LENGTH,15],["391",oe.VARIABLE_LENGTH,18],["392",oe.VARIABLE_LENGTH,15],["393",oe.VARIABLE_LENGTH,18],["703",oe.VARIABLE_LENGTH,30]],oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",oe.VARIABLE_LENGTH,20],["8003",oe.VARIABLE_LENGTH,30],["8004",oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",oe.VARIABLE_LENGTH,30],["8008",oe.VARIABLE_LENGTH,12],["8018",18],["8020",oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",oe.VARIABLE_LENGTH,70],["8200",oe.VARIABLE_LENGTH,70]];class xi{constructor(i){this.buffer=new Me,this.information=i}decodeAllCodes(i,o){let s=o,l=null;do{let c=this.decodeGeneralPurposeField(s,l),d=oe.parseFieldsInGeneralPurpose(c.getNewString());if(d!=null&&i.append(d),c.isRemaining()?l=""+c.getRemainingValue():l=null,s===c.getNewPosition())break;s=c.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(i,4);return c===0?new Ci(this.information.getSize(),Ci.FNC1,Ci.FNC1):new Ci(this.information.getSize(),c-1,Ci.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),s=(o-8)/11,l=(o-8)%11;return new Ci(i+7,s,l)}extractNumericValueFromBitArray(i,o){return xi.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,s){let l=0;for(let c=0;c<s;++c)i.get(o+c)&&(l|=1<<s-c-1);return l}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Yr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Yr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let s=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(s!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Yr(this.current.getPosition(),this.buffer.toString()):o=new Yr(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new qr(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Yr(this.current.getPosition(),this.buffer.toString());return new qr(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new qr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Yr(this.current.getPosition(),this.buffer.toString());return new qr(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new qr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Yr(this.current.getPosition(),this.buffer.toString());return new qr(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new qr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,7);if(s>=64&&s<116)return!0;if(i+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,8);return l>=232&&l<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Rn(i+5,Rn.FNC1);if(o>=5&&o<15)return new Rn(i+5,"0"+(o-5));let s=this.extractNumericValueFromBitArray(i,7);if(s>=64&&s<90)return new Rn(i+7,""+(s+1));if(s>=90&&s<116)return new Rn(i+7,""+(s+7));let l=this.extractNumericValueFromBitArray(i,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new q}return new Rn(i+8,c)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,6);return s>=16&&s<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new Rn(i+5,Rn.FNC1);if(o>=5&&o<15)return new Rn(i+5,"0"+(o-5));let s=this.extractNumericValueFromBitArray(i,6);if(s>=32&&s<58)return new Rn(i+6,""+(s+33));let l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new hr("Decoding invalid alphanumeric value: "+s)}return new Rn(i+6,l)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class at{constructor(i){this.information=i,this.generalDecoder=new xi(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let On=(()=>{class w extends at{constructor(o){super(o)}encodeCompressedGtin(o,s){o.append("(01)");let l=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,s,l)}encodeCompressedGtinWithoutAI(o,s,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);d/100===0&&o.append("0"),d/10===0&&o.append("0"),o.append(d)}w.appendCheckDigit(o,l)}static appendCheckDigit(o,s){let l=0;for(let c=0;c<13;c++){let d=o.charAt(c+s).charCodeAt(0)-48;l+=(c&1)===0?3*d:d}l=10-l%10,l===10&&(l=0),o.append(l)}}return w.GTIN_SIZE=40,w})(),kd=(()=>{class w extends On{constructor(o){super(o)}parseInformation(){let o=new Me;o.append("(01)");let s=o.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE,4);return o.append(l),this.encodeCompressedGtinWithoutAI(o,w.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(o,w.HEADER_SIZE+44)}}return w.HEADER_SIZE=4,w})(),Fd=(()=>{class w extends at{constructor(o){super(o)}parseInformation(){let o=new Me;return this.getGeneralDecoder().decodeAllCodes(o,w.HEADER_SIZE)}}return w.HEADER_SIZE=5,w})();class Go extends On{constructor(i){super(i)}encodeCompressedWeight(i,o,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,s);this.addWeightCode(i,l);let c=this.checkWeight(l),d=1e5;for(let h=0;h<5;++h)c/d===0&&i.append("0"),d/=10;i.append(c)}}let _l=(()=>{class w extends Go{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+Go.GTIN_SIZE+w.WEIGHT_SIZE)throw new H;let o=new Me;return this.encodeCompressedGtin(o,w.HEADER_SIZE),this.encodeCompressedWeight(o,w.HEADER_SIZE+Go.GTIN_SIZE,w.WEIGHT_SIZE),o.toString()}}return w.HEADER_SIZE=5,w.WEIGHT_SIZE=15,w})();class Pd extends _l{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class ia extends _l{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}let eo=(()=>{class w extends On{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+On.GTIN_SIZE)throw new H;let o=new Me;this.encodeCompressedGtin(o,w.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+On.GTIN_SIZE,w.LAST_DIGIT_SIZE);o.append("(392"),o.append(s),o.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+On.GTIN_SIZE+w.LAST_DIGIT_SIZE,null);return o.append(l.getNewString()),o.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w})(),Tl=(()=>{class w extends On{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+On.GTIN_SIZE)throw new H;let o=new Me;this.encodeCompressedGtin(o,w.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+On.GTIN_SIZE,w.LAST_DIGIT_SIZE);o.append("(393"),o.append(s),o.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+On.GTIN_SIZE+w.LAST_DIGIT_SIZE,w.FIRST_THREE_DIGITS_SIZE);l/100==0&&o.append("0"),l/10==0&&o.append("0"),o.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+On.GTIN_SIZE+w.LAST_DIGIT_SIZE+w.FIRST_THREE_DIGITS_SIZE,null);return o.append(c.getNewString()),o.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w.FIRST_THREE_DIGITS_SIZE=10,w})(),kn=(()=>{class w extends Go{constructor(o,s,l){super(o),this.dateCode=l,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE+w.DATE_SIZE)throw new H;let o=new Me;return this.encodeCompressedGtin(o,w.HEADER_SIZE),this.encodeCompressedWeight(o,w.HEADER_SIZE+w.GTIN_SIZE,w.WEIGHT_SIZE),this.encodeCompressedDate(o,w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,w.DATE_SIZE);if(l==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let h=l;h/10==0&&o.append("0"),o.append(h),d/10==0&&o.append("0"),o.append(d),c/10==0&&o.append("0"),o.append(c)}addWeightCode(o,s){o.append("("),o.append(this.firstAIdigits),o.append(s/1e5),o.append(")")}checkWeight(o){return o%1e5}}return w.HEADER_SIZE=8,w.WEIGHT_SIZE=20,w.DATE_SIZE=16,w})();function Et(w){try{if(w.get(1))return new kd(w);if(!w.get(2))return new Fd(w);switch(xi.extractNumericValueFromBitArray(w,1,4)){case 4:return new Pd(w);case 5:return new ia(w)}switch(xi.extractNumericValueFromBitArray(w,1,5)){case 12:return new eo(w);case 13:return new Tl(w)}switch(xi.extractNumericValueFromBitArray(w,1,7)){case 56:return new kn(w,"310","11");case 57:return new kn(w,"320","11");case 58:return new kn(w,"310","13");case 59:return new kn(w,"320","13");case 60:return new kn(w,"310","15");case 61:return new kn(w,"320","15");case 62:return new kn(w,"310","17");case 63:return new kn(w,"320","17")}}catch(i){throw console.log(i),new hr("unknown decoder: "+w)}}class Ar{constructor(i,o,s,l){this.leftchar=i,this.rightchar=o,this.finderpattern=s,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof Ar?Ar.equalsOrNull(i.leftchar,o.leftchar)&&Ar.equalsOrNull(i.rightchar,o.rightchar)&&Ar.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:Ar.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class oa{constructor(i,o,s){this.pairs=i,this.rowNumber=o,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof oa?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let s;return i.forEach((l,c)=>{o.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(s=!0)})}),s}}class $ extends pr{constructor(i){super(...arguments),this.pairs=new Array($.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,s){this.pairs.length=0,this.startFromEven=!1;try{return $.constructResult(this.decodeRow2pairs(i,o))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,$.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(c){if(c instanceof H){if(!this.pairs.length)throw new H;s=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(i,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new H}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let s=o;s<this.rows.length;s++){let l=this.rows[s];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!$.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(i);c.push(l);try{return this.checkRows(c,s+1)}catch(d){this.verbose&&console.log(d)}}throw new H}static isValidSequence(i){for(let o of $.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let s=!0;for(let l=0;l<i.length;l++)if(i[l].getFinderPattern().getValue()!=o[l]){s=!1;break}if(s)return!0}return!1}storeRow(i,o){let s=0,l=!1,c=!1;for(;s<this.rows.length;){let d=this.rows[s];if(d.getRowNumber()>i){c=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),s++}c||l||$.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new oa(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let s of o)if(s.getPairs().length!==i.length){for(let l of s.getPairs())for(let c of i)if(Ar.equals(l,c))break}}static isPartialRow(i,o){for(let s of o){let l=!0;for(let c of i){let d=!1;for(let h of s.getPairs())if(c.equals(h)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Od.buildBitArray(i),l=Et(o).parseInformation(),c=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],d[0],d[1]];return new Dt(l,null,null,h,ce.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),s=i.getRightChar();if(s==null)return!1;let l=s.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let p=this.pairs.get(h);l+=p.getLeftChar().getChecksumPortion(),c++;let y=p.getRightChar();y!=null&&(l+=y.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==o.getValue()}static getNextSecondBar(i,o){let s;return i.get(o)?(s=i.getNextUnset(o),s=i.getNextSet(s)):(s=i.getNextSet(o),s=i.getNextUnset(s)),s}retrieveNextPair(i,o,s){let l=o.length%2==0;this.startFromEven&&(l=!l);let c,d=!0,h=-1;do this.findNextPair(i,o,h),c=this.parseFoundFinderPattern(i,s,l),c==null?h=$.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let p=this.decodeDataCharacter(i,c,l,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new H;let y;try{y=this.decodeDataCharacter(i,c,l,!1)}catch(E){y=null,this.verbose&&console.log(E)}return new Ar(p,y,c,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),d;s>=0?d=s:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let h=o.length%2!=0;this.startFromEven&&(h=!h);let p=!1;for(;d<c&&(p=!i.get(d),!!p);)d++;let y=0,E=d;for(let I=d;I<c;I++)if(i.get(I)!=p)l[y]++;else{if(y==3){if(h&&$.reverseCounters(l),$.isFinderPattern(l)){this.startEnd[0]=E,this.startEnd[1]=I;return}h&&$.reverseCounters(l),E+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,p=!p}throw new H}static reverseCounters(i){let o=i.length;for(let s=0;s<o/2;++s){let l=i[s];i[s]=i[o-s-1],i[o-s-1]=l}}parseFoundFinderPattern(i,o,s){let l,c,d;if(s){let y=this.startEnd[0]-1;for(;y>=0&&!i.get(y);)y--;y++,l=this.startEnd[0]-y,c=y,d=this.startEnd[1]}else c=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let h=this.getDecodeFinderCounters();R.arraycopy(h,0,h,1,h.length-1),h[0]=l;let p;try{p=this.parseFinderValue(h,$.FINDER_PATTERNS)}catch{return null}return new zo(p,[c,d],c,d,o)}decodeDataCharacter(i,o,s,l){let c=this.getDataCharacterCounters();for(let ft=0;ft<c.length;ft++)c[ft]=0;if(l)$.recordPatternInReverse(i,o.getStartEnd()[0],c);else{$.recordPattern(i,o.getStartEnd()[1],c);for(let ft=0,en=c.length-1;ft<en;ft++,en--){let xn=c[ft];c[ft]=c[en],c[en]=xn}}let d=17,h=Ee.sum(new Int32Array(c))/d,p=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new H;let y=this.getOddCounts(),E=this.getEvenCounts(),I=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let ft=0;ft<c.length;ft++){let en=1*c[ft]/h,xn=en+.5;if(xn<1){if(en<.3)throw new H;xn=1}else if(xn>8){if(en>8.7)throw new H;xn=8}let Si=ft/2;(ft&1)==0?(y[Si]=xn,I[Si]=en-xn):(E[Si]=xn,S[Si]=en-xn)}this.adjustOddEvenCounts(d);let T=4*o.getValue()+(s?0:2)+(l?0:1)-1,N=0,O=0;for(let ft=y.length-1;ft>=0;ft--){if($.isNotA1left(o,s,l)){let en=$.WEIGHTS[T][2*ft];O+=y[ft]*en}N+=y[ft]}let k=0;for(let ft=E.length-1;ft>=0;ft--)if($.isNotA1left(o,s,l)){let en=$.WEIGHTS[T][2*ft+1];k+=E[ft]*en}let P=O+k;if((N&1)!=0||N>13||N<4)throw new H;let Y=(13-N)/2,te=$.SYMBOL_WIDEST[Y],z=9-te,ke=Kn.getRSSvalue(y,te,!0),be=Kn.getRSSvalue(E,z,!1),un=$.EVEN_TOTAL_SUBSET[Y],Ln=$.GSUM[Y],dn=ke*un+be+Ln;return new vi(dn,P)}static isNotA1left(i,o,s){return!(i.getValue()==0&&o&&s)}adjustOddEvenCounts(i){let o=Ee.sum(new Int32Array(this.getOddCounts())),s=Ee.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;o>13?c=!0:o<4&&(l=!0);let d=!1,h=!1;s>13?h=!0:s<4&&(d=!0);let p=o+s-i,y=(o&1)==1,E=(s&1)==0;if(p==1)if(y){if(E)throw new H;c=!0}else{if(!E)throw new H;h=!0}else if(p==-1)if(y){if(E)throw new H;l=!0}else{if(!E)throw new H;d=!0}else if(p==0){if(y){if(!E)throw new H;o<s?(l=!0,h=!0):(c=!0,d=!0)}else if(E)throw new H}else throw new H;if(l){if(c)throw new H;$.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&$.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new H;$.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&$.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$.SYMBOL_WIDEST=[7,5,4,3,1],$.EVEN_TOTAL_SUBSET=[4,20,52,104,204],$.GSUM=[0,348,1388,2948,3988],$.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],$.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],$.FINDER_PAT_A=0,$.FINDER_PAT_B=1,$.FINDER_PAT_C=2,$.FINDER_PAT_D=3,$.FINDER_PAT_E=4,$.FINDER_PAT_F=5,$.FINDER_PATTERN_SEQUENCES=[[$.FINDER_PAT_A,$.FINDER_PAT_A],[$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B],[$.FINDER_PAT_A,$.FINDER_PAT_C,$.FINDER_PAT_B,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_C],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F]],$.MAX_PAIRS=11;class Ml extends vi{constructor(i,o,s){super(i,o),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends pr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,s){let l=this.decodePair(o,!1,i,s);vt.addOrTally(this.possibleLeftPairs,l),o.reverse();let c=this.decodePair(o,!0,i,s);vt.addOrTally(this.possibleRightPairs,c),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&vt.checkChecksum(d,h))return vt.constructResult(d,h)}throw new H}static addOrTally(i,o){if(o==null)return;let s=!1;for(let l of i)if(l.getValue()===o.getValue()){l.incrementCount(),s=!0;break}s||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let s=4537077*i.getValue()+o.getValue(),l=new String(s).toString(),c=new Me;for(let y=13-l.length;y>0;y--)c.append("0");c.append(l);let d=0;for(let y=0;y<13;y++){let E=c.charAt(y).charCodeAt(0)-48;d+=(y&1)===0?3*E:E}d=10-d%10,d===10&&(d=0),c.append(d.toString());let h=i.getFinderPattern().getResultPoints(),p=o.getFinderPattern().getResultPoints();return new Dt(c.toString(),null,0,[h[0],h[1],p[0],p[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(i,o){let s=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,l=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,s===l}decodePair(i,o,s,l){try{let c=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,s,o,c),h=l==null?null:l.get(De.NEED_RESULT_POINT_CALLBACK);if(h!=null){let E=(c[0]+c[1])/2;o&&(E=i.getSize()-1-E),h.foundPossibleResultPoint(new ae(E,s))}let p=this.decodeDataCharacter(i,d,!0),y=this.decodeDataCharacter(i,d,!1);return new Ml(1597*p.getValue()+y.getValue(),p.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,s){let l=this.getDataCharacterCounters();for(let k=0;k<l.length;k++)l[k]=0;if(s)Nt.recordPatternInReverse(i,o.getStartEnd()[0],l);else{Nt.recordPattern(i,o.getStartEnd()[1]+1,l);for(let k=0,P=l.length-1;k<P;k++,P--){let Y=l[k];l[k]=l[P],l[P]=Y}}let c=s?16:15,d=Ee.sum(new Int32Array(l))/c,h=this.getOddCounts(),p=this.getEvenCounts(),y=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let k=0;k<l.length;k++){let P=l[k]/d,Y=Math.floor(P+.5);Y<1?Y=1:Y>8&&(Y=8);let te=Math.floor(k/2);(k&1)===0?(h[te]=Y,y[te]=P-Y):(p[te]=Y,E[te]=P-Y)}this.adjustOddEvenCounts(s,c);let I=0,S=0;for(let k=h.length-1;k>=0;k--)S*=9,S+=h[k],I+=h[k];let T=0,N=0;for(let k=p.length-1;k>=0;k--)T*=9,T+=p[k],N+=p[k];let O=S+3*T;if(s){if((I&1)!==0||I>12||I<4)throw new H;let k=(12-I)/2,P=vt.OUTSIDE_ODD_WIDEST[k],Y=9-P,te=Kn.getRSSvalue(h,P,!1),z=Kn.getRSSvalue(p,Y,!0),ke=vt.OUTSIDE_EVEN_TOTAL_SUBSET[k],be=vt.OUTSIDE_GSUM[k];return new vi(te*ke+z+be,O)}else{if((N&1)!==0||N>10||N<4)throw new H;let k=(10-N)/2,P=vt.INSIDE_ODD_WIDEST[k],Y=9-P,te=Kn.getRSSvalue(h,P,!0),z=Kn.getRSSvalue(p,Y,!1),ke=vt.INSIDE_ODD_TOTAL_SUBSET[k],be=vt.INSIDE_GSUM[k];return new vi(z*ke+te+be,O)}}findFinderPattern(i,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=i.getSize(),c=!1,d=0;for(;d<l&&(c=!i.get(d),o!==c);)d++;let h=0,p=d;for(let y=d;y<l;y++)if(i.get(y)!==c)s[h]++;else{if(h===3){if(pr.isFinderPattern(s))return[p,y];p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,h--}else h++;s[h]=1,c=!c}throw new H}parseFoundFinderPattern(i,o,s,l){let c=i.get(l[0]),d=l[0]-1;for(;d>=0&&c!==i.get(d);)d--;d++;let h=l[0]-d,p=this.getDecodeFinderCounters(),y=new Int32Array(p.length);R.arraycopy(p,0,y,1,p.length-1),y[0]=h;let E=this.parseFinderValue(y,vt.FINDER_PATTERNS),I=d,S=l[1];return s&&(I=i.getSize()-1-I,S=i.getSize()-1-S),new zo(E,[d,l[1]],I,S,o)}adjustOddEvenCounts(i,o){let s=Ee.sum(new Int32Array(this.getOddCounts())),l=Ee.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1,h=!1,p=!1;i?(s>12?d=!0:s<4&&(c=!0),l>12?p=!0:l<4&&(h=!0)):(s>11?d=!0:s<5&&(c=!0),l>10?p=!0:l<4&&(h=!0));let y=s+l-o,E=(s&1)===(i?1:0),I=(l&1)===1;if(y===1)if(E){if(I)throw new H;d=!0}else{if(!I)throw new H;p=!0}else if(y===-1)if(E){if(I)throw new H;c=!0}else{if(!I)throw new H;h=!0}else if(y===0){if(E){if(!I)throw new H;s<l?(c=!0,p=!0):(d=!0,h=!0)}else if(I)throw new H}else throw new H;if(c){if(d)throw new H;pr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&pr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new H;pr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&pr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ei extends Nt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;let s=i?i.get(De.POSSIBLE_FORMATS):null,l=i&&i.get(De.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ce.EAN_13)||s.includes(ce.UPC_A)||s.includes(ce.EAN_8)||s.includes(ce.UPC_E))&&this.readers.push(new ra(i)),s.includes(ce.CODE_39)&&this.readers.push(new jo(l)),s.includes(ce.CODE_128)&&this.readers.push(new ee),s.includes(ce.ITF)&&this.readers.push(new rt),s.includes(ce.RSS_14)&&this.readers.push(new vt),s.includes(ce.RSS_EXPANDED)&&this.readers.push(new $(this.verbose))):(this.readers.push(new ra(i)),this.readers.push(new jo),this.readers.push(new ra(i)),this.readers.push(new ee),this.readers.push(new rt),this.readers.push(new vt),this.readers.push(new $(this.verbose)))}decodeRow(i,o,s){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(i,o,s)}catch{}throw new H}reset(){this.readers.forEach(i=>i.reset())}}class Ld extends wn{constructor(i=500,o){super(new Ei(o),i,o)}}class et{constructor(i,o,s){this.ecCodewords=i,this.ecBlocks=[o],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ve{constructor(i,o,s,l,c,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=d;let h=0,p=d.getECCodewords(),y=d.getECBlocks();for(let E of y)h+=E.getCount()*(E.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if((i&1)!==0||(o&1)!==0)throw new q;for(let s of Ve.VERSIONS)if(s.symbolSizeRows===i&&s.symbolSizeColumns===o)return s;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new Ve(1,10,10,8,8,new et(5,new tt(1,3))),new Ve(2,12,12,10,10,new et(7,new tt(1,5))),new Ve(3,14,14,12,12,new et(10,new tt(1,8))),new Ve(4,16,16,14,14,new et(12,new tt(1,12))),new Ve(5,18,18,16,16,new et(14,new tt(1,18))),new Ve(6,20,20,18,18,new et(18,new tt(1,22))),new Ve(7,22,22,20,20,new et(20,new tt(1,30))),new Ve(8,24,24,22,22,new et(24,new tt(1,36))),new Ve(9,26,26,24,24,new et(28,new tt(1,44))),new Ve(10,32,32,14,14,new et(36,new tt(1,62))),new Ve(11,36,36,16,16,new et(42,new tt(1,86))),new Ve(12,40,40,18,18,new et(48,new tt(1,114))),new Ve(13,44,44,20,20,new et(56,new tt(1,144))),new Ve(14,48,48,22,22,new et(68,new tt(1,174))),new Ve(15,52,52,24,24,new et(42,new tt(2,102))),new Ve(16,64,64,14,14,new et(56,new tt(2,140))),new Ve(17,72,72,16,16,new et(36,new tt(4,92))),new Ve(18,80,80,18,18,new et(48,new tt(4,114))),new Ve(19,88,88,20,20,new et(56,new tt(4,144))),new Ve(20,96,96,22,22,new et(68,new tt(4,174))),new Ve(21,104,104,24,24,new et(56,new tt(6,136))),new Ve(22,120,120,18,18,new et(68,new tt(6,175))),new Ve(23,132,132,20,20,new et(62,new tt(8,163))),new Ve(24,144,144,22,22,new et(62,new tt(8,156),new tt(2,155))),new Ve(25,8,18,6,16,new et(7,new tt(1,5))),new Ve(26,8,32,6,14,new et(11,new tt(1,10))),new Ve(27,12,26,10,24,new et(14,new tt(1,16))),new Ve(28,12,36,10,16,new et(18,new tt(1,22))),new Ve(29,16,36,14,16,new et(24,new tt(1,32))),new Ve(30,16,48,14,22,new et(28,new tt(1,49)))]}}Ve.VERSIONS=Ve.buildVersions();class sa{constructor(i){let o=i.getHeight();if(o<8||o>144||(o&1)!==0)throw new q;this.version=sa.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){let o=i.getHeight(),s=i.getWidth();return Ve.getVersionForDimensions(o,s)}readCodewords(){let i=new Int8Array(this.version.getTotalCodewords()),o=0,s=4,l=0,c=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth(),h=!1,p=!1,y=!1,E=!1;do if(s===c&&l===0&&!h)i[o++]=this.readCorner1(c,d)&255,s-=2,l+=2,h=!0;else if(s===c-2&&l===0&&(d&3)!==0&&!p)i[o++]=this.readCorner2(c,d)&255,s-=2,l+=2,p=!0;else if(s===c+4&&l===2&&(d&7)===0&&!y)i[o++]=this.readCorner3(c,d)&255,s-=2,l+=2,y=!0;else if(s===c-2&&l===0&&(d&7)===4&&!E)i[o++]=this.readCorner4(c,d)&255,s-=2,l+=2,E=!0;else{do s<c&&l>=0&&!this.readMappingMatrix.get(l,s)&&(i[o++]=this.readUtah(s,l,c,d)&255),s-=2,l+=2;while(s>=0&&l<d);s+=1,l+=3;do s>=0&&l<d&&!this.readMappingMatrix.get(l,s)&&(i[o++]=this.readUtah(s,l,c,d)&255),s+=2,l-=2;while(s<c&&l>=0);s+=3,l+=1}while(s<c||l<d);if(o!==this.version.getTotalCodewords())throw new q;return i}readModule(i,o,s,l){return i<0&&(i+=s,o+=4-(s+4&7)),o<0&&(o+=l,i+=4-(l+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,s,l){let c=0;return this.readModule(i-2,o-2,s,l)&&(c|=1),c<<=1,this.readModule(i-2,o-1,s,l)&&(c|=1),c<<=1,this.readModule(i-1,o-2,s,l)&&(c|=1),c<<=1,this.readModule(i-1,o-1,s,l)&&(c|=1),c<<=1,this.readModule(i-1,o,s,l)&&(c|=1),c<<=1,this.readModule(i,o-2,s,l)&&(c|=1),c<<=1,this.readModule(i,o-1,s,l)&&(c|=1),c<<=1,this.readModule(i,o,s,l)&&(c|=1),c}readCorner1(i,o){let s=0;return this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,1,i,o)&&(s|=1),s<<=1,this.readModule(i-1,2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s<<=1,this.readModule(2,o-1,i,o)&&(s|=1),s<<=1,this.readModule(3,o-1,i,o)&&(s|=1),s}readCorner2(i,o){let s=0;return this.readModule(i-3,0,i,o)&&(s|=1),s<<=1,this.readModule(i-2,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(0,o-4,i,o)&&(s|=1),s<<=1,this.readModule(0,o-3,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s}readCorner3(i,o){let s=0;return this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,o-1,i,o)&&(s|=1),s<<=1,this.readModule(0,o-3,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-3,i,o)&&(s|=1),s<<=1,this.readModule(1,o-2,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s}readCorner4(i,o){let s=0;return this.readModule(i-3,0,i,o)&&(s|=1),s<<=1,this.readModule(i-2,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s<<=1,this.readModule(2,o-1,i,o)&&(s|=1),s<<=1,this.readModule(3,o-1,i,o)&&(s|=1),s}extractDataRegion(i){let o=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");let l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),d=o/l|0,h=s/c|0,p=d*l,y=h*c,E=new ye(y,p);for(let I=0;I<d;++I){let S=I*l;for(let T=0;T<h;++T){let N=T*c;for(let O=0;O<l;++O){let k=I*(l+2)+1+O,P=S+O;for(let Y=0;Y<c;++Y){let te=T*(c+2)+1+Y;if(i.get(te,k)){let z=N+Y;E.set(z,P)}}}}}return E}}class to{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){let s=o.getECBlocks(),l=0,c=s.getECBlocks();for(let O of c)l+=O.getCount();let d=new Array(l),h=0;for(let O of c)for(let k=0;k<O.getCount();k++){let P=O.getDataCodewords(),Y=s.getECCodewords()+P;d[h++]=new to(P,new Uint8Array(Y))}let y=d[0].codewords.length-s.getECCodewords(),E=y-1,I=0;for(let O=0;O<E;O++)for(let k=0;k<h;k++)d[k].codewords[O]=i[I++];let S=o.getVersionNumber()===24,T=S?8:h;for(let O=0;O<T;O++)d[O].codewords[y-1]=i[I++];let N=d[0].codewords.length;for(let O=y;O<N;O++)for(let k=0;k<h;k++){let P=S?(k+8)%h:k,Y=S&&P>7?O-1:O;d[P].codewords[Y]=i[I++]}if(I!==i.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class $o{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new v(""+i);let o=0,s=this.bitOffset,l=this.byteOffset,c=this.bytes;if(s>0){let d=8-s,h=i<d?i:d,p=d-h,y=255>>8-h<<p;o=(c[l]&y)>>p,i-=h,s+=h,s===8&&(s=0,l++)}if(i>0){for(;i>=8;)o=o<<8|c[l]&255,l++,i-=8;if(i>0){let d=8-i,h=255>>d<<d;o=o<<i|(c[l]&h)>>d,s+=i}}return this.bitOffset=s,this.byteOffset=l,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var kt=function(w){return w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE",w}(kt||{});class gr{static decode(i){let o=new $o(i),s=new Me,l=new Me,c=new Array,d=kt.ASCII_ENCODE;do if(d===kt.ASCII_ENCODE)d=this.decodeAsciiSegment(o,s,l);else{switch(d){case kt.C40_ENCODE:this.decodeC40Segment(o,s);break;case kt.TEXT_ENCODE:this.decodeTextSegment(o,s);break;case kt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,s);break;case kt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,s);break;case kt.BASE256_ENCODE:this.decodeBase256Segment(o,s,c);break;default:throw new q}d=kt.ASCII_ENCODE}while(d!==kt.PAD_ENCODE&&o.available()>0);return l.length()>0&&s.append(l.toString()),new br(i,s.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(i,o,s){let l=!1;do{let c=i.readBits(8);if(c===0)throw new q;if(c<=128)return l&&(c+=128),o.append(String.fromCharCode(c-1)),kt.ASCII_ENCODE;if(c===129)return kt.PAD_ENCODE;if(c<=229){let d=c-130;d<10&&o.append("0"),o.append(""+d)}else switch(c){case 230:return kt.C40_ENCODE;case 231:return kt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:o.append("[)>05"),s.insert(0,"");break;case 237:o.append("[)>06"),s.insert(0,"");break;case 238:return kt.ANSIX12_ENCODE;case 239:return kt.TEXT_ENCODE;case 240:return kt.EDIFACT_ENCODE;case 241:break;default:if(c!==254||i.available()!==0)throw new q;break}}while(i.available()>0);return kt.ASCII_ENCODE}static decodeC40Segment(i,o){let s=!1,l=[],c=0;do{if(i.available()===8)return;let d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),l);for(let h=0;h<3;h++){let p=l[h];switch(c){case 0:if(p<3)c=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){let y=this.C40_BASIC_SET_CHARS[p];s?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):o.append(y)}else throw new q;break;case 1:s?(o.append(String.fromCharCode(p+128)),s=!1):o.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){let y=this.C40_SHIFT2_SET_CHARS[p];s?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):o.append(y)}else switch(p){case 27:o.append("");break;case 30:s=!0;break;default:throw new q}c=0;break;case 3:s?(o.append(String.fromCharCode(p+224)),s=!1):o.append(String.fromCharCode(p+96)),c=0;break;default:throw new q}}}while(i.available()>0)}static decodeTextSegment(i,o){let s=!1,l=[],c=0;do{if(i.available()===8)return;let d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),l);for(let h=0;h<3;h++){let p=l[h];switch(c){case 0:if(p<3)c=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){let y=this.TEXT_BASIC_SET_CHARS[p];s?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):o.append(y)}else throw new q;break;case 1:s?(o.append(String.fromCharCode(p+128)),s=!1):o.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){let y=this.TEXT_SHIFT2_SET_CHARS[p];s?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):o.append(y)}else switch(p){case 27:o.append("");break;case 30:s=!0;break;default:throw new q}c=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){let y=this.TEXT_SHIFT3_SET_CHARS[p];s?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):o.append(y),c=0}else throw new q;break;default:throw new q}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){let s=[];do{if(i.available()===8)return;let l=i.readBits(8);if(l===254)return;this.parseTwoBytes(l,i.readBits(8),s);for(let c=0;c<3;c++){let d=s[c];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new q;break}}}while(i.available()>0)}static parseTwoBytes(i,o,s){let l=(i<<8)+o-1,c=Math.floor(l/1600);s[0]=c,l-=c*1600,c=Math.floor(l/40),s[1]=c,s[2]=l-c*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let s=0;s<4;s++){let l=i.readBits(6);if(l===31){let c=8-i.getBitOffset();c!==8&&i.readBits(c);return}(l&32)===0&&(l|=64),o.append(String.fromCharCode(l))}}while(i.available()>0)}static decodeBase256Segment(i,o,s){let l=1+i.getByteOffset(),c=this.unrandomize255State(i.readBits(8),l++),d;if(c===0?d=i.available()/8|0:c<250?d=c:d=250*(c-249)+this.unrandomize255State(i.readBits(8),l++),d<0)throw new q;let h=new Uint8Array(d);for(let p=0;p<d;p++){if(i.available()<8)throw new q;h[p]=this.unrandomize255State(i.readBits(8),l++)}s.push(h);try{o.append(st.decode(h,me.ISO88591))}catch(p){throw new hr("Platform does not support required encoding: "+p.message)}}static unrandomize255State(i,o){let s=149*o%255+1,l=i-s;return l>=0?l:l+256}}gr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gr.TEXT_SHIFT2_SET_CHARS=gr.C40_SHIFT2_SET_CHARS,gr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class Nl{constructor(){this.rsDecoder=new Ht(Ze.DATA_MATRIX_FIELD_256)}decode(i){let o=new sa(i),s=o.getVersion(),l=o.readCodewords(),c=to.getDataBlocks(l,s),d=0;for(let y of c)d+=y.getNumDataCodewords();let h=new Uint8Array(d),p=c.length;for(let y=0;y<p;y++){let E=c[y],I=E.getCodewords(),S=E.getNumDataCodewords();this.correctErrors(I,S);for(let T=0;T<S;T++)h[T*p+y]=I[T]}return gr.decode(h)}correctErrors(i,o){let s=new Int32Array(i);try{this.rsDecoder.decode(s,i.length-o)}catch{throw new D}for(let l=0;l<o;l++)i[l]=s[l]}}class At{constructor(i){this.image=i,this.rectangleDetector=new nn(this.image)}detect(){let i=this.rectangleDetector.detect(),o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new H;o=this.shiftToModuleCenter(o);let s=o[0],l=o[1],c=o[2],d=o[3],h=this.transitionsBetween(s,d)+1,p=this.transitionsBetween(c,d)+1;(h&1)===1&&(h+=1),(p&1)===1&&(p+=1),4*h<7*p&&4*p<7*h&&(h=p=Math.max(h,p));let y=At.sampleGrid(this.image,s,l,c,d,h,p);return new Qi(y,[s,l,c,d])}static shiftPoint(i,o,s){let l=(o.getX()-i.getX())/(s+1),c=(o.getY()-i.getY())/(s+1);return new ae(i.getX()+l,i.getY()+c)}static moveAway(i,o,s){let l=i.getX(),c=i.getY();return l<o?l-=1:l+=1,c<s?c-=1:c+=1,new ae(l,c)}detectSolid1(i){let o=i[0],s=i[1],l=i[3],c=i[2],d=this.transitionsBetween(o,s),h=this.transitionsBetween(s,l),p=this.transitionsBetween(l,c),y=this.transitionsBetween(c,o),E=d,I=[c,o,s,l];return E>h&&(E=h,I[0]=o,I[1]=s,I[2]=l,I[3]=c),E>p&&(E=p,I[0]=s,I[1]=l,I[2]=c,I[3]=o),E>y&&(I[0]=l,I[1]=c,I[2]=o,I[3]=s),I}detectSolid2(i){let o=i[0],s=i[1],l=i[2],c=i[3],d=this.transitionsBetween(o,c),h=At.shiftPoint(s,l,(d+1)*4),p=At.shiftPoint(l,s,(d+1)*4),y=this.transitionsBetween(h,o),E=this.transitionsBetween(p,c);return y<E?(i[0]=o,i[1]=s,i[2]=l,i[3]=c):(i[0]=s,i[1]=l,i[2]=c,i[3]=o),i}correctTopRight(i){let o=i[0],s=i[1],l=i[2],c=i[3],d=this.transitionsBetween(o,c),h=this.transitionsBetween(s,c),p=At.shiftPoint(o,s,(h+1)*4),y=At.shiftPoint(l,s,(d+1)*4);d=this.transitionsBetween(p,c),h=this.transitionsBetween(y,c);let E=new ae(c.getX()+(l.getX()-s.getX())/(d+1),c.getY()+(l.getY()-s.getY())/(d+1)),I=new ae(c.getX()+(o.getX()-s.getX())/(h+1),c.getY()+(o.getY()-s.getY())/(h+1));if(!this.isValid(E))return this.isValid(I)?I:null;if(!this.isValid(I))return E;let S=this.transitionsBetween(p,E)+this.transitionsBetween(y,E),T=this.transitionsBetween(p,I)+this.transitionsBetween(y,I);return S>T?E:I}shiftToModuleCenter(i){let o=i[0],s=i[1],l=i[2],c=i[3],d=this.transitionsBetween(o,c)+1,h=this.transitionsBetween(l,c)+1,p=At.shiftPoint(o,s,h*4),y=At.shiftPoint(l,s,d*4);d=this.transitionsBetween(p,c)+1,h=this.transitionsBetween(y,c)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let E=(o.getX()+s.getX()+l.getX()+c.getX())/4,I=(o.getY()+s.getY()+l.getY()+c.getY())/4;o=At.moveAway(o,E,I),s=At.moveAway(s,E,I),l=At.moveAway(l,E,I),c=At.moveAway(c,E,I);let S,T;return p=At.shiftPoint(o,s,h*4),p=At.shiftPoint(p,c,d*4),S=At.shiftPoint(s,o,h*4),S=At.shiftPoint(S,l,d*4),y=At.shiftPoint(l,c,h*4),y=At.shiftPoint(y,s,d*4),T=At.shiftPoint(c,l,h*4),T=At.shiftPoint(T,o,d*4),[p,S,y,T]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,s,l,c,d,h){return wt.getInstance().sampleGrid(i,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,o.getX(),o.getY(),c.getX(),c.getY(),l.getX(),l.getY(),s.getX(),s.getY())}transitionsBetween(i,o){let s=Math.trunc(i.getX()),l=Math.trunc(i.getY()),c=Math.trunc(o.getX()),d=Math.trunc(o.getY()),h=Math.abs(d-l)>Math.abs(c-s);if(h){let O=s;s=l,l=O,O=c,c=d,d=O}let p=Math.abs(c-s),y=Math.abs(d-l),E=-p/2,I=l<d?1:-1,S=s<c?1:-1,T=0,N=this.image.get(h?l:s,h?s:l);for(let O=s,k=l;O!==c;O+=S){let P=this.image.get(h?k:O,h?O:k);if(P!==N&&(T++,N=P),E+=y,E>0){if(k===d)break;k+=I,E-=p}}return T}}let Wo=(()=>{class w{constructor(){this.decoder=new Nl}decode(o,s=null){let l,c;if(s!=null&&s.has(De.PURE_BARCODE)){let E=w.extractPureBits(o.getBlackMatrix());l=this.decoder.decode(E),c=w.NO_POINTS}else{let E=new At(o.getBlackMatrix()).detect();l=this.decoder.decode(E.getBits()),c=E.getPoints()}let d=l.getRawBytes(),h=new Dt(l.getText(),d,8*d.length,c,ce.DATA_MATRIX,R.currentTimeMillis()),p=l.getByteSegments();p!=null&&h.putMetadata(Rt.BYTE_SEGMENTS,p);let y=l.getECLevel();return y!=null&&h.putMetadata(Rt.ERROR_CORRECTION_LEVEL,y),h}reset(){}static extractPureBits(o){let s=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(s==null||l==null)throw new H;let c=this.moduleSize(s,o),d=s[1],h=l[1],p=s[0],E=(l[0]-p+1)/c,I=(h-d+1)/c;if(E<=0||I<=0)throw new H;let S=c/2;d+=S,p+=S;let T=new ye(E,I);for(let N=0;N<I;N++){let O=d+N*c;for(let k=0;k<E;k++)o.get(p+k*c,O)&&T.set(k,N)}return T}static moduleSize(o,s){let l=s.getWidth(),c=o[0],d=o[1];for(;c<l&&s.get(c,d);)c++;if(c===l)throw new H;let h=c-o[0];if(h===0)throw new H;return h}}return w.NO_POINTS=[],w})();class qo extends wn{constructor(i=500){super(new Wo,i)}}var Sr=function(w){return w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H",w}(Sr||{});class it{constructor(i,o,s){this.value=i,this.stringValue=o,this.bits=s,it.FOR_BITS.set(s,this),it.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return it.L;case"M":return it.M;case"Q":return it.Q;case"H":return it.H;default:throw new x(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof it))return!1;let o=i;return this.value===o.value}static forBits(i){if(i<0||i>=it.FOR_BITS.size)throw new v;return it.FOR_BITS.get(i)}}it.FOR_BITS=new Map,it.FOR_VALUE=new Map,it.L=new it(Sr.L,"L",1),it.M=new it(Sr.M,"M",0),it.Q=new it(Sr.Q,"Q",3),it.H=new it(Sr.H,"H",2);class $t{constructor(i){this.errorCorrectionLevel=it.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return X.bitCount(i^o)}static decodeFormatInformation(i,o){let s=$t.doDecodeFormatInformation(i,o);return s!==null?s:$t.doDecodeFormatInformation(i^$t.FORMAT_INFO_MASK_QR,o^$t.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let s=Number.MAX_SAFE_INTEGER,l=0;for(let c of $t.FORMAT_INFO_DECODE_LOOKUP){let d=c[0];if(d===i||d===o)return new $t(c[1]);let h=$t.numBitsDiffering(i,d);h<s&&(l=c[1],s=h),i!==o&&(h=$t.numBitsDiffering(o,d),h<s&&(l=c[1],s=h))}return s<=3?new $t(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof $t))return!1;let o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}$t.FORMAT_INFO_MASK_QR=21522,$t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0,o=this.ecBlocks;for(let s of o)i+=s.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ue{constructor(i,o,...s){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=s;let l=0,c=s[0].getECCodewordsPerBlock(),d=s[0].getECBlocks();for(let h of d)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new q;try{return this.getVersionForNumber((i-17)/4)}catch{throw new q}}static getVersionForNumber(i){if(i<1||i>40)throw new v;return ue.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,s=0;for(let l=0;l<ue.VERSION_DECODE_INFO.length;l++){let c=ue.VERSION_DECODE_INFO[l];if(c===i)return ue.getVersionForNumber(l+7);let d=$t.numBitsDiffering(i,c);d<o&&(s=l+7,o=d)}return o<=3?ue.getVersionForNumber(s):null}buildFunctionPattern(){let i=this.getDimensionForVersion(),o=new ye(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);let s=this.alignmentPatternCenters.length;for(let l=0;l<s;l++){let c=this.alignmentPatternCenters[l]-2;for(let d=0;d<s;d++)l===0&&(d===0||d===s-1)||l===s-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,c,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ue.VERSIONS=[new ue(1,new Int32Array(0),new F(7,new _(1,19)),new F(10,new _(1,16)),new F(13,new _(1,13)),new F(17,new _(1,9))),new ue(2,Int32Array.from([6,18]),new F(10,new _(1,34)),new F(16,new _(1,28)),new F(22,new _(1,22)),new F(28,new _(1,16))),new ue(3,Int32Array.from([6,22]),new F(15,new _(1,55)),new F(26,new _(1,44)),new F(18,new _(2,17)),new F(22,new _(2,13))),new ue(4,Int32Array.from([6,26]),new F(20,new _(1,80)),new F(18,new _(2,32)),new F(26,new _(2,24)),new F(16,new _(4,9))),new ue(5,Int32Array.from([6,30]),new F(26,new _(1,108)),new F(24,new _(2,43)),new F(18,new _(2,15),new _(2,16)),new F(22,new _(2,11),new _(2,12))),new ue(6,Int32Array.from([6,34]),new F(18,new _(2,68)),new F(16,new _(4,27)),new F(24,new _(4,19)),new F(28,new _(4,15))),new ue(7,Int32Array.from([6,22,38]),new F(20,new _(2,78)),new F(18,new _(4,31)),new F(18,new _(2,14),new _(4,15)),new F(26,new _(4,13),new _(1,14))),new ue(8,Int32Array.from([6,24,42]),new F(24,new _(2,97)),new F(22,new _(2,38),new _(2,39)),new F(22,new _(4,18),new _(2,19)),new F(26,new _(4,14),new _(2,15))),new ue(9,Int32Array.from([6,26,46]),new F(30,new _(2,116)),new F(22,new _(3,36),new _(2,37)),new F(20,new _(4,16),new _(4,17)),new F(24,new _(4,12),new _(4,13))),new ue(10,Int32Array.from([6,28,50]),new F(18,new _(2,68),new _(2,69)),new F(26,new _(4,43),new _(1,44)),new F(24,new _(6,19),new _(2,20)),new F(28,new _(6,15),new _(2,16))),new ue(11,Int32Array.from([6,30,54]),new F(20,new _(4,81)),new F(30,new _(1,50),new _(4,51)),new F(28,new _(4,22),new _(4,23)),new F(24,new _(3,12),new _(8,13))),new ue(12,Int32Array.from([6,32,58]),new F(24,new _(2,92),new _(2,93)),new F(22,new _(6,36),new _(2,37)),new F(26,new _(4,20),new _(6,21)),new F(28,new _(7,14),new _(4,15))),new ue(13,Int32Array.from([6,34,62]),new F(26,new _(4,107)),new F(22,new _(8,37),new _(1,38)),new F(24,new _(8,20),new _(4,21)),new F(22,new _(12,11),new _(4,12))),new ue(14,Int32Array.from([6,26,46,66]),new F(30,new _(3,115),new _(1,116)),new F(24,new _(4,40),new _(5,41)),new F(20,new _(11,16),new _(5,17)),new F(24,new _(11,12),new _(5,13))),new ue(15,Int32Array.from([6,26,48,70]),new F(22,new _(5,87),new _(1,88)),new F(24,new _(5,41),new _(5,42)),new F(30,new _(5,24),new _(7,25)),new F(24,new _(11,12),new _(7,13))),new ue(16,Int32Array.from([6,26,50,74]),new F(24,new _(5,98),new _(1,99)),new F(28,new _(7,45),new _(3,46)),new F(24,new _(15,19),new _(2,20)),new F(30,new _(3,15),new _(13,16))),new ue(17,Int32Array.from([6,30,54,78]),new F(28,new _(1,107),new _(5,108)),new F(28,new _(10,46),new _(1,47)),new F(28,new _(1,22),new _(15,23)),new F(28,new _(2,14),new _(17,15))),new ue(18,Int32Array.from([6,30,56,82]),new F(30,new _(5,120),new _(1,121)),new F(26,new _(9,43),new _(4,44)),new F(28,new _(17,22),new _(1,23)),new F(28,new _(2,14),new _(19,15))),new ue(19,Int32Array.from([6,30,58,86]),new F(28,new _(3,113),new _(4,114)),new F(26,new _(3,44),new _(11,45)),new F(26,new _(17,21),new _(4,22)),new F(26,new _(9,13),new _(16,14))),new ue(20,Int32Array.from([6,34,62,90]),new F(28,new _(3,107),new _(5,108)),new F(26,new _(3,41),new _(13,42)),new F(30,new _(15,24),new _(5,25)),new F(28,new _(15,15),new _(10,16))),new ue(21,Int32Array.from([6,28,50,72,94]),new F(28,new _(4,116),new _(4,117)),new F(26,new _(17,42)),new F(28,new _(17,22),new _(6,23)),new F(30,new _(19,16),new _(6,17))),new ue(22,Int32Array.from([6,26,50,74,98]),new F(28,new _(2,111),new _(7,112)),new F(28,new _(17,46)),new F(30,new _(7,24),new _(16,25)),new F(24,new _(34,13))),new ue(23,Int32Array.from([6,30,54,78,102]),new F(30,new _(4,121),new _(5,122)),new F(28,new _(4,47),new _(14,48)),new F(30,new _(11,24),new _(14,25)),new F(30,new _(16,15),new _(14,16))),new ue(24,Int32Array.from([6,28,54,80,106]),new F(30,new _(6,117),new _(4,118)),new F(28,new _(6,45),new _(14,46)),new F(30,new _(11,24),new _(16,25)),new F(30,new _(30,16),new _(2,17))),new ue(25,Int32Array.from([6,32,58,84,110]),new F(26,new _(8,106),new _(4,107)),new F(28,new _(8,47),new _(13,48)),new F(30,new _(7,24),new _(22,25)),new F(30,new _(22,15),new _(13,16))),new ue(26,Int32Array.from([6,30,58,86,114]),new F(28,new _(10,114),new _(2,115)),new F(28,new _(19,46),new _(4,47)),new F(28,new _(28,22),new _(6,23)),new F(30,new _(33,16),new _(4,17))),new ue(27,Int32Array.from([6,34,62,90,118]),new F(30,new _(8,122),new _(4,123)),new F(28,new _(22,45),new _(3,46)),new F(30,new _(8,23),new _(26,24)),new F(30,new _(12,15),new _(28,16))),new ue(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new _(3,117),new _(10,118)),new F(28,new _(3,45),new _(23,46)),new F(30,new _(4,24),new _(31,25)),new F(30,new _(11,15),new _(31,16))),new ue(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new _(7,116),new _(7,117)),new F(28,new _(21,45),new _(7,46)),new F(30,new _(1,23),new _(37,24)),new F(30,new _(19,15),new _(26,16))),new ue(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new _(5,115),new _(10,116)),new F(28,new _(19,47),new _(10,48)),new F(30,new _(15,24),new _(25,25)),new F(30,new _(23,15),new _(25,16))),new ue(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new _(13,115),new _(3,116)),new F(28,new _(2,46),new _(29,47)),new F(30,new _(42,24),new _(1,25)),new F(30,new _(23,15),new _(28,16))),new ue(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new _(17,115)),new F(28,new _(10,46),new _(23,47)),new F(30,new _(10,24),new _(35,25)),new F(30,new _(19,15),new _(35,16))),new ue(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new _(17,115),new _(1,116)),new F(28,new _(14,46),new _(21,47)),new F(30,new _(29,24),new _(19,25)),new F(30,new _(11,15),new _(46,16))),new ue(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new _(13,115),new _(6,116)),new F(28,new _(14,46),new _(23,47)),new F(30,new _(44,24),new _(7,25)),new F(30,new _(59,16),new _(1,17))),new ue(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new _(12,121),new _(7,122)),new F(28,new _(12,47),new _(26,48)),new F(30,new _(39,24),new _(14,25)),new F(30,new _(22,15),new _(41,16))),new ue(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new _(6,121),new _(14,122)),new F(28,new _(6,47),new _(34,48)),new F(30,new _(46,24),new _(10,25)),new F(30,new _(2,15),new _(64,16))),new ue(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new _(17,122),new _(4,123)),new F(28,new _(29,46),new _(14,47)),new F(30,new _(49,24),new _(10,25)),new F(30,new _(24,15),new _(46,16))),new ue(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new _(4,122),new _(18,123)),new F(28,new _(13,46),new _(32,47)),new F(30,new _(48,24),new _(14,25)),new F(30,new _(42,15),new _(32,16))),new ue(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new _(20,117),new _(4,118)),new F(28,new _(40,47),new _(7,48)),new F(30,new _(43,24),new _(22,25)),new F(30,new _(10,15),new _(67,16))),new ue(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new _(19,118),new _(6,119)),new F(28,new _(18,47),new _(31,48)),new F(30,new _(34,24),new _(34,25)),new F(30,new _(20,15),new _(61,16)))];var Wt=function(w){return w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111",w}(Wt||{});class vn{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let s=0;s<o;s++)for(let l=0;l<o;l++)this.isMasked(s,l)&&i.flip(l,s)}}vn.values=new Map([[Wt.DATA_MASK_000,new vn(Wt.DATA_MASK_000,(w,i)=>(w+i&1)===0)],[Wt.DATA_MASK_001,new vn(Wt.DATA_MASK_001,(w,i)=>(w&1)===0)],[Wt.DATA_MASK_010,new vn(Wt.DATA_MASK_010,(w,i)=>i%3===0)],[Wt.DATA_MASK_011,new vn(Wt.DATA_MASK_011,(w,i)=>(w+i)%3===0)],[Wt.DATA_MASK_100,new vn(Wt.DATA_MASK_100,(w,i)=>(Math.floor(w/2)+Math.floor(i/3)&1)===0)],[Wt.DATA_MASK_101,new vn(Wt.DATA_MASK_101,(w,i)=>w*i%6===0)],[Wt.DATA_MASK_110,new vn(Wt.DATA_MASK_110,(w,i)=>w*i%6<3)],[Wt.DATA_MASK_111,new vn(Wt.DATA_MASK_111,(w,i)=>(w+i+w*i%3&1)===0)]]);class Bd{constructor(i){let o=i.getHeight();if(o<21||(o&3)!==1)throw new q;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let c=0;c<6;c++)i=this.copyBit(c,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let c=5;c>=0;c--)i=this.copyBit(8,c,i);let o=this.bitMatrix.getHeight(),s=0,l=o-7;for(let c=o-1;c>=l;c--)s=this.copyBit(8,c,s);for(let c=o-8;c<o;c++)s=this.copyBit(c,8,s);if(this.parsedFormatInfo=$t.decodeFormatInformation(i,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return ue.getVersionForNumber(o);let s=0,l=i-11;for(let d=5;d>=0;d--)for(let h=i-9;h>=l;h--)s=this.copyBit(h,d,s);let c=ue.decodeVersionInformation(s);if(c!==null&&c.getDimensionForVersion()===i)return this.parsedVersion=c,c;s=0;for(let d=5;d>=0;d--)for(let h=i-9;h>=l;h--)s=this.copyBit(d,h,s);if(c=ue.decodeVersionInformation(s),c!==null&&c.getDimensionForVersion()===i)return this.parsedVersion=c,c;throw new q}copyBit(i,o,s){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?s<<1|1:s<<1}readCodewords(){let i=this.readFormatInformation(),o=this.readVersion(),s=vn.values.get(i.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);let c=o.buildFunctionPattern(),d=!0,h=new Uint8Array(o.getTotalCodewords()),p=0,y=0,E=0;for(let I=l-1;I>0;I-=2){I===6&&I--;for(let S=0;S<l;S++){let T=d?l-1-S:S;for(let N=0;N<2;N++)c.get(I-N,T)||(E++,y<<=1,this.bitMatrix.get(I-N,T)&&(y|=1),E===8&&(h[p++]=y,E=0,y=0))}d=!d}if(p!==o.getTotalCodewords())throw new q;return h}remask(){if(this.parsedFormatInfo===null)return;let i=vn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){let i=this.bitMatrix;for(let o=0,s=i.getWidth();o<s;o++)for(let l=o+1,c=i.getHeight();l<c;l++)i.get(o,l)!==i.get(l,o)&&(i.flip(l,o),i.flip(o,l))}}class Yo{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,s){if(i.length!==o.getTotalCodewords())throw new v;let l=o.getECBlocksForLevel(s),c=0,d=l.getECBlocks();for(let N of d)c+=N.getCount();let h=new Array(c),p=0;for(let N of d)for(let O=0;O<N.getCount();O++){let k=N.getDataCodewords(),P=l.getECCodewordsPerBlock()+k;h[p++]=new Yo(k,new Uint8Array(P))}let y=h[0].codewords.length,E=h.length-1;for(;E>=0&&h[E].codewords.length!==y;)E--;E++;let I=y-l.getECCodewordsPerBlock(),S=0;for(let N=0;N<I;N++)for(let O=0;O<p;O++)h[O].codewords[N]=i[S++];for(let N=E;N<p;N++)h[N].codewords[I]=i[S++];let T=h[0].codewords.length;for(let N=I;N<T;N++)for(let O=0;O<p;O++){let k=O<E?N:N+1;h[O].codewords[k]=i[S++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Fn=function(w){return w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI",w}(Fn||{});class he{constructor(i,o,s,l){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=s,this.bits=l,he.FOR_BITS.set(l,this),he.FOR_VALUE.set(i,this)}static forBits(i){let o=he.FOR_BITS.get(i);if(o===void 0)throw new v;return o}getCharacterCountBits(i){let o=i.getVersionNumber(),s;return o<=9?s=0:o<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof he))return!1;let o=i;return this.value===o.value}toString(){return this.stringValue}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.TERMINATOR=new he(Fn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),he.NUMERIC=new he(Fn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),he.ALPHANUMERIC=new he(Fn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),he.STRUCTURED_APPEND=new he(Fn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),he.BYTE=new he(Fn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),he.ECI=new he(Fn.ECI,"ECI",Int32Array.from([0,0,0]),7),he.KANJI=new he(Fn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),he.FNC1_FIRST_POSITION=new he(Fn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),he.FNC1_SECOND_POSITION=new he(Fn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),he.HANZI=new he(Fn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Rl=(()=>{class w{static decode(o,s,l,c){let d=new $o(o),h=new Me,p=new Array,y=-1,E=-1;try{let I=null,S=!1,T;do{if(d.available()<4)T=he.TERMINATOR;else{let N=d.readBits(4);T=he.forBits(N)}switch(T){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:S=!0;break;case he.STRUCTURED_APPEND:if(d.available()<16)throw new q;y=d.readBits(8),E=d.readBits(8);break;case he.ECI:let N=w.parseECIValue(d);if(I=K.getCharacterSetECIByValue(N),I===null)throw new q;break;case he.HANZI:let O=d.readBits(4),k=d.readBits(T.getCharacterCountBits(s));O===w.GB2312_SUBSET&&w.decodeHanziSegment(d,h,k);break;default:let P=d.readBits(T.getCharacterCountBits(s));switch(T){case he.NUMERIC:w.decodeNumericSegment(d,h,P);break;case he.ALPHANUMERIC:w.decodeAlphanumericSegment(d,h,P,S);break;case he.BYTE:w.decodeByteSegment(d,h,P,I,p,c);break;case he.KANJI:w.decodeKanjiSegment(d,h,P);break;default:throw new q}break}}while(T!==he.TERMINATOR)}catch{throw new q}return new br(o,h.toString(),p.length===0?null:p,l===null?null:l.toString(),y,E)}static decodeHanziSegment(o,s,l){if(l*13>o.available())throw new q;let c=new Uint8Array(2*l),d=0;for(;l>0;){let h=o.readBits(13),p=h/96<<8&4294967295|h%96;p<959?p+=41377:p+=42657,c[d]=p>>8&255,c[d+1]=p&255,d+=2,l--}try{s.append(st.decode(c,me.GB2312))}catch(h){throw new q(h)}}static decodeKanjiSegment(o,s,l){if(l*13>o.available())throw new q;let c=new Uint8Array(2*l),d=0;for(;l>0;){let h=o.readBits(13),p=h/192<<8&4294967295|h%192;p<7936?p+=33088:p+=49472,c[d]=p>>8,c[d+1]=p,d+=2,l--}try{s.append(st.decode(c,me.SHIFT_JIS))}catch(h){throw new q(h)}}static decodeByteSegment(o,s,l,c,d,h){if(8*l>o.available())throw new q;let p=new Uint8Array(l);for(let E=0;E<l;E++)p[E]=o.readBits(8);let y;c===null?y=me.guessEncoding(p,h):y=c.getName();try{s.append(st.decode(p,y))}catch(E){throw new q(E)}d.push(p)}static toAlphaNumericChar(o){if(o>=w.ALPHANUMERIC_CHARS.length)throw new q;return w.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,s,l,c){let d=s.length();for(;l>1;){if(o.available()<11)throw new q;let h=o.readBits(11);s.append(w.toAlphaNumericChar(Math.floor(h/45))),s.append(w.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(o.available()<6)throw new q;s.append(w.toAlphaNumericChar(o.readBits(6)))}if(c)for(let h=d;h<s.length();h++)s.charAt(h)==="%"&&(h<s.length()-1&&s.charAt(h+1)==="%"?s.deleteCharAt(h+1):s.setCharAt(h,""))}static decodeNumericSegment(o,s,l){for(;l>=3;){if(o.available()<10)throw new q;let c=o.readBits(10);if(c>=1e3)throw new q;s.append(w.toAlphaNumericChar(Math.floor(c/100))),s.append(w.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(w.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(o.available()<7)throw new q;let c=o.readBits(7);if(c>=100)throw new q;s.append(w.toAlphaNumericChar(Math.floor(c/10))),s.append(w.toAlphaNumericChar(c%10))}else if(l===1){if(o.available()<4)throw new q;let c=o.readBits(4);if(c>=10)throw new q;s.append(w.toAlphaNumericChar(c))}}static parseECIValue(o){let s=o.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){let l=o.readBits(8);return(s&63)<<8&4294967295|l}if((s&224)===192){let l=o.readBits(16);return(s&31)<<16&4294967295|l}throw new q}}return w.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",w.GB2312_SUBSET=1,w})();class Ol{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;let o=i[0];i[0]=i[2],i[2]=o}}class bi{constructor(){this.rsDecoder=new Ht(Ze.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(ye.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){let s=new Bd(i),l=null;try{return this.decodeBitMatrixParser(s,o)}catch(c){l=c}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();let c=this.decodeBitMatrixParser(s,o);return c.setOther(new Ol(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(i,o){let s=i.readVersion(),l=i.readFormatInformation().getErrorCorrectionLevel(),c=i.readCodewords(),d=Yo.getDataBlocks(c,s,l),h=0;for(let E of d)h+=E.getNumDataCodewords();let p=new Uint8Array(h),y=0;for(let E of d){let I=E.getCodewords(),S=E.getNumDataCodewords();this.correctErrors(I,S);for(let T=0;T<S;T++)p[y++]=I[T]}return Rl.decode(p,s,l,o)}correctErrors(i,o){let s=new Int32Array(i);try{this.rsDecoder.decode(s,i.length-o)}catch{throw new D}for(let l=0;l<o;l++)i[l]=s[l]}}class Zo extends ae{constructor(i,o,s){super(i,o),this.estimatedModuleSize=s}aboutEquals(i,o,s){if(Math.abs(o-this.getY())<=i&&Math.abs(s-this.getX())<=i){let l=Math.abs(i-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(i,o,s){let l=(this.getX()+o)/2,c=(this.getY()+i)/2,d=(this.estimatedModuleSize+s)/2;return new Zo(l,c,d)}}class Xo{constructor(i,o,s,l,c,d,h){this.image=i,this.startX=o,this.startY=s,this.width=l,this.height=c,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let i=this.startX,o=this.height,s=this.width,l=i+s,c=this.startY+o/2,d=new Int32Array(3),h=this.image;for(let p=0;p<o;p++){let y=c+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=i;for(;E<l&&!h.get(E,y);)E++;let I=0;for(;E<l;){if(h.get(E,y))if(I===1)d[1]++;else if(I===2){if(this.foundPatternCross(d)){let S=this.handlePossibleCenter(d,y,E);if(S!==null)return S}d[0]=d[2],d[1]=1,d[2]=0,I=1}else d[++I]++;else I===1&&I++,d[I]++;E++}if(this.foundPatternCross(d)){let S=this.handlePossibleCenter(d,y,l);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){let o=this.moduleSize,s=o/2;for(let l=0;l<3;l++)if(Math.abs(o-i[l])>=s)return!1;return!0}crossCheckVertical(i,o,s,l){let c=this.image,d=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let p=i;for(;p>=0&&c.get(o,p)&&h[1]<=s;)h[1]++,p--;if(p<0||h[1]>s)return NaN;for(;p>=0&&!c.get(o,p)&&h[0]<=s;)h[0]++,p--;if(h[0]>s)return NaN;for(p=i+1;p<d&&c.get(o,p)&&h[1]<=s;)h[1]++,p++;if(p===d||h[1]>s)return NaN;for(;p<d&&!c.get(o,p)&&h[2]<=s;)h[2]++,p++;if(h[2]>s)return NaN;let y=h[0]+h[1]+h[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(h)?Xo.centerFromEnd(h,p):NaN}handlePossibleCenter(i,o,s){let l=i[0]+i[1]+i[2],c=Xo.centerFromEnd(i,s),d=this.crossCheckVertical(o,c,2*i[1],l);if(!isNaN(d)){let h=(i[0]+i[1]+i[2])/3;for(let y of this.possibleCenters)if(y.aboutEquals(h,d,c))return y.combineEstimate(d,c,h);let p=new Zo(c,d,h);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class no extends ae{constructor(i,o,s,l){super(i,o),this.estimatedModuleSize=s,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,s){if(Math.abs(o-this.getY())<=i&&Math.abs(s-this.getX())<=i){let l=Math.abs(i-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(i,o,s){let l=this.count+1,c=(this.count*this.getX()+o)/l,d=(this.count*this.getY()+i)/l,h=(this.count*this.estimatedModuleSize+s)/l;return new no(c,d,h,l)}}class kl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Ud=(()=>{class w{constructor(o,s){this.image=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){let s=o!=null&&o.get(De.TRY_HARDER)!==void 0,l=o!=null&&o.get(De.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),h=c.getWidth(),p=Math.floor(3*d/(4*w.MAX_MODULES));(p<w.MIN_SKIP||s)&&(p=w.MIN_SKIP);let y=!1,E=new Int32Array(5);for(let S=p-1;S<d&&!y;S+=p){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let T=0;for(let N=0;N<h;N++)if(c.get(N,S))(T&1)===1&&T++,E[T]++;else if((T&1)===0)if(T===4)if(w.foundPatternCross(E)){if(this.handlePossibleCenter(E,S,N,l)===!0)if(p=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{let k=this.findRowSkip();k>E[2]&&(S+=k-E[2]-p,N=h-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,T=3;continue}T=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,T=3;else E[++T]++;else E[T]++;w.foundPatternCross(E)&&this.handlePossibleCenter(E,S,h,l)===!0&&(p=E[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}let I=this.selectBestPatterns();return ae.orderBestPatterns(I),new kl(I)}static centerFromEnd(o,s){return s-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let s=0;for(let d=0;d<5;d++){let h=o[d];if(h===0)return!1;s+=h}if(s<7)return!1;let l=s/7,c=l/2;return Math.abs(l-o[0])<c&&Math.abs(l-o[1])<c&&Math.abs(3*l-o[2])<3*c&&Math.abs(l-o[3])<c&&Math.abs(l-o[4])<c}getCrossCheckStateCount(){let o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,s,l,c){let d=this.getCrossCheckStateCount(),h=0,p=this.image;for(;o>=h&&s>=h&&p.get(s-h,o-h);)d[2]++,h++;if(o<h||s<h)return!1;for(;o>=h&&s>=h&&!p.get(s-h,o-h)&&d[1]<=l;)d[1]++,h++;if(o<h||s<h||d[1]>l)return!1;for(;o>=h&&s>=h&&p.get(s-h,o-h)&&d[0]<=l;)d[0]++,h++;if(d[0]>l)return!1;let y=p.getHeight(),E=p.getWidth();for(h=1;o+h<y&&s+h<E&&p.get(s+h,o+h);)d[2]++,h++;if(o+h>=y||s+h>=E)return!1;for(;o+h<y&&s+h<E&&!p.get(s+h,o+h)&&d[3]<l;)d[3]++,h++;if(o+h>=y||s+h>=E||d[3]>=l)return!1;for(;o+h<y&&s+h<E&&p.get(s+h,o+h)&&d[4]<l;)d[4]++,h++;if(d[4]>=l)return!1;let I=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(I-c)<2*c&&w.foundPatternCross(d)}crossCheckVertical(o,s,l,c){let d=this.image,h=d.getHeight(),p=this.getCrossCheckStateCount(),y=o;for(;y>=0&&d.get(s,y);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(s,y)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&d.get(s,y)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=o+1;y<h&&d.get(s,y);)p[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(s,y)&&p[3]<l;)p[3]++,y++;if(y===h||p[3]>=l)return NaN;for(;y<h&&d.get(s,y)&&p[4]<l;)p[4]++,y++;if(p[4]>=l)return NaN;let E=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(E-c)>=2*c?NaN:w.foundPatternCross(p)?w.centerFromEnd(p,y):NaN}crossCheckHorizontal(o,s,l,c){let d=this.image,h=d.getWidth(),p=this.getCrossCheckStateCount(),y=o;for(;y>=0&&d.get(y,s);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,s)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&d.get(y,s)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=o+1;y<h&&d.get(y,s);)p[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(y,s)&&p[3]<l;)p[3]++,y++;if(y===h||p[3]>=l)return NaN;for(;y<h&&d.get(y,s)&&p[4]<l;)p[4]++,y++;if(p[4]>=l)return NaN;let E=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(E-c)>=c?NaN:w.foundPatternCross(p)?w.centerFromEnd(p,y):NaN}handlePossibleCenter(o,s,l,c){let d=o[0]+o[1]+o[2]+o[3]+o[4],h=w.centerFromEnd(o,l),p=this.crossCheckVertical(s,Math.floor(h),o[2],d);if(!isNaN(p)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(p),o[2],d),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(p),Math.floor(h),o[2],d)))){let y=d/7,E=!1,I=this.possibleCenters;for(let S=0,T=I.length;S<T;S++){let N=I[S];if(N.aboutEquals(y,p,h)){I[S]=N.combineEstimate(p,h,y),E=!0;break}}if(!E){let S=new no(h,p,y);I.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(let l of this.possibleCenters)if(l.getCount()>=w.CENTER_QUORUM)if(s==null)s=l;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-l.getX())-Math.abs(s.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,s=0,l=this.possibleCenters.length;for(let h of this.possibleCenters)h.getCount()>=w.CENTER_QUORUM&&(o++,s+=h.getEstimatedModuleSize());if(o<3)return!1;let c=s/l,d=0;for(let h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-c);return d<=.05*s}selectBestPatterns(){let o=this.possibleCenters.length;if(o<3)throw new H;let s=this.possibleCenters,l;if(o>3){let c=0,d=0;for(let y of this.possibleCenters){let E=y.getEstimatedModuleSize();c+=E,d+=E*E}l=c/o;let h=Math.sqrt(d/o-l*l);s.sort((y,E)=>{let I=Math.abs(E.getEstimatedModuleSize()-l),S=Math.abs(y.getEstimatedModuleSize()-l);return I<S?-1:I>S?1:0});let p=Math.max(.2*l,h);for(let y=0;y<s.length&&s.length>3;y++){let E=s[y];Math.abs(E.getEstimatedModuleSize()-l)>p&&(s.splice(y,1),y--)}}if(s.length>3){let c=0;for(let d of s)c+=d.getEstimatedModuleSize();l=c/s.length,s.sort((d,h)=>{if(h.getCount()===d.getCount()){let p=Math.abs(h.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return p<y?1:p>y?-1:0}else return h.getCount()-d.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}return w.CENTER_QUORUM=2,w.MIN_SKIP=3,w.MAX_MODULES=57,w})();class ro{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(De.NEED_RESULT_POINT_CALLBACK);let s=new Ud(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(s)}processFinderPatternInfo(i){let o=i.getTopLeft(),s=i.getTopRight(),l=i.getBottomLeft(),c=this.calculateModuleSize(o,s,l);if(c<1)throw new H("No pattern found in proccess finder.");let d=ro.computeDimension(o,s,l,c),h=ue.getProvisionalVersionForDimension(d),p=h.getDimensionForVersion()-7,y=null;if(h.getAlignmentPatternCenters().length>0){let T=s.getX()-o.getX()+l.getX(),N=s.getY()-o.getY()+l.getY(),O=1-3/p,k=Math.floor(o.getX()+O*(T-o.getX())),P=Math.floor(o.getY()+O*(N-o.getY()));for(let Y=4;Y<=16;Y<<=1)try{y=this.findAlignmentInRegion(c,k,P,Y);break}catch(te){if(!(te instanceof H))throw te}}let E=ro.createTransform(o,s,l,y,d),I=ro.sampleGrid(this.image,E,d),S;return y===null?S=[l,o,s]:S=[l,o,s,y],new Qi(I,S)}static createTransform(i,o,s,l,c){let d=c-3.5,h,p,y,E;return l!==null?(h=l.getX(),p=l.getY(),y=d-3,E=y):(h=o.getX()-i.getX()+s.getX(),p=o.getY()-i.getY()+s.getY(),y=d,E=d),zt.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,E,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),h,p,s.getX(),s.getY())}static sampleGrid(i,o,s){return wt.getInstance().sampleGridWithTransform(i,s,s,o)}static computeDimension(i,o,s,l){let c=Ee.round(ae.distance(i,o)/l),d=Ee.round(ae.distance(i,s)/l),h=Math.floor((c+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new H("Dimensions could be not found.")}return h}calculateModuleSize(i,o,s){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,s))/2}calculateModuleSizeOneWay(i,o){let s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,s,l){let c=this.sizeOfBlackWhiteBlackRun(i,o,s,l),d=1,h=i-(s-i);h<0?(d=i/(i-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(h-i),h=this.image.getWidth()-1);let p=Math.floor(o-(l-o)*d);return d=1,p<0?(d=o/(o-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(p-o),p=this.image.getHeight()-1),h=Math.floor(i+(h-i)*d),c+=this.sizeOfBlackWhiteBlackRun(i,o,h,p),c-1}sizeOfBlackWhiteBlackRun(i,o,s,l){let c=Math.abs(l-o)>Math.abs(s-i);if(c){let T=i;i=o,o=T,T=s,s=l,l=T}let d=Math.abs(s-i),h=Math.abs(l-o),p=-d/2,y=i<s?1:-1,E=o<l?1:-1,I=0,S=s+y;for(let T=i,N=o;T!==S;T+=y){let O=c?N:T,k=c?T:N;if(I===1===this.image.get(O,k)){if(I===2)return Ee.distance(T,N,i,o);I++}if(p+=h,p>0){if(N===l)break;N+=E,p-=d}}return I===2?Ee.distance(s+y,l,i,o):NaN}findAlignmentInRegion(i,o,s,l){let c=Math.floor(l*i),d=Math.max(0,o-c),h=Math.min(this.image.getWidth()-1,o+c);if(h-d<i*3)throw new H("Alignment top exceeds estimated module size.");let p=Math.max(0,s-c),y=Math.min(this.image.getHeight()-1,s+c);if(y-p<i*3)throw new H("Alignment bottom exceeds estimated module size.");return new Xo(this.image,d,p,h-d,y-p,i,this.resultPointCallback).find()}}class _r{constructor(){this.decoder=new bi}getDecoder(){return this.decoder}decode(i,o){let s,l;if(o!=null&&o.get(De.PURE_BARCODE)!==void 0){let p=_r.extractPureBits(i.getBlackMatrix());s=this.decoder.decodeBitMatrix(p,o),l=_r.NO_POINTS}else{let p=new ro(i.getBlackMatrix()).detect(o);s=this.decoder.decodeBitMatrix(p.getBits(),o),l=p.getPoints()}s.getOther()instanceof Ol&&s.getOther().applyMirroredCorrection(l);let c=new Dt(s.getText(),s.getRawBytes(),void 0,l,ce.QR_CODE,void 0),d=s.getByteSegments();d!==null&&c.putMetadata(Rt.BYTE_SEGMENTS,d);let h=s.getECLevel();return h!==null&&c.putMetadata(Rt.ERROR_CORRECTION_LEVEL,h),s.hasStructuredAppend()&&(c.putMetadata(Rt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),c.putMetadata(Rt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),c}reset(){}static extractPureBits(i){let o=i.getTopLeftOnBit(),s=i.getBottomRightOnBit();if(o===null||s===null)throw new H;let l=this.moduleSize(o,i),c=o[1],d=s[1],h=o[0],p=s[0];if(h>=p||c>=d)throw new H;if(d-c!==p-h&&(p=h+(d-c),p>=i.getWidth()))throw new H;let y=Math.round((p-h+1)/l),E=Math.round((d-c+1)/l);if(y<=0||E<=0)throw new H;if(E!==y)throw new H;let I=Math.floor(l/2);c+=I,h+=I;let S=h+Math.floor((y-1)*l)-p;if(S>0){if(S>I)throw new H;h-=S}let T=c+Math.floor((E-1)*l)-d;if(T>0){if(T>I)throw new H;c-=T}let N=new ye(y,E);for(let O=0;O<E;O++){let k=c+Math.floor(O*l);for(let P=0;P<y;P++)i.get(h+Math.floor(P*l),k)&&N.set(P,O)}return N}static moduleSize(i,o){let s=o.getHeight(),l=o.getWidth(),c=i[0],d=i[1],h=!0,p=0;for(;c<l&&d<s;){if(h!==o.get(c,d)){if(++p===5)break;h=!h}c++,d++}if(c===l||d===s)throw new H;return(c-i[0])/7}}_r.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(i){return Ee.sum(i)}static toIntArray(i){if(i==null||!i.length)return we.EMPTY_INT_ARRAY;let o=new Int32Array(i.length),s=0;for(let l of i)o[s++]=l;return o}static getCodeword(i){let o=W.binarySearch(we.SYMBOL_TABLE,i&262143);return o<0?-1:(we.CODEWORD_TABLE[o]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vd{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ne{static detectMultiple(i,o,s){let l=i.getBlackMatrix(),c=Ne.detect(s,l);return c.length||(l=l.clone(),l.rotate180(),c=Ne.detect(s,l)),new Vd(l,c)}static detect(i,o){let s=new Array,l=0,c=0,d=!1;for(;l<o.getHeight();){let h=Ne.findVertices(o,l,c);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,c=0;for(let p of s)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=Ne.ROW_STEP;continue}if(d=!0,s.push(h),!i)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return s}static findVertices(i,o,s){let l=i.getHeight(),c=i.getWidth(),d=new Array(8);return Ne.copyToResult(d,Ne.findRowsWithPattern(i,l,c,o,s,Ne.START_PATTERN),Ne.INDEXES_START_PATTERN),d[4]!=null&&(s=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),Ne.copyToResult(d,Ne.findRowsWithPattern(i,l,c,o,s,Ne.STOP_PATTERN),Ne.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,s){for(let l=0;l<s.length;l++)i[s[l]]=o[l]}static findRowsWithPattern(i,o,s,l,c,d){let h=new Array(4),p=!1,y=new Int32Array(d.length);for(;l<o;l+=Ne.ROW_STEP){let I=Ne.findGuardPattern(i,c,l,s,!1,d,y);if(I!=null){for(;l>0;){let S=Ne.findGuardPattern(i,c,--l,s,!1,d,y);if(S!=null)I=S;else{l++;break}}h[0]=new ae(I[0],l),h[1]=new ae(I[1],l),p=!0;break}}let E=l+1;if(p){let I=0,S=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;E<o;E++){let T=Ne.findGuardPattern(i,S[0],E,s,!1,d,y);if(T!=null&&Math.abs(S[0]-T[0])<Ne.MAX_PATTERN_DRIFT&&Math.abs(S[1]-T[1])<Ne.MAX_PATTERN_DRIFT)S=T,I=0;else{if(I>Ne.SKIPPED_ROW_COUNT_MAX)break;I++}}E-=I+1,h[2]=new ae(S[0],E),h[3]=new ae(S[1],E)}return E-l<Ne.BARCODE_MIN_HEIGHT&&W.fill(h,null),h}static findGuardPattern(i,o,s,l,c,d,h){W.fillWithin(h,0,h.length,0);let p=o,y=0;for(;i.get(p,s)&&p>0&&y++<Ne.MAX_PIXEL_DRIFT;)p--;let E=p,I=0,S=d.length;for(let T=c;E<l;E++)if(i.get(E,s)!==T)h[I]++;else{if(I===S-1){if(Ne.patternMatchVariance(h,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return new Int32Array([p,E]);p+=h[0]+h[1],R.arraycopy(h,2,h,0,I-1),h[I-1]=0,h[I]=0,I--}else I++;h[I]=1,T=!T}return I===S-1&&Ne.patternMatchVariance(h,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE?new Int32Array([p,E-1]):null}static patternMatchVariance(i,o,s){let l=i.length,c=0,d=0;for(let y=0;y<l;y++)c+=i[y],d+=o[y];if(c<d)return 1/0;let h=c/d;s*=h;let p=0;for(let y=0;y<l;y++){let E=i[y],I=o[y]*h,S=E>I?E-I:I-E;if(S>s)return 1/0;p+=S}return p/c}}Ne.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ne.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ne.MAX_AVG_VARIANCE=.42,Ne.MAX_INDIVIDUAL_VARIANCE=.8,Ne.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ne.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ne.MAX_PIXEL_DRIFT=3,Ne.MAX_PATTERN_DRIFT=5,Ne.SKIPPED_ROW_COUNT_MAX=25,Ne.ROW_STEP=5,Ne.BARCODE_MIN_HEIGHT=10;class bt{constructor(i,o){if(o.length===0)throw new v;this.field=i;let s=o.length;if(s>1&&o[0]===0){let l=1;for(;l<s&&o[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),R.arraycopy(o,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let o=this.coefficients[0],s=this.coefficients.length;for(let l=1;l<s;l++)o=this.field.add(this.field.multiply(i,o),this.coefficients[l]);return o}add(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,s=i.coefficients;if(o.length>s.length){let d=o;o=s,s=d}let l=new Int32Array(s.length),c=s.length-o.length;R.arraycopy(s,0,l,0,c);for(let d=c;d<s.length;d++)l[d]=this.field.add(o[d-c],s[d]);return new bt(this.field,l)}subtract(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof bt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new bt(this.field,new Int32Array([0]));let o=this.coefficients,s=o.length,l=i.coefficients,c=l.length,d=new Int32Array(s+c-1);for(let h=0;h<s;h++){let p=o[h];for(let y=0;y<c;y++)d[h+y]=this.field.add(d[h+y],this.field.multiply(p,l[y]))}return new bt(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let s=0;s<i;s++)o[s]=this.field.subtract(0,this.coefficients[s]);return new bt(this.field,o)}multiplyScalar(i){if(i===0)return new bt(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,s=new Int32Array(o);for(let l=0;l<o;l++)s[l]=this.field.multiply(this.coefficients[l],i);return new bt(this.field,s)}multiplyByMonomial(i,o){if(i<0)throw new v;if(o===0)return new bt(this.field,new Int32Array([0]));let s=this.coefficients.length,l=new Int32Array(s+i);for(let c=0;c<s;c++)l[c]=this.field.multiply(this.coefficients[c],o);return new bt(this.field,l)}toString(){let i=new Me;for(let o=this.getDegree();o>=0;o--){let s=this.getCoefficient(o);s!==0&&(s<0?(i.append(" - "),s=-s):i.length()>0&&i.append(" + "),(o===0||s!==1)&&i.append(s),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class jd{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}inverse(i){if(i===0)throw new Xi;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Qo extends jd{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let s=1;for(let l=0;l<i;l++)this.expTable[l]=s,s=s*o%i;for(let l=0;l<i-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new bt(this,new Int32Array([0])),this.one=new bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new v;if(o===0)return this.zero;let s=new Int32Array(i+1);return s[0]=o,new bt(this,s)}}Qo.PDF417_GF=new Qo(we.NUMBER_OF_CODEWORDS,3);class aa{constructor(){this.field=Qo.PDF417_GF}decode(i,o,s){let l=new bt(this.field,i),c=new Int32Array(o),d=!1;for(let N=o;N>0;N--){let O=l.evaluateAt(this.field.exp(N));c[o-N]=O,O!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(s!=null)for(let N of s){let O=this.field.exp(i.length-1-N),k=new bt(this.field,new Int32Array([this.field.subtract(0,O),1]));h=h.multiply(k)}let p=new bt(this.field,c),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),p,o),E=y[0],I=y[1],S=this.findErrorLocations(E),T=this.findErrorMagnitudes(I,E,S);for(let N=0;N<S.length;N++){let O=i.length-1-this.field.log(S[N]);if(O<0)throw D.getChecksumInstance();i[O]=this.field.subtract(i[O],T[N])}return S.length}runEuclideanAlgorithm(i,o,s){if(i.getDegree()<o.getDegree()){let S=i;i=o,o=S}let l=i,c=o,d=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(s/2);){let S=l,T=d;if(l=c,d=h,l.isZero())throw D.getChecksumInstance();c=S;let N=this.field.getZero(),O=l.getCoefficient(l.getDegree()),k=this.field.inverse(O);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let P=c.getDegree()-l.getDegree(),Y=this.field.multiply(c.getCoefficient(c.getDegree()),k);N=N.add(this.field.buildMonomial(P,Y)),c=c.subtract(l.multiplyByMonomial(P,Y))}h=N.multiply(d).subtract(T).negative()}let p=h.getCoefficient(0);if(p===0)throw D.getChecksumInstance();let y=this.field.inverse(p),E=h.multiply(y),I=c.multiply(y);return[E,I]}findErrorLocations(i){let o=i.getDegree(),s=new Int32Array(o),l=0;for(let c=1;c<this.field.getSize()&&l<o;c++)i.evaluateAt(c)===0&&(s[l]=this.field.inverse(c),l++);if(l!==o)throw D.getChecksumInstance();return s}findErrorMagnitudes(i,o,s){let l=o.getDegree(),c=new Int32Array(l);for(let y=1;y<=l;y++)c[l-y]=this.field.multiply(y,o.getCoefficient(y));let d=new bt(this.field,c),h=s.length,p=new Int32Array(h);for(let y=0;y<h;y++){let E=this.field.inverse(s[y]),I=this.field.subtract(0,i.evaluateAt(E)),S=this.field.inverse(d.evaluateAt(E));p[y]=this.field.multiply(I,S)}return p}}class Zr{constructor(i,o,s,l,c){i instanceof Zr?this.constructor_2(i):this.constructor_1(i,o,s,l,c)}constructor_1(i,o,s,l,c){let d=o==null||s==null,h=l==null||c==null;if(d&&h)throw new H;d?(o=new ae(0,l.getY()),s=new ae(0,c.getY())):h&&(l=new ae(i.getWidth()-1,o.getY()),c=new ae(i.getWidth()-1,s.getY())),this.image=i,this.topLeft=o,this.bottomLeft=s,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(o.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(o.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),c.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Zr(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,s){let l=this.topLeft,c=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(i>0){let p=s?this.topLeft:this.topRight,y=Math.trunc(p.getY()-i);y<0&&(y=0);let E=new ae(p.getX(),y);s?l=E:d=E}if(o>0){let p=s?this.bottomLeft:this.bottomRight,y=Math.trunc(p.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let E=new ae(p.getX(),y);s?c=E:h=E}return new Zr(this.image,l,c,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Hd{constructor(i,o,s,l){this.columnCount=i,this.errorCorrectionLevel=l,this.rowCountUpperPart=o,this.rowCountLowerPart=s,this.rowCount=o+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class io{constructor(){this.buffer=""}static form(i,o){let s=-1;function l(d,h,p,y,E,I){if(d==="%%")return"%";if(o[++s]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let S=E?parseInt(E.substr(1)):void 0,T;switch(I){case"s":T=o[s];break;case"c":T=o[s][0];break;case"f":T=parseFloat(o[s]).toFixed(d);break;case"p":T=parseFloat(o[s]).toPrecision(d);break;case"e":T=parseFloat(o[s]).toExponential(d);break;case"x":T=parseInt(o[s]).toString(S||16);break;case"d":T=parseFloat(parseInt(o[s],S||10).toPrecision(d)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let N=parseInt(p),O=p&&p[0]+""=="0"?"0":" ";for(;T.length<N;)T=h!==void 0?T+O:O+T;return T}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(c,l)}format(i,...o){this.buffer+=io.form(i,o)}toString(){return this.buffer}}let Fl=(()=>{class w{constructor(o){this.boundingBox=new Zr(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let s=this.getCodeword(o);if(s!=null)return s;for(let l=1;l<w.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(o)-l;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(o)+l,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,s){this.codewords[this.imageRowToCodewordIndex(o)]=s}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let o=new io,s=0;for(let l of this.codewords){if(l==null){o.format("%3d:    |   %n",s++);continue}o.format("%3d: %3d|%3d%n",s++,l.getRowNumber(),l.getValue())}return o.toString()}}return w.MAX_NEARBY_DISTANCE=5,w})();class oo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(let[s,l]of this.values.entries()){let c={getKey:()=>s,getValue:()=>l};c.getValue()>i?(i=c.getValue(),o=[],o.push(c.getKey())):c.getValue()===i&&o.push(c.getKey())}return we.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Pl extends Fl{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=-1,y=1,E=0;for(let I=d;I<h;I++){if(o[I]==null)continue;let S=o[I],T=S.getRowNumber()-p;if(T===0)E++;else if(T===1)y=Math.max(y,E),E=1,p=S.getRowNumber();else if(T<0||S.getRowNumber()>=i.getRowCount()||T>I)o[I]=null;else{let N;y>2?N=(y-2)*T:N=T;let O=N>=I;for(let k=1;k<=N&&!O;k++)O=o[I-k]!=null;O?o[I]=null:(p=S.getRowNumber(),E=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let s of this.getCodewords())if(s!=null){let l=s.getRowNumber();if(l>=o.length)continue;o[l]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),p=-1;for(let y=c;y<d;y++){if(h[y]==null)continue;let E=h[y];E.setRowNumberAsRowIndicatorColumn();let I=E.getRowNumber()-p;I===0||(I===1?p=E.getRowNumber():E.getRowNumber()>=i.getRowCount()?h[y]=null:p=E.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new oo,s=new oo,l=new oo,c=new oo;for(let h of i){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let p=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:s.setValue(p*3+1);break;case 1:c.setValue(p/3),l.setValue(p%3);break;case 2:o.setValue(p+1);break}}if(o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||c.getValue().length===0||o.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<we.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let d=new Hd(o.getValue()[0],s.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let s=0;s<i.length;s++){let l=i[s];if(i[s]==null)continue;let c=l.getValue()%30,d=l.getRowNumber();if(d>o.getRowCount()){i[s]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:c*3+1!==o.getRowCountUpperPart()&&(i[s]=null);break;case 1:(Math.trunc(c/3)!==o.getErrorCorrectionLevel()||c%3!==o.getRowCountLowerPart())&&(i[s]=null);break;case 2:c+1!==o.getColumnCount()&&(i[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class so{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=we.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let s=this.detectionResultColumns[o].getCodewords();for(let l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(o,l,s))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++)if(i[s]!=null&&o[s]!=null&&i[s].getRowNumber()===o[s].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[s];c!=null&&(c.setRowNumber(i[s].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<o.length;s++){if(o[s]==null)continue;let l=o[s].getRowNumber(),c=0;for(let d=this.barcodeColumnCount+1;d>0&&c<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[s];h!=null&&(c=so.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let s=0;s<o.length;s++){if(o[s]==null)continue;let l=o[s].getRowNumber(),c=0;for(let d=1;d<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[s];h!=null&&(c=so.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(i)?(s.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,s){if(!this.detectionResultColumns[i-1])return;let l=s[o],c=this.detectionResultColumns[i-1].getCodewords(),d=c;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let h=new Array(14);h[2]=c[o],h[3]=d[o],o>0&&(h[0]=s[o-1],h[4]=c[o-1],h[5]=d[o-1]),o>1&&(h[8]=s[o-2],h[10]=c[o-2],h[11]=d[o-2]),o<s.length-1&&(h[1]=s[o+1],h[6]=c[o+1],h[7]=d[o+1]),o<s.length-2&&(h[9]=s[o+2],h[12]=c[o+2],h[13]=d[o+2]);for(let p of h)if(so.adjustRowNumber(l,p))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new io;for(let s=0;s<i.getCodewords().length;s++){o.format("CW %3d:",s);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){o.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[s];if(c==null){o.format("    |   ");continue}o.format(" %3d|%3d",c.getRowNumber(),c.getValue())}o.format("%n")}return o.toString()}}let Ii=(()=>{class w{constructor(o,s,l,c){this.rowNumber=w.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(s),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==w.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}return w.BARCODE_ROW_UNKNOWN=-1,w})();class cn{static initialize(){for(let i=0;i<we.SYMBOL_TABLE.length;i++){let o=we.SYMBOL_TABLE[i],s=o&1;for(let l=0;l<we.BARS_IN_MODULE;l++){let c=0;for(;(o&1)===s;)c+=1,o>>=1;s=o&1,cn.RATIOS_TABLE[i]||(cn.RATIOS_TABLE[i]=new Array(we.BARS_IN_MODULE)),cn.RATIOS_TABLE[i][we.BARS_IN_MODULE-l-1]=Math.fround(c/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=cn.getDecodedCodewordValue(cn.sampleBitCounts(i));return o!==-1?o:cn.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Ee.sum(i),s=new Int32Array(we.BARS_IN_MODULE),l=0,c=0;for(let d=0;d<we.MODULES_IN_CODEWORD;d++){let h=o/(2*we.MODULES_IN_CODEWORD)+d*o/we.MODULES_IN_CODEWORD;c+i[l]<=h&&(c+=i[l],l++),s[l]++}return s}static getDecodedCodewordValue(i){let o=cn.getBitValue(i);return we.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let s=0;s<i.length;s++)for(let l=0;l<i[s];l++)o=o<<1|(s%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Ee.sum(i),s=new Array(we.BARS_IN_MODULE);if(o>1)for(let d=0;d<s.length;d++)s[d]=Math.fround(i[d]/o);let l=Wr.MAX_VALUE,c=-1;this.bSymbolTableReady||cn.initialize();for(let d=0;d<cn.RATIOS_TABLE.length;d++){let h=0,p=cn.RATIOS_TABLE[d];for(let y=0;y<we.BARS_IN_MODULE;y++){let E=Math.fround(p[y]-s[y]);if(h+=Math.fround(E*E),h>=l)break}h<l&&(l=h,c=we.SYMBOL_TABLE[d])}return c}}cn.bSymbolTableReady=!1,cn.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(w=>w=new Array(we.BARS_IN_MODULE));class Ll{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class la{static parseLong(i,o=void 0){return parseInt(i,o)}}let zd=(()=>{class w extends m{}return w.kind="NullPointerException",w})();class Tr{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,s){if(i==null)throw new zd;if(o<0||o>i.length||s<0||o+s>i.length||o+s<0)throw new G;if(s===0)return;for(let l=0;l<s;l++)this.write(i[o+l])}flush(){}close(){}}class Gd extends m{}class Bl extends Tr{constructor(i=32){if(super(),this.count=0,i<0)throw new v("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let s=this.buf.length<<1;if(s-i<0&&(s=i),s<0){if(i<0)throw new Gd;s=X.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,s)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,s){if(o<0||o>i.length||s<0||o+s-i.length>0)throw new G;this.ensureCapacity(this.count+s),R.arraycopy(i,o,this.buf,this.count,s),this.count+=s}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var nt=function(w){return w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT",w}(nt||{});function Ul(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ko;function Mr(w){if(typeof Ko>"u"&&(Ko=Ul()),Ko===null)throw new Error("BigInt is not supported!");return Ko(w)}function Vl(){let w=[];w[0]=Mr(1);let i=Mr(900);w[1]=i;for(let o=2;o<16;o++)w[o]=w[o-1]*i;return w}class L{static decode(i,o){let s=new Me(""),l=K.ISO8859_1;s.enableDecoding(l);let c=1,d=i[c++],h=new Ll;for(;c<i[0];){switch(d){case L.TEXT_COMPACTION_MODE_LATCH:c=L.textCompaction(i,c,s);break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:c=L.byteCompaction(d,i,l,c,s);break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[c++]);break;case L.NUMERIC_COMPACTION_MODE_LATCH:c=L.numericCompaction(i,c,s);break;case L.ECI_CHARSET:let y=K.getCharacterSetECIByValue(i[c++]);break;case L.ECI_GENERAL_PURPOSE:c+=2;break;case L.ECI_USER_DEFINED:c++;break;case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=L.decodeMacroBlock(i,c,h);break;case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:throw new q;default:c--,c=L.textCompaction(i,c,s);break}if(c<i.length)d=i[c++];else throw q.getFormatInstance()}if(s.length()===0)throw q.getFormatInstance();let p=new br(null,s.toString(),null,o);return p.setOther(h),p}static decodeMacroBlock(i,o,s){if(o+L.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw q.getFormatInstance();let l=new Int32Array(L.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<L.NUMBER_OF_SEQUENCE_CODEWORDS;h++,o++)l[h]=i[o];s.setSegmentIndex(X.parseInt(L.decodeBase900toBase10(l,L.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Me;o=L.textCompaction(i,o,c),s.setFileId(c.toString());let d=-1;for(i[o]===L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Me;o=L.textCompaction(i,o+1,h),s.setFileName(h.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Me;o=L.textCompaction(i,o+1,p),s.setSender(p.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Me;o=L.textCompaction(i,o+1,y),s.setAddressee(y.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Me;o=L.numericCompaction(i,o+1,E),s.setSegmentCount(X.parseInt(E.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new Me;o=L.numericCompaction(i,o+1,I),s.setTimestamp(la.parseLong(I.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Me;o=L.numericCompaction(i,o+1,S),s.setChecksum(X.parseInt(S.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Me;o=L.numericCompaction(i,o+1,T),s.setFileSize(la.parseLong(T.toString()));break;default:throw q.getFormatInstance()}break;case L.MACRO_PDF417_TERMINATOR:o++,s.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(d!==-1){let h=o-d;s.isLastSegment()&&h--,s.setOptionalData(W.copyOfRange(i,d,d+h))}return o}static textCompaction(i,o,s){let l=new Int32Array((i[0]-o)*2),c=new Int32Array((i[0]-o)*2),d=0,h=!1;for(;o<i[0]&&!h;){let p=i[o++];if(p<L.TEXT_COMPACTION_MODE_LATCH)l[d]=p/30,l[d+1]=p%30,d+=2;else switch(p){case L.TEXT_COMPACTION_MODE_LATCH:l[d++]=L.TEXT_COMPACTION_MODE_LATCH;break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:o--,h=!0;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=i[o++],c[d]=p,d++;break}}return L.decodeTextCompaction(l,c,d,s),o}static decodeTextCompaction(i,o,s,l){let c=nt.ALPHA,d=nt.ALPHA,h=0;for(;h<s;){let p=i[h],y="";switch(c){case nt.ALPHA:if(p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case L.LL:c=nt.LOWER;break;case L.ML:c=nt.MIXED;break;case L.PS:d=c,c=nt.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=nt.ALPHA;break}break;case nt.LOWER:if(p<26)y=String.fromCharCode(97+p);else switch(p){case 26:y=" ";break;case L.AS:d=c,c=nt.ALPHA_SHIFT;break;case L.ML:c=nt.MIXED;break;case L.PS:d=c,c=nt.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=nt.ALPHA;break}break;case nt.MIXED:if(p<L.PL)y=L.MIXED_CHARS[p];else switch(p){case L.PL:c=nt.PUNCT;break;case 26:y=" ";break;case L.LL:c=nt.LOWER;break;case L.AL:c=nt.ALPHA;break;case L.PS:d=c,c=nt.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=nt.ALPHA;break}break;case nt.PUNCT:if(p<L.PAL)y=L.PUNCT_CHARS[p];else switch(p){case L.PAL:c=nt.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=nt.ALPHA;break}break;case nt.ALPHA_SHIFT:if(c=d,p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case L.TEXT_COMPACTION_MODE_LATCH:c=nt.ALPHA;break}break;case nt.PUNCT_SHIFT:if(c=d,p<L.PAL)y=L.PUNCT_CHARS[p];else switch(p){case L.PAL:c=nt.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:c=nt.ALPHA;break}break}y!==""&&l.append(y),h++}}static byteCompaction(i,o,s,l,c){let d=new Bl,h=0,p=0,y=!1;switch(i){case L.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),I=o[l++];for(;l<o[0]&&!y;)switch(E[h++]=I,p=900*p+I,I=o[l++],I){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(h%5===0&&h>0){for(let S=0;S<6;++S)d.write(Number(Mr(p)>>Mr(8*(5-S))));p=0,h=0}break}l===o[0]&&I<L.TEXT_COMPACTION_MODE_LATCH&&(E[h++]=I);for(let S=0;S<h;S++)d.write(E[S]);break;case L.BYTE_COMPACTION_MODE_LATCH_6:for(;l<o[0]&&!y;){let S=o[l++];if(S<L.TEXT_COMPACTION_MODE_LATCH)h++,p=900*p+S;else switch(S){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(h%5===0&&h>0){for(let T=0;T<6;++T)d.write(Number(Mr(p)>>Mr(8*(5-T))));p=0,h=0}}break}return c.append(st.decode(d.toByteArray(),s)),l}static numericCompaction(i,o,s){let l=0,c=!1,d=new Int32Array(L.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!c;){let h=i[o++];if(o===i[0]&&(c=!0),h<L.TEXT_COMPACTION_MODE_LATCH)d[l]=h,l++;else switch(h){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:o--,c=!0;break}(l%L.MAX_NUMERIC_CODEWORDS===0||h===L.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(s.append(L.decodeBase900toBase10(d,l)),l=0)}return o}static decodeBase900toBase10(i,o){let s=Mr(0);for(let c=0;c<o;c++)s+=L.EXP900[o-c-1]*Mr(i[c]);let l=s.toString();if(l.charAt(0)!=="1")throw new q;return l.substring(1)}}L.TEXT_COMPACTION_MODE_LATCH=900,L.BYTE_COMPACTION_MODE_LATCH=901,L.NUMERIC_COMPACTION_MODE_LATCH=902,L.BYTE_COMPACTION_MODE_LATCH_6=924,L.ECI_USER_DEFINED=925,L.ECI_GENERAL_PURPOSE=926,L.ECI_CHARSET=927,L.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,L.MACRO_PDF417_TERMINATOR=922,L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,L.MAX_NUMERIC_CODEWORDS=15,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,L.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,L.PL=25,L.LL=27,L.AS=27,L.ML=28,L.AL=28,L.PS=29,L.PAL=29,L.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,L.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",L.EXP900=Ul()?Vl():[],L.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Oe{constructor(){}static decode(i,o,s,l,c,d,h){let p=new Zr(i,o,s,l,c),y=null,E=null,I;for(let N=!0;;N=!1){if(o!=null&&(y=Oe.getRowIndicatorColumn(i,p,o,!0,d,h)),l!=null&&(E=Oe.getRowIndicatorColumn(i,p,l,!1,d,h)),I=Oe.merge(y,E),I==null)throw H.getNotFoundInstance();let O=I.getBoundingBox();if(N&&O!=null&&(O.getMinY()<p.getMinY()||O.getMaxY()>p.getMaxY()))p=O;else break}I.setBoundingBox(p);let S=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,y),I.setDetectionResultColumn(S,E);let T=y!=null;for(let N=1;N<=S;N++){let O=T?N:S-N;if(I.getDetectionResultColumn(O)!==void 0)continue;let k;O===0||O===S?k=new Pl(p,O===0):k=new Fl(p),I.setDetectionResultColumn(O,k);let P=-1,Y=P;for(let te=p.getMinY();te<=p.getMaxY();te++){if(P=Oe.getStartColumn(I,O,te,T),P<0||P>p.getMaxX()){if(Y===-1)continue;P=Y}let z=Oe.detectCodeword(i,p.getMinX(),p.getMaxX(),T,P,te,d,h);z!=null&&(k.setCodeword(te,z),Y=P,d=Math.min(d,z.getWidth()),h=Math.max(h,z.getWidth()))}}return Oe.createDecoderResult(I)}static merge(i,o){if(i==null&&o==null)return null;let s=Oe.getBarcodeMetadata(i,o);if(s==null)return null;let l=Zr.merge(Oe.adjustBoundingBox(i),Oe.adjustBoundingBox(o));return new so(s,l)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let s=Oe.getMax(o),l=0;for(let h of o)if(l+=s-h,h>0)break;let c=i.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let d=0;for(let h=o.length-1;h>=0&&(d+=s-o[h],!(o[h]>0));h--);for(let h=c.length-1;d>0&&c[h]==null;h--)d--;return i.getBoundingBox().addMissingRows(l,d,i.isLeft())}static getMax(i){let o=-1;for(let s of i)o=Math.max(o,s);return o}static getBarcodeMetadata(i,o){let s;if(i==null||(s=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let l;return o==null||(l=o.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s}static getRowIndicatorColumn(i,o,s,l,c,d){let h=new Pl(o,l);for(let p=0;p<2;p++){let y=p===0?1:-1,E=Math.trunc(Math.trunc(s.getX()));for(let I=Math.trunc(Math.trunc(s.getY()));I<=o.getMaxY()&&I>=o.getMinY();I+=y){let S=Oe.detectCodeword(i,0,i.getWidth(),l,E,I,c,d);S!=null&&(h.setCodeword(I,S),l?E=S.getStartX():E=S.getEndX())}}return h}static adjustCodewordCount(i,o){let s=o[0][1],l=s.getValue(),c=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Oe.getNumberOfECCodeWords(i.getBarcodeECLevel());if(l.length===0){if(c<1||c>we.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();s.setValue(c)}else l[0]!==c&&s.setValue(c)}static createDecoderResult(i){let o=Oe.createBarcodeMatrix(i);Oe.adjustCodewordCount(i,o);let s=new Array,l=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),c=[],d=new Array;for(let p=0;p<i.getBarcodeRowCount();p++)for(let y=0;y<i.getBarcodeColumnCount();y++){let E=o[p][y+1].getValue(),I=p*i.getBarcodeColumnCount()+y;E.length===0?s.push(I):E.length===1?l[I]=E[0]:(d.push(I),c.push(E))}let h=new Array(c.length);for(let p=0;p<h.length;p++)h[p]=c[p];return Oe.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),l,we.toIntArray(s),we.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(i,o,s,l,c){let d=new Int32Array(l.length),h=100;for(;h-- >0;){for(let p=0;p<d.length;p++)o[l[p]]=c[p][d[p]];try{return Oe.decodeCodewords(o,i,s)}catch(p){if(!(p instanceof D))throw p}if(d.length===0)throw D.getChecksumInstance();for(let p=0;p<d.length;p++)if(d[p]<c[p].length-1){d[p]++;break}else if(d[p]=0,p===d.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let l=0;l<o.length;l++)for(let c=0;c<o[l].length;c++)o[l][c]=new oo;let s=0;for(let l of i.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][s].setValue(c.getValue())}}}s++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,s,l){let c=l?1:-1,d=null;if(Oe.isValidBarcodeColumn(i,o-c)&&(d=i.getDetectionResultColumn(o-c).getCodeword(s)),d!=null)return l?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(s),d!=null)return l?d.getStartX():d.getEndX();if(Oe.isValidBarcodeColumn(i,o-c)&&(d=i.getDetectionResultColumn(o-c).getCodewordNearby(s)),d!=null)return l?d.getEndX():d.getStartX();let h=0;for(;Oe.isValidBarcodeColumn(i,o-c);){o-=c;for(let p of i.getDetectionResultColumn(o).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+c*h*(p.getEndX()-p.getStartX());h++}return l?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,s,l,c,d,h,p){c=Oe.adjustCodewordStartColumn(i,o,s,l,c,d);let y=Oe.getModuleBitCount(i,o,s,l,c,d);if(y==null)return null;let E,I=Ee.sum(y);if(l)E=c+I;else{for(let N=0;N<y.length/2;N++){let O=y[N];y[N]=y[y.length-1-N],y[y.length-1-N]=O}E=c,c=E-I}if(!Oe.checkCodewordSkew(I,h,p))return null;let S=cn.getDecodedValue(y),T=we.getCodeword(S);return T===-1?null:new Ii(c,E,Oe.getCodewordBucketNumber(S),T)}static getModuleBitCount(i,o,s,l,c,d){let h=c,p=new Int32Array(8),y=0,E=l?1:-1,I=l;for(;(l?h<s:h>=o)&&y<p.length;)i.get(h,d)===I?(p[y]++,h+=E):(y++,I=!I);return y===p.length||h===(l?s:o)&&y===p.length-1?p:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,s,l,c,d){let h=c,p=l?-1:1;for(let y=0;y<2;y++){for(;(l?h>=o:h<s)&&l===i.get(h,d);){if(Math.abs(c-h)>Oe.CODEWORD_SKEW_SIZE)return c;h+=p}p=-p,l=!l}return h}static checkCodewordSkew(i,o,s){return o-Oe.CODEWORD_SKEW_SIZE<=i&&i<=s+Oe.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,s){if(i.length===0)throw q.getFormatInstance();let l=1<<o+1,c=Oe.correctErrors(i,s,l);Oe.verifyCodewordCount(i,l);let d=L.decode(i,""+o);return d.setErrorsCorrected(c),d.setErasures(s.length),d}static correctErrors(i,o,s){if(o!=null&&o.length>s/2+Oe.MAX_ERRORS||s<0||s>Oe.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return Oe.errorCorrection.decode(i,s,o)}static verifyCodewordCount(i,o){if(i.length<4)throw q.getFormatInstance();let s=i[0];if(s>i.length)throw q.getFormatInstance();if(s===0)if(o<i.length)i[0]=i.length-o;else throw q.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),s=0,l=o.length-1;for(;!((i&1)!==s&&(s=i&1,l--,l<0));)o[l]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Oe.getCodewordBucketNumber(Oe.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new io;for(let s=0;s<i.length;s++){o.format("Row %2d: ",s);for(let l=0;l<i[s].length;l++){let c=i[s][l];c.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}o.format("%n")}return o.toString()}}Oe.CODEWORD_SKEW_SIZE=2,Oe.MAX_ERRORS=3,Oe.MAX_EC_CODEWORDS=512,Oe.errorCorrection=new aa;class qt{decode(i,o=null){let s=qt.decode(i,o,!1);if(s==null||s.length===0||s[0]==null)throw H.getNotFoundInstance();return s[0]}decodeMultiple(i,o=null){try{return qt.decode(i,o,!0)}catch(s){throw s instanceof q||s instanceof D?H.getNotFoundInstance():s}}static decode(i,o,s){let l=new Array,c=Ne.detectMultiple(i,o,s);for(let d of c.getPoints()){let h=Oe.decode(c.getBits(),d[4],d[5],d[6],d[7],qt.getMinCodewordWidth(d),qt.getMaxCodewordWidth(d)),p=new Dt(h.getText(),h.getRawBytes(),void 0,d,ce.PDF_417);p.putMetadata(Rt.ERROR_CORRECTION_LEVEL,h.getECLevel());let y=h.getOther();y!=null&&p.putMetadata(Rt.PDF417_EXTRA_METADATA,y),l.push(p)}return l.map(d=>d)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?X.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(qt.getMaxWidth(i[0],i[4]),qt.getMaxWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(qt.getMaxWidth(i[1],i[5]),qt.getMaxWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(qt.getMinWidth(i[0],i[4]),qt.getMinWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(qt.getMinWidth(i[1],i[5]),qt.getMinWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}let ca=(()=>{class w extends m{}return w.kind="ReaderException",w})();class jl{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;let o=!t(i)&&i.get(De.TRY_HARDER)===!0,s=t(i)?null:i.get(De.POSSIBLE_FORMATS),l=new Array;if(!t(s)){let c=s.some(d=>d===ce.UPC_A||d===ce.UPC_E||d===ce.EAN_13||d===ce.EAN_8||d===ce.CODABAR||d===ce.CODE_39||d===ce.CODE_93||d===ce.CODE_128||d===ce.ITF||d===ce.RSS_14||d===ce.RSS_EXPANDED);c&&!o&&l.push(new Ei(i,this.verbose)),s.includes(ce.QR_CODE)&&l.push(new _r),s.includes(ce.DATA_MATRIX)&&l.push(new Wo),s.includes(ce.AZTEC)&&l.push(new Dr),s.includes(ce.PDF_417)&&l.push(new qt),c&&o&&l.push(new Ei(i,this.verbose))}l.length===0&&(o||l.push(new Ei(i,this.verbose)),l.push(new _r),l.push(new Wo),l.push(new Dr),l.push(new qt),o&&l.push(new Ei(i,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(let i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ca("No readers where selected, nothing can be read.");for(let o of this.readers)try{return o.decode(i,this.hints)}catch(s){if(s instanceof ca)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class $d extends wn{constructor(i=null,o=500){let s=new jl;s.setHints(i),super(s,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class Wd extends wn{constructor(i=500){super(new qt,i)}}class qd extends wn{constructor(i=500){super(new _r,i)}}var Hl=function(w){return w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION",w}(Hl||{}),Ft=Hl;class ua{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new an(i,Int32Array.from([1])))}buildGenerator(i){let o=this.cachedGenerators;if(i>=o.length){let s=o[o.length-1],l=this.field;for(let c=o.length;c<=i;c++){let d=s.multiply(new an(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));o.push(d),s=d}}return o[i]}encode(i,o){if(o===0)throw new v("No error correction bytes");let s=i.length-o;if(s<=0)throw new v("No data bytes provided");let l=this.buildGenerator(o),c=new Int32Array(s);R.arraycopy(i,0,c,0,s);let d=new an(this.field,c);d=d.multiplyByMonomial(o,1);let p=d.divide(l)[1].getCoefficients(),y=o-p.length;for(let E=0;E<y;E++)i[s+E]=0;R.arraycopy(p,0,i,s+y,p.length)}}let mr=(()=>{class w{constructor(){}static applyMaskPenaltyRule1(o){return w.applyMaskPenaltyRule1Internal(o,!0)+w.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let s=0,l=o.getArray(),c=o.getWidth(),d=o.getHeight();for(let h=0;h<d-1;h++){let p=l[h];for(let y=0;y<c-1;y++){let E=p[y];E===p[y+1]&&E===l[h+1][y]&&E===l[h+1][y+1]&&s++}}return w.N2*s}static applyMaskPenaltyRule3(o){let s=0,l=o.getArray(),c=o.getWidth(),d=o.getHeight();for(let h=0;h<d;h++)for(let p=0;p<c;p++){let y=l[h];p+6<c&&y[p]===1&&y[p+1]===0&&y[p+2]===1&&y[p+3]===1&&y[p+4]===1&&y[p+5]===0&&y[p+6]===1&&(w.isWhiteHorizontal(y,p-4,p)||w.isWhiteHorizontal(y,p+7,p+11))&&s++,h+6<d&&l[h][p]===1&&l[h+1][p]===0&&l[h+2][p]===1&&l[h+3][p]===1&&l[h+4][p]===1&&l[h+5][p]===0&&l[h+6][p]===1&&(w.isWhiteVertical(l,p,h-4,h)||w.isWhiteVertical(l,p,h+7,h+11))&&s++}return s*w.N3}static isWhiteHorizontal(o,s,l){s=Math.max(s,0),l=Math.min(l,o.length);for(let c=s;c<l;c++)if(o[c]===1)return!1;return!0}static isWhiteVertical(o,s,l,c){l=Math.max(l,0),c=Math.min(c,o.length);for(let d=l;d<c;d++)if(o[d][s]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let s=0,l=o.getArray(),c=o.getWidth(),d=o.getHeight();for(let y=0;y<d;y++){let E=l[y];for(let I=0;I<c;I++)E[I]===1&&s++}let h=o.getHeight()*o.getWidth();return Math.floor(Math.abs(s*2-h)*10/h)*w.N4}static getDataMaskBit(o,s,l){let c,d;switch(o){case 0:c=l+s&1;break;case 1:c=l&1;break;case 2:c=s%3;break;case 3:c=(l+s)%3;break;case 4:c=Math.floor(l/2)+Math.floor(s/3)&1;break;case 5:d=l*s,c=(d&1)+d%3;break;case 6:d=l*s,c=(d&1)+d%3&1;break;case 7:d=l*s,c=d%3+(l+s&1)&1;break;default:throw new v("Invalid mask pattern: "+o)}return c===0}static applyMaskPenaltyRule1Internal(o,s){let l=0,c=s?o.getHeight():o.getWidth(),d=s?o.getWidth():o.getHeight(),h=o.getArray();for(let p=0;p<c;p++){let y=0,E=-1;for(let I=0;I<d;I++){let S=s?h[p][I]:h[I][p];S===E?y++:(y>=5&&(l+=w.N1+(y-5)),y=1,E=S)}y>=5&&(l+=w.N1+(y-5))}return l}}return w.N1=3,w.N2=3,w.N3=40,w.N4=10,w})();class ao{constructor(i,o){this.width=i,this.height=o;let s=new Array(o);for(let l=0;l!==o;l++)s[l]=new Uint8Array(i);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,s){this.bytes[o][i]=s}setBoolean(i,o,s){this.bytes[o][i]=s?1:0}clear(i){for(let o of this.bytes)W.fill(o,i)}equals(i){if(!(i instanceof ao))return!1;let o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let s=0,l=this.height;s<l;++s){let c=this.bytes[s],d=o.bytes[s];for(let h=0,p=this.width;h<p;++h)if(c[h]!==d[h])return!1}return!0}toString(){let i=new Me;for(let o=0,s=this.height;o<s;++o){let l=this.bytes[o];for(let c=0,d=this.width;c<d;++c)switch(l[c]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}let Jo=(()=>{class w{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let o=new Me;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<w.NUM_MASK_PATTERNS}}return w.NUM_MASK_PATTERNS=8,w})(),dt=(()=>{class w extends m{}return w.kind="WriterException",w})();class pe{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,s,l,c){pe.clearMatrix(c),pe.embedBasicPatterns(s,c),pe.embedTypeInfo(o,l,c),pe.maybeEmbedVersionInfo(s,c),pe.embedDataBits(i,l,c)}static embedBasicPatterns(i,o){pe.embedPositionDetectionPatternsAndSeparators(o),pe.embedDarkDotAtLeftBottomCorner(o),pe.maybeEmbedPositionAdjustmentPatterns(i,o),pe.embedTimingPatterns(o)}static embedTypeInfo(i,o,s){let l=new ge;pe.makeTypeInfoBits(i,o,l);for(let c=0,d=l.getSize();c<d;++c){let h=l.get(l.getSize()-1-c),p=pe.TYPE_INFO_COORDINATES[c],y=p[0],E=p[1];if(s.setBoolean(y,E,h),c<8){let I=s.getWidth()-c-1;s.setBoolean(I,8,h)}else{let S=s.getHeight()-7+(c-8);s.setBoolean(8,S,h)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;let s=new ge;pe.makeVersionInfoBits(i,s);let l=6*3-1;for(let c=0;c<6;++c)for(let d=0;d<3;++d){let h=s.get(l);l--,o.setBoolean(c,o.getHeight()-11+d,h),o.setBoolean(o.getHeight()-11+d,c,h)}}static embedDataBits(i,o,s){let l=0,c=-1,d=s.getWidth()-1,h=s.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<s.getHeight();){for(let p=0;p<2;++p){let y=d-p;if(!pe.isEmpty(s.get(y,h)))continue;let E;l<i.getSize()?(E=i.get(l),++l):E=!1,o!==255&&mr.getDataMaskBit(o,y,h)&&(E=!E),s.setBoolean(y,h,E)}h+=c}c=-c,h+=c,d-=2}if(l!==i.getSize())throw new dt("Not all bits consumed: "+l+"/"+i.getSize())}static findMSBSet(i){return 32-X.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new v("0 polynomial");let s=pe.findMSBSet(o);for(i<<=s-1;pe.findMSBSet(i)>=s;)i^=o<<pe.findMSBSet(i)-s;return i}static makeTypeInfoBits(i,o,s){if(!Jo.isValidMaskPattern(o))throw new dt("Invalid mask pattern");let l=i.getBits()<<3|o;s.appendBits(l,5);let c=pe.calculateBCHCode(l,pe.TYPE_INFO_POLY);s.appendBits(c,10);let d=new ge;if(d.appendBits(pe.TYPE_INFO_MASK_PATTERN,15),s.xor(d),s.getSize()!==15)throw new dt("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);let s=pe.calculateBCHCode(i.getVersionNumber(),pe.VERSION_INFO_POLY);if(o.appendBits(s,12),o.getSize()!==18)throw new dt("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){let s=(o+1)%2;pe.isEmpty(i.get(o,6))&&i.setNumber(o,6,s),pe.isEmpty(i.get(6,o))&&i.setNumber(6,o,s)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new dt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,s){for(let l=0;l<8;++l){if(!pe.isEmpty(s.get(i+l,o)))throw new dt;s.setNumber(i+l,o,0)}}static embedVerticalSeparationPattern(i,o,s){for(let l=0;l<7;++l){if(!pe.isEmpty(s.get(i,o+l)))throw new dt;s.setNumber(i,o+l,0)}}static embedPositionAdjustmentPattern(i,o,s){for(let l=0;l<5;++l){let c=pe.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)s.setNumber(i+d,o+l,c[d])}}static embedPositionDetectionPattern(i,o,s){for(let l=0;l<7;++l){let c=pe.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)s.setNumber(i+d,o+l,c[d])}}static embedPositionDetectionPatternsAndSeparators(i){let o=pe.POSITION_DETECTION_PATTERN[0].length;pe.embedPositionDetectionPattern(0,0,i),pe.embedPositionDetectionPattern(i.getWidth()-o,0,i),pe.embedPositionDetectionPattern(0,i.getWidth()-o,i);let s=8;pe.embedHorizontalSeparationPattern(0,s-1,i),pe.embedHorizontalSeparationPattern(i.getWidth()-s,s-1,i),pe.embedHorizontalSeparationPattern(0,i.getWidth()-s,i);let l=7;pe.embedVerticalSeparationPattern(l,0,i),pe.embedVerticalSeparationPattern(i.getHeight()-l-1,0,i),pe.embedVerticalSeparationPattern(l,i.getHeight()-l,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;let s=i.getVersionNumber()-1,l=pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let c=0,d=l.length;c!==d;c++){let h=l[c];if(h>=0)for(let p=0;p!==d;p++){let y=l[p];y>=0&&pe.isEmpty(o.get(y,h))&&pe.embedPositionAdjustmentPattern(y-2,h-2,o)}}}}pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pe.VERSION_INFO_POLY=7973,pe.TYPE_INFO_POLY=1335,pe.TYPE_INFO_MASK_PATTERN=21522;class zl{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ht{constructor(){}static calculateMaskPenalty(i){return mr.applyMaskPenaltyRule1(i)+mr.applyMaskPenaltyRule2(i)+mr.applyMaskPenaltyRule3(i)+mr.applyMaskPenaltyRule4(i)}static encode(i,o,s=null){let l=ht.DEFAULT_BYTE_MODE_ENCODING,c=s!==null&&s.get(Ft.CHARACTER_SET)!==void 0;c&&(l=s.get(Ft.CHARACTER_SET).toString());let d=this.chooseMode(i,l),h=new ge;if(d===he.BYTE&&(c||ht.DEFAULT_BYTE_MODE_ENCODING!==l)){let te=K.getCharacterSetECIByName(l);te!==void 0&&this.appendECI(te,h)}this.appendModeInfo(d,h);let p=new ge;this.appendBytes(i,d,p,l);let y;if(s!==null&&s.get(Ft.QR_VERSION)!==void 0){let te=Number.parseInt(s.get(Ft.QR_VERSION).toString(),10);y=ue.getVersionForNumber(te);let z=this.calculateBitsNeeded(d,h,p,y);if(!this.willFit(z,y,o))throw new dt("Data too big for requested version")}else y=this.recommendVersion(o,d,h,p);let E=new ge;E.appendBitArray(h);let I=d===he.BYTE?p.getSizeInBytes():i.length;this.appendLengthInfo(I,y,d,E),E.appendBitArray(p);let S=y.getECBlocksForLevel(o),T=y.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(T,E);let N=this.interleaveWithECBytes(E,y.getTotalCodewords(),T,S.getNumBlocks()),O=new Jo;O.setECLevel(o),O.setMode(d),O.setVersion(y);let k=y.getDimensionForVersion(),P=new ao(k,k),Y=this.chooseMaskPattern(N,o,y,P);return O.setMaskPattern(Y),pe.buildMatrix(N,o,y,Y,P),O.setMatrix(P),O}static recommendVersion(i,o,s,l){let c=this.calculateBitsNeeded(o,s,l,ue.getVersionForNumber(1)),d=this.chooseVersion(c,i),h=this.calculateBitsNeeded(o,s,l,d);return this.chooseVersion(h,i)}static calculateBitsNeeded(i,o,s,l){return o.getSize()+i.getCharacterCountBits(l)+s.getSize()}static getAlphanumericCode(i){return i<ht.ALPHANUMERIC_TABLE.length?ht.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(K.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return he.KANJI;let s=!1,l=!1;for(let c=0,d=i.length;c<d;++c){let h=i.charAt(c);if(ht.isDigit(h))s=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return he.BYTE}return l?he.ALPHANUMERIC:s?he.NUMERIC:he.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=st.encode(i,K.SJIS)}catch{return!1}let s=o.length;if(s%2!==0)return!1;for(let l=0;l<s;l+=2){let c=o[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(i,o,s,l){let c=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<Jo.NUM_MASK_PATTERNS;h++){pe.buildMatrix(i,o,s,h,l);let p=this.calculateMaskPenalty(l);p<c&&(c=p,d=h)}return d}static chooseVersion(i,o){for(let s=1;s<=40;s++){let l=ue.getVersionForNumber(s);if(ht.willFit(i,l,o))return l}throw new dt("Data too big")}static willFit(i,o,s){let l=o.getTotalCodewords(),d=o.getECBlocksForLevel(s).getTotalECCodewords(),h=l-d,p=(i+7)/8;return h>=p}static terminateBits(i,o){let s=i*8;if(o.getSize()>s)throw new dt("data bits cannot fit in the QR Code"+o.getSize()+" > "+s);for(let d=0;d<4&&o.getSize()<s;++d)o.appendBit(!1);let l=o.getSize()&7;if(l>0)for(let d=l;d<8;d++)o.appendBit(!1);let c=i-o.getSizeInBytes();for(let d=0;d<c;++d)o.appendBits((d&1)===0?236:17,8);if(o.getSize()!==s)throw new dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,s,l,c,d){if(l>=s)throw new dt("Block ID too large");let h=i%s,p=s-h,y=Math.floor(i/s),E=y+1,I=Math.floor(o/s),S=I+1,T=y-I,N=E-S;if(T!==N)throw new dt("EC bytes mismatch");if(s!==p+h)throw new dt("RS blocks mismatch");if(i!==(I+T)*p+(S+N)*h)throw new dt("Total bytes mismatch");l<p?(c[0]=I,d[0]=T):(c[0]=S,d[0]=N)}static interleaveWithECBytes(i,o,s,l){if(i.getSizeInBytes()!==s)throw new dt("Number of bits and data bytes does not match");let c=0,d=0,h=0,p=new Array;for(let E=0;E<l;++E){let I=new Int32Array(1),S=new Int32Array(1);ht.getNumDataBytesAndNumECBytesForBlockID(o,s,l,E,I,S);let T=I[0],N=new Uint8Array(T);i.toBytes(8*c,N,0,T);let O=ht.generateECBytes(N,S[0]);p.push(new zl(N,O)),d=Math.max(d,T),h=Math.max(h,O.length),c+=I[0]}if(s!==c)throw new dt("Data bytes does not match offset");let y=new ge;for(let E=0;E<d;++E)for(let I of p){let S=I.getDataBytes();E<S.length&&y.appendBits(S[E],8)}for(let E=0;E<h;++E)for(let I of p){let S=I.getErrorCorrectionBytes();E<S.length&&y.appendBits(S[E],8)}if(o!==y.getSizeInBytes())throw new dt("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(i,o){let s=i.length,l=new Int32Array(s+o);for(let d=0;d<s;d++)l[d]=i[d]&255;new ua(Ze.QR_CODE_FIELD_256).encode(l,o);let c=new Uint8Array(o);for(let d=0;d<o;d++)c[d]=l[s+d];return c}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,s,l){let c=s.getCharacterCountBits(o);if(i>=1<<c)throw new dt(i+" is bigger than "+((1<<c)-1));l.appendBits(i,c)}static appendBytes(i,o,s,l){switch(o){case he.NUMERIC:ht.appendNumericBytes(i,s);break;case he.ALPHANUMERIC:ht.appendAlphanumericBytes(i,s);break;case he.BYTE:ht.append8BitBytes(i,s,l);break;case he.KANJI:ht.appendKanjiBytes(i,s);break;default:throw new dt("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){let o=ht.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){let s=i.length,l=0;for(;l<s;){let c=ht.getDigit(i.charAt(l));if(l+2<s){let d=ht.getDigit(i.charAt(l+1)),h=ht.getDigit(i.charAt(l+2));o.appendBits(c*100+d*10+h,10),l+=3}else if(l+1<s){let d=ht.getDigit(i.charAt(l+1));o.appendBits(c*10+d,7),l+=2}else o.appendBits(c,4),l++}}static appendAlphanumericBytes(i,o){let s=i.length,l=0;for(;l<s;){let c=ht.getAlphanumericCode(i.charCodeAt(l));if(c===-1)throw new dt;if(l+1<s){let d=ht.getAlphanumericCode(i.charCodeAt(l+1));if(d===-1)throw new dt;o.appendBits(c*45+d,11),l+=2}else o.appendBits(c,6),l++}}static append8BitBytes(i,o,s){let l;try{l=st.encode(i,s)}catch(c){throw new dt(c)}for(let c=0,d=l.length;c!==d;c++){let h=l[c];o.appendBits(h,8)}}static appendKanjiBytes(i,o){let s;try{s=st.encode(i,K.SJIS)}catch(c){throw new dt(c)}let l=s.length;for(let c=0;c<l;c+=2){let d=s[c]&255,h=s[c+1]&255,p=d<<8&4294967295|h,y=-1;if(p>=33088&&p<=40956?y=p-33088:p>=57408&&p<=60351&&(y=p-49472),y===-1)throw new dt("Invalid byte sequence");let E=(y>>8)*192+(y&255);o.appendBits(E,13)}}static appendECI(i,o){o.appendBits(he.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ht.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();let da=(()=>{class w{write(o,s,l,c=null){if(o.length===0)throw new v("Found empty contents");if(s<0||l<0)throw new v("Requested dimensions are too small: "+s+"x"+l);let d=it.L,h=w.QUIET_ZONE_SIZE;c!==null&&(c.get(Ft.ERROR_CORRECTION)!==void 0&&(d=it.fromString(c.get(Ft.ERROR_CORRECTION).toString())),c.get(Ft.MARGIN)!==void 0&&(h=Number.parseInt(c.get(Ft.MARGIN).toString(),10)));let p=ht.encode(o,d,c);return this.renderResult(p,s,l,h)}writeToDom(o,s,l,c,d=null){typeof o=="string"&&(o=document.querySelector(o));let h=this.write(s,l,c,d);o&&o.appendChild(h)}renderResult(o,s,l,c){let d=o.getMatrix();if(d===null)throw new hr;let h=d.getWidth(),p=d.getHeight(),y=h+c*2,E=p+c*2,I=Math.max(s,y),S=Math.max(l,E),T=Math.min(Math.floor(I/y),Math.floor(S/E)),N=Math.floor((I-h*T)/2),O=Math.floor((S-p*T)/2),k=this.createSVGElement(I,S);for(let P=0,Y=O;P<p;P++,Y+=T)for(let te=0,z=N;te<h;te++,z+=T)if(d.get(te,P)===1){let ke=this.createSvgRectElement(z,Y,T,T);k.appendChild(ke)}return k}createSVGElement(o,s){let l=document.createElementNS(w.SVG_NS,"svg");return l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",s.toString()),l}createSvgRectElement(o,s,l,c){let d=document.createElementNS(w.SVG_NS,"rect");return d.setAttributeNS(null,"x",o.toString()),d.setAttributeNS(null,"y",s.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return w.QUIET_ZONE_SIZE=4,w.SVG_NS="http://www.w3.org/2000/svg",w})(),fa=(()=>{class w{encode(o,s,l,c,d){if(o.length===0)throw new v("Found empty contents");if(s!==ce.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let h=it.L,p=w.QUIET_ZONE_SIZE;d!==null&&(d.get(Ft.ERROR_CORRECTION)!==void 0&&(h=it.fromString(d.get(Ft.ERROR_CORRECTION).toString())),d.get(Ft.MARGIN)!==void 0&&(p=Number.parseInt(d.get(Ft.MARGIN).toString(),10)));let y=ht.encode(o,h,d);return w.renderResult(y,l,c,p)}static renderResult(o,s,l,c){let d=o.getMatrix();if(d===null)throw new hr;let h=d.getWidth(),p=d.getHeight(),y=h+c*2,E=p+c*2,I=Math.max(s,y),S=Math.max(l,E),T=Math.min(Math.floor(I/y),Math.floor(S/E)),N=Math.floor((I-h*T)/2),O=Math.floor((S-p*T)/2),k=new ye(I,S);for(let P=0,Y=O;P<p;P++,Y+=T)for(let te=0,z=N;te<h;te++,z+=T)d.get(te,P)===1&&k.setRegion(z,Y,T,T);return k}}return w.QUIET_ZONE_SIZE=4,w})();class Gl{encode(i,o,s,l,c){let d;switch(o){case ce.QR_CODE:d=new fa;break;default:throw new v("No encoder available for format "+o)}return d.encode(i,o,s,l,c)}}let ha=(()=>{class w extends Gr{constructor(o,s,l,c,d,h,p,y){if(super(h,p),this.yuvData=o,this.dataWidth=s,this.dataHeight=l,this.left=c,this.top=d,c+h>s||d+p>l)throw new v("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(h,p)}getRow(o,s){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);let l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));let c=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,c,s,0,l),s}getMatrix(){let o=this.getWidth(),s=this.getHeight();if(o===this.dataWidth&&s===this.dataHeight)return this.yuvData;let l=o*s,c=new Uint8ClampedArray(l),d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.yuvData,d,c,0,l),c;for(let h=0;h<s;h++){let p=h*o;R.arraycopy(this.yuvData,d,c,p,o),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(o,s,l,c){return new w(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+s,l,c,!1)}renderThumbnail(){let o=this.getWidth()/w.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/w.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(o*s),c=this.yuvData,d=this.top*this.dataWidth+this.left;for(let h=0;h<s;h++){let p=h*o;for(let y=0;y<o;y++){let E=c[d+y*w.THUMBNAIL_SCALE_FACTOR]&255;l[p+y]=4278190080|E*65793}d+=this.dataWidth*w.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/w.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/w.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,s){let l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<s;c++,d+=this.dataWidth){let h=d+o/2;for(let p=d,y=d+o-1;p<h;p++,y--){let E=l[p];l[p]=l[y],l[y]=E}}}invert(){return new fr(this)}}return w.THUMBNAIL_SCALE_FACTOR=2,w})();class Di extends Gr{constructor(i,o,s,l,c,d,h){if(super(o,s),this.dataWidth=l,this.dataHeight=c,this.left=d,this.top=h,i.BYTES_PER_ELEMENT===4){let p=o*s,y=new Uint8ClampedArray(p);for(let E=0;E<p;E++){let I=i[E],S=I>>16&255,T=I>>7&510,N=I&255;y[E]=(S+T+N)/4&255}this.luminances=y}else this.luminances=i;if(l===void 0&&(this.dataWidth=o),c===void 0&&(this.dataHeight=s),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+s>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);let s=this.getWidth();(o==null||o.length<s)&&(o=new Uint8ClampedArray(s));let l=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,l,o,0,s),o}getMatrix(){let i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;let s=i*o,l=new Uint8ClampedArray(s),c=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.luminances,c,l,0,s),l;for(let d=0;d<o;d++){let h=d*i;R.arraycopy(this.luminances,c,l,h,i),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(i,o,s,l){return new Di(this.luminances,s,l,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new fr(this)}}class $l extends K{static forName(i){return this.getCharacterSetECIByName(i)}}class es{}es.ISO_8859_1=K.ISO8859_1;class pa{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class ga{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Wl{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Xr extends Wl{constructor(i,o,s){super(i),this.value=o,this.bitCount=s}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Xr(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Xr(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+X.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ts extends Xr{constructor(i,o,s){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=s}appendTo(i,o){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):s===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+s],8)}addBinaryShift(i,o){return new ts(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ql(w,i,o){return new ts(w,i,o)}function Ai(w,i,o){return new Xr(w,i,o)}let Yl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gn=0,ns=1,Cn=2,Zl=3,Pn=4,Xl=new Xr(null,0,0),rs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Yd(w){for(let i of w)W.fill(i,-1);return w[gn][Pn]=0,w[ns][Pn]=0,w[ns][gn]=28,w[Zl][Pn]=0,w[Cn][Pn]=0,w[Cn][gn]=15,w}let Ql=Yd(W.createInt32Array(6,6));class Jn{constructor(i,o,s,l){this.token=i,this.mode=o,this.binaryShiftByteCount=s,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let s=this.bitCount,l=this.token;if(i!==this.mode){let d=rs[this.mode][i];l=Ai(l,d&65535,d>>16),s+=d>>16}let c=i===Cn?4:5;return l=Ai(l,o,c),new Jn(l,i,0,s+c)}shiftAndAppend(i,o){let s=this.token,l=this.mode===Cn?4:5;return s=Ai(s,Ql[this.mode][i],l),s=Ai(s,o,5),new Jn(s,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(i){let o=this.token,s=this.mode,l=this.bitCount;if(this.mode===Pn||this.mode===Cn){let h=rs[s][gn];o=Ai(o,h&65535,h>>16),l+=h>>16,s=gn}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Jn(o,s,this.binaryShiftByteCount+1,l+c);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=ql(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Jn(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(rs[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Jn.calculateBinaryShiftCost(i)-Jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let l=this.endBinaryShift(i.length).token;l!==null;l=l.getPrevious())o.unshift(l);let s=new ge;for(let l of o)l.appendTo(s,i);return s}toString(){return me.format("%s bits=%d bytes=%d",Yl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Jn.INITIAL_STATE=new Jn(Xl,gn,0,0);function Kl(w){let i=me.getCharCode(" "),o=me.getCharCode("."),s=me.getCharCode(",");w[gn][i]=1;let l=me.getCharCode("Z"),c=me.getCharCode("A");for(let S=c;S<=l;S++)w[gn][S]=S-c+2;w[ns][i]=1;let d=me.getCharCode("z"),h=me.getCharCode("a");for(let S=h;S<=d;S++)w[ns][S]=S-h+2;w[Cn][i]=1;let p=me.getCharCode("9"),y=me.getCharCode("0");for(let S=y;S<=p;S++)w[Cn][S]=S-y+2;w[Cn][s]=12,w[Cn][o]=13;let E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let S=0;S<E.length;S++)w[Zl][me.getCharCode(E[S])]=S;let I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<I.length;S++)me.getCharCode(I[S])>0&&(w[Pn][me.getCharCode(I[S])]=S);return w}let is=Kl(W.createInt32Array(5,256));class lo{constructor(i){this.text=i}encode(){let i=me.getCharCode(" "),o=me.getCharCode(`
`),s=ga.singletonList(Jn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let d,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case me.getCharCode("\r"):d=h===o?2:0;break;case me.getCharCode("."):d=h===i?3:0;break;case me.getCharCode(","):d=h===i?4:0;break;case me.getCharCode(":"):d=h===i?5:0;break;default:d=0}d>0?(s=lo.updateStateListForPair(s,c,d),c++):s=this.updateStateListForChar(s,c)}return ga.min(s,(c,d)=>c.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){let s=[];for(let l of i)this.updateStateForChar(l,o,s);return lo.simplifyStates(s)}updateStateForChar(i,o,s){let l=this.text[o]&255,c=is[i.getMode()][l]>0,d=null;for(let h=0;h<=Pn;h++){let p=is[h][l];if(p>0){if(d==null&&(d=i.endBinaryShift(o)),!c||h===i.getMode()||h===Cn){let y=d.latchAndAppend(h,p);s.push(y)}if(!c&&Ql[i.getMode()][h]>=0){let y=d.shiftAndAppend(h,p);s.push(y)}}}if(i.getBinaryShiftByteCount()>0||is[i.getMode()][l]===0){let h=i.addBinaryShiftChar(o);s.push(h)}}static updateStateListForPair(i,o,s){let l=[];for(let c of i)this.updateStateForPair(c,o,s,l);return this.simplifyStates(l)}static updateStateForPair(i,o,s,l){let c=i.endBinaryShift(o);if(l.push(c.latchAndAppend(Pn,s)),i.getMode()!==Pn&&l.push(c.shiftAndAppend(Pn,s)),s===3||s===4){let d=c.latchAndAppend(Cn,16-s).latchAndAppend(Cn,1);l.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);l.push(d)}}static simplifyStates(i){let o=[];for(let s of i){let l=!0;for(let c of o){if(c.isBetterThanOrEqualTo(s)){l=!1;break}s.isBetterThanOrEqualTo(c)&&(o=o.filter(d=>d!==c))}l&&o.push(s)}return o}}class Ge{constructor(){}static encodeBytes(i){return Ge.encode(i,Ge.DEFAULT_EC_PERCENT,Ge.DEFAULT_AZTEC_LAYERS)}static encode(i,o,s){let l=new lo(i).encode(),c=X.truncDivision(l.getSize()*o,100)+11,d=l.getSize()+c,h,p,y,E,I;if(s!==Ge.DEFAULT_AZTEC_LAYERS){if(h=s<0,p=Math.abs(s),p>(h?Ge.MAX_NB_BITS_COMPACT:Ge.MAX_NB_BITS))throw new v(me.format("Illegal value %s for layers",s));y=Ge.totalBitsInLayer(p,h),E=Ge.WORD_SIZE[p];let z=y-y%E;if(I=Ge.stuffBits(l,E),I.getSize()+c>z)throw new v("Data to large for user specified layer");if(h&&I.getSize()>E*64)throw new v("Data to large for user specified layer")}else{E=0,I=null;for(let z=0;;z++){if(z>Ge.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(h=z<=3,p=h?z+1:z,y=Ge.totalBitsInLayer(p,h),d>y)continue;(I==null||E!==Ge.WORD_SIZE[p])&&(E=Ge.WORD_SIZE[p],I=Ge.stuffBits(l,E));let ke=y-y%E;if(!(h&&I.getSize()>E*64)&&I.getSize()+c<=ke)break}}let S=Ge.generateCheckWords(I,y,E),T=I.getSize()/E,N=Ge.generateModeMessage(h,p,T),O=(h?11:14)+p*4,k=new Int32Array(O),P;if(h){P=O;for(let z=0;z<k.length;z++)k[z]=z}else{P=O+1+2*X.truncDivision(X.truncDivision(O,2)-1,15);let z=X.truncDivision(O,2),ke=X.truncDivision(P,2);for(let be=0;be<z;be++){let un=be+X.truncDivision(be,15);k[z-be-1]=ke-un-1,k[z+be]=ke+un+1}}let Y=new ye(P);for(let z=0,ke=0;z<p;z++){let be=(p-z)*4+(h?9:12);for(let un=0;un<be;un++){let Ln=un*2;for(let dn=0;dn<2;dn++)S.get(ke+Ln+dn)&&Y.set(k[z*2+dn],k[z*2+un]),S.get(ke+be*2+Ln+dn)&&Y.set(k[z*2+un],k[O-1-z*2-dn]),S.get(ke+be*4+Ln+dn)&&Y.set(k[O-1-z*2-dn],k[O-1-z*2-un]),S.get(ke+be*6+Ln+dn)&&Y.set(k[O-1-z*2-un],k[z*2+dn])}ke+=be*8}if(Ge.drawModeMessage(Y,h,P,N),h)Ge.drawBullsEye(Y,X.truncDivision(P,2),5);else{Ge.drawBullsEye(Y,X.truncDivision(P,2),7);for(let z=0,ke=0;z<X.truncDivision(O,2)-1;z+=15,ke+=16)for(let be=X.truncDivision(P,2)&1;be<P;be+=2)Y.set(X.truncDivision(P,2)-ke,be),Y.set(X.truncDivision(P,2)+ke,be),Y.set(be,X.truncDivision(P,2)-ke),Y.set(be,X.truncDivision(P,2)+ke)}let te=new pa;return te.setCompact(h),te.setSize(P),te.setLayers(p),te.setCodeWords(T),te.setMatrix(Y),te}static drawBullsEye(i,o,s){for(let l=0;l<s;l+=2)for(let c=o-l;c<=o+l;c++)i.set(c,o-l),i.set(c,o+l),i.set(o-l,c),i.set(o+l,c);i.set(o-s,o-s),i.set(o-s+1,o-s),i.set(o-s,o-s+1),i.set(o+s,o-s),i.set(o+s,o-s+1),i.set(o+s,o+s-1)}static generateModeMessage(i,o,s){let l=new ge;return i?(l.appendBits(o-1,2),l.appendBits(s-1,6),l=Ge.generateCheckWords(l,28,4)):(l.appendBits(o-1,5),l.appendBits(s-1,11),l=Ge.generateCheckWords(l,40,4)),l}static drawModeMessage(i,o,s,l){let c=X.truncDivision(s,2);if(o)for(let d=0;d<7;d++){let h=c-3+d;l.get(d)&&i.set(h,c-5),l.get(d+7)&&i.set(c+5,h),l.get(20-d)&&i.set(h,c+5),l.get(27-d)&&i.set(c-5,h)}else for(let d=0;d<10;d++){let h=c-5+d+X.truncDivision(d,5);l.get(d)&&i.set(h,c-7),l.get(d+10)&&i.set(c+7,h),l.get(29-d)&&i.set(h,c+7),l.get(39-d)&&i.set(c-7,h)}}static generateCheckWords(i,o,s){let l=i.getSize()/s,c=new ua(Ge.getGF(s)),d=X.truncDivision(o,s),h=Ge.bitsToWords(i,s,d);c.encode(h,d-l);let p=o%s,y=new ge;y.appendBits(0,p);for(let E of Array.from(h))y.appendBits(E,s);return y}static bitsToWords(i,o,s){let l=new Int32Array(s),c,d;for(c=0,d=i.getSize()/o;c<d;c++){let h=0;for(let p=0;p<o;p++)h|=i.get(c*o+p)?1<<o-p-1:0;l[c]=h}return l}static getGF(i){switch(i){case 4:return Ze.AZTEC_PARAM;case 6:return Ze.AZTEC_DATA_6;case 8:return Ze.AZTEC_DATA_8;case 10:return Ze.AZTEC_DATA_10;case 12:return Ze.AZTEC_DATA_12;default:throw new v("Unsupported word size "+i)}}static stuffBits(i,o){let s=new ge,l=i.getSize(),c=(1<<o)-2;for(let d=0;d<l;d+=o){let h=0;for(let p=0;p<o;p++)(d+p>=l||i.get(d+p))&&(h|=1<<o-1-p);(h&c)===c?(s.appendBits(h&c,o),d--):(h&c)===0?(s.appendBits(h|1,o),d--):s.appendBits(h,o)}return s}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Ge.DEFAULT_EC_PERCENT=33,Ge.DEFAULT_AZTEC_LAYERS=0,Ge.MAX_NB_BITS=32,Ge.MAX_NB_BITS_COMPACT=4,Ge.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class os{encode(i,o,s,l){return this.encodeWithHints(i,o,s,l,null)}encodeWithHints(i,o,s,l,c){let d=es.ISO_8859_1,h=Ge.DEFAULT_EC_PERCENT,p=Ge.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Ft.CHARACTER_SET)&&(d=$l.forName(c.get(Ft.CHARACTER_SET).toString())),c.has(Ft.ERROR_CORRECTION)&&(h=X.parseInt(c.get(Ft.ERROR_CORRECTION).toString())),c.has(Ft.AZTEC_LAYERS)&&(p=X.parseInt(c.get(Ft.AZTEC_LAYERS).toString()))),os.encodeLayers(i,o,s,l,d,h,p)}static encodeLayers(i,o,s,l,c,d,h){if(o!==ce.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let p=Ge.encode(me.getBytes(i,c),d,h);return os.renderResult(p,s,l)}static renderResult(i,o,s){let l=i.getMatrix();if(l==null)throw new hr;let c=l.getWidth(),d=l.getHeight(),h=Math.max(o,c),p=Math.max(s,d),y=Math.min(h/c,p/d),E=(h-c*y)/2,I=(p-d*y)/2,S=new ye(h,p);for(let T=0,N=I;T<d;T++,N+=y)for(let O=0,k=E;O<c;O++,k+=y)l.get(O,T)&&S.setRegion(k,N,y,y);return S}}e.AbstractExpandedDecoder=at,e.ArgumentException=x,e.ArithmeticException=Xi,e.AztecCode=pa,e.AztecCodeReader=Dr,e.AztecCodeWriter=os,e.AztecDecoder=ea,e.AztecDetector=ta,e.AztecDetectorResult=He,e.AztecEncoder=Ge,e.AztecHighLevelEncoder=lo,e.AztecPoint=Gt,e.BarcodeFormat=ce,e.Binarizer=U,e.BinaryBitmap=A,e.BitArray=ge,e.BitMatrix=ye,e.BitSource=$o,e.BrowserAztecCodeReader=ln,e.BrowserBarcodeReader=Ld,e.BrowserCodeReader=wn,e.BrowserDatamatrixCodeReader=qo,e.BrowserMultiFormatReader=$d,e.BrowserPDF417Reader=Wd,e.BrowserQRCodeReader=qd,e.BrowserQRCodeSvgWriter=da,e.CharacterSetECI=K,e.ChecksumException=D,e.Code128Reader=ee,e.Code39Reader=jo,e.DataMatrixDecodedBitStreamParser=gr,e.DataMatrixReader=Wo,e.DecodeHintType=De,e.DecoderResult=br,e.DefaultGridSampler=Ot,e.DetectorResult=Qi,e.EAN13Reader=Ho,e.EncodeHintType=Ft,e.Exception=m,e.FormatException=q,e.GenericGF=Ze,e.GenericGFPoly=an,e.GlobalHistogramBinarizer=Lt,e.GridSampler=Qn,e.GridSamplerInstance=wt,e.HTMLCanvasElementLuminanceSource=Xn,e.HybridBinarizer=Ae,e.ITFReader=rt,e.IllegalArgumentException=v,e.IllegalStateException=hr,e.InvertedLuminanceSource=fr,e.LuminanceSource=Gr,e.MathUtils=Ee,e.MultiFormatOneDReader=Ei,e.MultiFormatReader=jl,e.MultiFormatWriter=Gl,e.NotFoundException=H,e.OneDReader=Nt,e.PDF417DecodedBitStreamParser=L,e.PDF417DecoderErrorCorrection=aa,e.PDF417Reader=qt,e.PDF417ResultMetadata=Ll,e.PerspectiveTransform=zt,e.PlanarYUVLuminanceSource=ha,e.QRCodeByteMatrix=ao,e.QRCodeDataMask=vn,e.QRCodeDecodedBitStreamParser=Rl,e.QRCodeDecoderErrorCorrectionLevel=it,e.QRCodeDecoderFormatInformation=$t,e.QRCodeEncoder=ht,e.QRCodeEncoderQRCode=Jo,e.QRCodeMaskUtil=mr,e.QRCodeMatrixUtil=pe,e.QRCodeMode=he,e.QRCodeReader=_r,e.QRCodeVersion=ue,e.QRCodeWriter=fa,e.RGBLuminanceSource=Di,e.RSS14Reader=vt,e.RSSExpandedReader=$,e.ReaderException=ca,e.ReedSolomonDecoder=Ht,e.ReedSolomonEncoder=ua,e.ReedSolomonException=Ir,e.Result=Dt,e.ResultMetadataType=Rt,e.ResultPoint=ae,e.StringUtils=me,e.UnsupportedOperationException=zr,e.VideoInputDevice=Zi,e.WhiteRectangleDetector=nn,e.WriterException=dt,e.ZXingArrays=W,e.ZXingCharset=$l,e.ZXingInteger=X,e.ZXingStandardCharsets=es,e.ZXingStringBuilder=Me,e.ZXingStringEncoding=st,e.ZXingSystem=R,e.createAbstractExpandedDecoder=Et,Object.defineProperty(e,"__esModule",{value:!0})})});function nf(e,t){return Object.is(e,t)}var Yt=null,rc=!1,rf=1,er=Symbol("SIGNAL");function We(e){let t=Yt;return Yt=e,t}function of(){return Yt}var wa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function va(e){if(rc)throw new Error("");if(Yt===null)return;Yt.consumerOnSignalRead(e);let t=Yt.nextProducerIndex++;if(ac(Yt),t<Yt.producerNode.length&&Yt.producerNode[t]!==e&&ya(Yt)){let n=Yt.producerNode[t];sc(n,Yt.producerIndexOfThis[t])}Yt.producerNode[t]!==e&&(Yt.producerNode[t]=e,Yt.producerIndexOfThis[t]=ya(Yt)?I0(e,Yt,t):0),Yt.producerLastReadVersion[t]=e.version}function b0(){rf++}function sf(e){if(!(ya(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===rf)){if(!e.producerMustRecompute(e)&&!uf(e)){tf(e);return}e.producerRecomputeValue(e),tf(e)}}function af(e){if(e.liveConsumerNode===void 0)return;let t=rc;rc=!0;try{for(let n of e.liveConsumerNode)n.dirty||bx(n)}finally{rc=t}}function lf(){return Yt?.consumerAllowSignalWrites!==!1}function bx(e){e.dirty=!0,af(e),e.consumerMarkedDirty?.(e)}function tf(e){e.dirty=!1,e.lastCleanEpoch=rf}function oc(e){return e&&(e.nextProducerIndex=0),We(e)}function cf(e,t){if(We(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ya(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)sc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function uf(e){ac(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(sf(n),r!==n.version))return!0}return!1}function df(e){if(ac(e),ya(e))for(let t=0;t<e.producerNode.length;t++)sc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function I0(e,t,n){if(D0(e),e.liveConsumerNode.length===0&&A0(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=I0(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function sc(e,t){if(D0(e),e.liveConsumerNode.length===1&&A0(e))for(let r=0;r<e.producerNode.length;r++)sc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];ac(a),a.producerIndexOfThis[r]=t}}function ya(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ac(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function D0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function A0(e){return e.producerNode!==void 0}function ff(e,t){let n=Object.create(Ix);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(sf(n),va(n),n.value===ic)throw n.error;return n.value};return r[er]=n,r}var Jd=Symbol("UNSET"),ef=Symbol("COMPUTING"),ic=Symbol("ERRORED"),Ix=$e(re({},wa),{value:Jd,dirty:!0,error:null,equal:nf,kind:"computed",producerMustRecompute(e){return e.value===Jd||e.value===ef},producerRecomputeValue(e){if(e.value===ef)throw new Error("Detected cycle in computations.");let t=e.value;e.value=ef;let n=oc(e),r,a=!1;try{r=e.computation(),We(null),a=t!==Jd&&t!==ic&&r!==ic&&e.equal(t,r)}catch(u){r=ic,e.error=u}finally{cf(e,n)}if(a){e.value=t;return}e.value=r,e.version++}});function Dx(){throw new Error}var S0=Dx;function _0(e){S0(e)}function hf(e){S0=e}var Ax=null;function pf(e,t){let n=Object.create(lc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(va(n),n.value);return r[er]=n,r}function Ca(e,t){lf()||_0(e),e.equal(e.value,t)||(e.value=t,Sx(e))}function gf(e,t){lf()||_0(e),Ca(e,t(e.value))}var lc=$e(re({},wa),{equal:nf,value:void 0,kind:"signal"});function Sx(e){e.version++,b0(),af(e),Ax?.()}function mf(e){let t=We(null);try{return e()}finally{We(t)}}var yf;function xa(){return yf}function Qr(e){let t=yf;return yf=e,t}var cc=Symbol("NotFound");function Se(e){return typeof e=="function"}function as(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var uc=as(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,a)=>`${a+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ea(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Bt=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let u of n)u.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Se(r))try{r()}catch(u){t=u instanceof uc?u.errors:[u]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let u of a)try{T0(u)}catch(f){t=t??[],f instanceof uc?t=[...t,...f.errors]:t.push(f)}}if(t)throw new uc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)T0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ea(n,t)}remove(t){let{_finalizers:n}=this;n&&Ea(n,t),t instanceof e&&t._removeParent(this)}};Bt.EMPTY=(()=>{let e=new Bt;return e.closed=!0,e})();var wf=Bt.EMPTY;function dc(e){return e instanceof Bt||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function T0(e){Se(e)?e():e.unsubscribe()}var yr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ls={setTimeout(e,t,...n){let{delegate:r}=ls;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ls;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function fc(e){ls.setTimeout(()=>{let{onUnhandledError:t}=yr;if(t)t(e);else throw e})}function ba(){}var M0=vf("C",void 0,void 0);function N0(e){return vf("E",void 0,e)}function R0(e){return vf("N",e,void 0)}function vf(e,t,n){return{kind:e,value:t,error:n}}var uo=null;function cs(e){if(yr.useDeprecatedSynchronousErrorHandling){let t=!uo;if(t&&(uo={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=uo;if(uo=null,n)throw r}}else e()}function O0(e){yr.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=e)}var fo=class extends Bt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dc(t)&&t.add(this)):this.destination=Ox}static create(t,n,r){return new us(t,n,r)}next(t){this.isStopped?xf(R0(t),this):this._next(t)}error(t){this.isStopped?xf(N0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?xf(M0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Nx=Function.prototype.bind;function Cf(e,t){return Nx.call(e,t)}var Ef=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){hc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){hc(r)}else hc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){hc(n)}}},us=class extends fo{constructor(t,n,r){super();let a;if(Se(t)||!t)a={next:t??void 0,error:n??void 0,complete:r??void 0};else{let u;this&&yr.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&Cf(t.next,u),error:t.error&&Cf(t.error,u),complete:t.complete&&Cf(t.complete,u)}):a=t}this.destination=new Ef(a)}};function hc(e){yr.useDeprecatedSynchronousErrorHandling?O0(e):fc(e)}function Rx(e){throw e}function xf(e,t){let{onStoppedNotification:n}=yr;n&&ls.setTimeout(()=>n(e,t))}var Ox={closed:!0,next:ba,error:Rx,complete:ba};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bn(e){return e}function bf(...e){return If(e)}function If(e){return e.length===0?Bn:e.length===1?e[0]:function(n){return e.reduce((r,a)=>a(r),n)}}var Qe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,a){let u=Fx(n)?n:new us(n,r,a);return cs(()=>{let{operator:f,source:m}=this;u.add(f?f.call(u,m):m?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=k0(r),new r((a,u)=>{let f=new us({next:m=>{try{n(m)}catch(x){u(x),f.unsubscribe()}},error:u,complete:a});this.subscribe(f)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return If(n)(this)}toPromise(n){return n=k0(n),new n((r,a)=>{let u;this.subscribe(f=>u=f,f=>a(f),()=>r(u))})}}return e.create=t=>new e(t),e})();function k0(e){var t;return(t=e??yr.Promise)!==null&&t!==void 0?t:Promise}function kx(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}function Fx(e){return e&&e instanceof fo||kx(e)&&dc(e)}function Df(e){return Se(e?.lift)}function Ke(e){return t=>{if(Df(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(e,t,n,r,a){return new Af(e,t,n,r,a)}var Af=class extends fo{constructor(t,n,r,a,u,f){super(t),this.onFinalize=u,this.shouldUnsubscribe=f,this._next=n?function(m){try{n(m)}catch(x){t.error(x)}}:super._next,this._error=a?function(m){try{a(m)}catch(x){t.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function fs(){return Ke((e,t)=>{let n=null;e._refCount++;let r=qe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let a=e._connection,u=n;n=null,a&&(!u||a===u)&&a.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var hs=class extends Qe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Df(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Bt;let n=this.getSubject();t.add(this.source.subscribe(qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Bt.EMPTY)}return t}refCount(){return fs()(this)}};var F0=as(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Zt=(()=>{class e extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new F0}next(n){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:a,observers:u}=this;return r||a?wf:(this.currentObservers=null,u.push(n),new Bt(()=>{this.currentObservers=null,Ea(u,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:a,isStopped:u}=this;r?n.error(a):u&&n.complete()}asObservable(){let n=new Qe;return n.source=this,n}}return e.create=(t,n)=>new pc(t,n),e})(),pc=class extends Zt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:wf}};var Xt=class extends Zt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var En=new Qe(e=>e.complete());function P0(e){return e&&Se(e.schedule)}function L0(e){return e[e.length-1]}function gc(e){return Se(L0(e))?e.pop():void 0}function Ti(e){return P0(L0(e))?e.pop():void 0}function U0(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})}function B0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ho(e){return this instanceof ho?(this.v=e,this):new ho(e)}function V0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(R){return function(G){return Promise.resolve(G).then(R,D)}}function m(R,G){r[R]&&(a[R]=function(Z){return new Promise(function(W,X){u.push([R,Z,W,X])>1||x(R,Z)})},G&&(a[R]=G(a[R])))}function x(R,G){try{v(r[R](G))}catch(Z){U(u[0][3],Z)}}function v(R){R.value instanceof ho?Promise.resolve(R.value.v).then(A,D):U(u[0][2],R)}function A(R){x("next",R)}function D(R){x("throw",R)}function U(R,G){R(G),u.shift(),u.length&&x(u[0][0],u[0][1])}}function j0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof B0=="function"?B0(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(f){return new Promise(function(m,x){f=e[u](f),a(m,x,f.done,f.value)})}}function a(u,f,m,x){Promise.resolve(x).then(function(v){u({value:v,done:m})},f)}}var mc=e=>e&&typeof e.length=="number"&&typeof e!="function";function yc(e){return Se(e?.then)}function wc(e){return Se(e[ds])}function vc(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function Cc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Px(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xc=Px();function Ec(e){return Se(e?.[xc])}function bc(e){return V0(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:a}=yield ho(n.read());if(a)return yield ho(void 0);yield yield ho(r)}}finally{n.releaseLock()}})}function Ic(e){return Se(e?.getReader)}function Ut(e){if(e instanceof Qe)return e;if(e!=null){if(wc(e))return Lx(e);if(mc(e))return Bx(e);if(yc(e))return Ux(e);if(vc(e))return H0(e);if(Ec(e))return Vx(e);if(Ic(e))return jx(e)}throw Cc(e)}function Lx(e){return new Qe(t=>{let n=e[ds]();if(Se(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Bx(e){return new Qe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ux(e){return new Qe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,fc)})}function Vx(e){return new Qe(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function H0(e){return new Qe(t=>{Hx(e,t).catch(n=>t.error(n))})}function jx(e){return H0(bc(e))}function Hx(e,t){var n,r,a,u;return U0(this,void 0,void 0,function*(){try{for(n=j0(e);r=yield n.next(),!r.done;){let f=r.value;if(t.next(f),t.closed)return}}catch(f){a={error:f}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(a)throw a.error}}t.complete()})}function bn(e,t,n,r=0,a=!1){let u=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!a)return u}function Dc(e,t=0){return Ke((n,r)=>{n.subscribe(qe(r,a=>bn(r,e,()=>r.next(a),t),()=>bn(r,e,()=>r.complete(),t),a=>bn(r,e,()=>r.error(a),t)))})}function Ac(e,t=0){return Ke((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function z0(e,t){return Ut(e).pipe(Ac(t),Dc(t))}function G0(e,t){return Ut(e).pipe(Ac(t),Dc(t))}function $0(e,t){return new Qe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function W0(e,t){return new Qe(n=>{let r;return bn(n,t,()=>{r=e[xc](),bn(n,t,()=>{let a,u;try{({value:a,done:u}=r.next())}catch(f){n.error(f);return}u?n.complete():n.next(a)},0,!0)}),()=>Se(r?.return)&&r.return()})}function Sc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Qe(n=>{bn(n,t,()=>{let r=e[Symbol.asyncIterator]();bn(n,t,()=>{r.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function q0(e,t){return Sc(bc(e),t)}function Y0(e,t){if(e!=null){if(wc(e))return z0(e,t);if(mc(e))return $0(e,t);if(yc(e))return G0(e,t);if(vc(e))return Sc(e,t);if(Ec(e))return W0(e,t);if(Ic(e))return q0(e,t)}throw Cc(e)}function _t(e,t){return t?Y0(e,t):Ut(e)}function Ie(...e){let t=Ti(e);return _t(e,t)}function tr(e,t){let n=Se(e)?e:()=>e,r=a=>a.error(n());return new Qe(t?a=>t.schedule(r,0,a):r)}function Sf(e){return!!e&&(e instanceof Qe||Se(e.lift)&&Se(e.subscribe))}var Kr=as(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Re(e,t){return Ke((n,r)=>{let a=0;n.subscribe(qe(r,u=>{r.next(e.call(t,u,a++))}))})}var{isArray:zx}=Array;function Gx(e,t){return zx(t)?e(...t):e(t)}function _c(e){return Re(t=>Gx(e,t))}var{isArray:$x}=Array,{getPrototypeOf:Wx,prototype:qx,keys:Yx}=Object;function Tc(e){if(e.length===1){let t=e[0];if($x(t))return{args:t,keys:null};if(Zx(t)){let n=Yx(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Zx(e){return e&&typeof e=="object"&&Wx(e)===qx}function Mc(e,t){return e.reduce((n,r,a)=>(n[r]=t[a],n),{})}function Nc(...e){let t=Ti(e),n=gc(e),{args:r,keys:a}=Tc(e);if(r.length===0)return _t([],t);let u=new Qe(Xx(r,t,a?f=>Mc(a,f):Bn));return n?u.pipe(_c(n)):u}function Xx(e,t,n=Bn){return r=>{Z0(t,()=>{let{length:a}=e,u=new Array(a),f=a,m=a;for(let x=0;x<a;x++)Z0(t,()=>{let v=_t(e[x],t),A=!1;v.subscribe(qe(r,D=>{u[x]=D,A||(A=!0,m--),m||r.next(n(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}function Z0(e,t,n){e?bn(n,e,t):t()}function X0(e,t,n,r,a,u,f,m){let x=[],v=0,A=0,D=!1,U=()=>{D&&!x.length&&!v&&t.complete()},R=Z=>v<r?G(Z):x.push(Z),G=Z=>{u&&t.next(Z),v++;let W=!1;Ut(n(Z,A++)).subscribe(qe(t,X=>{a?.(X),u?R(X):t.next(X)},()=>{W=!0},void 0,()=>{if(W)try{for(v--;x.length&&v<r;){let X=x.shift();f?bn(t,f,()=>G(X)):G(X)}U()}catch(X){t.error(X)}}))};return e.subscribe(qe(t,R,()=>{D=!0,U()})),()=>{m?.()}}function Qt(e,t,n=1/0){return Se(t)?Qt((r,a)=>Re((u,f)=>t(r,u,a,f))(Ut(e(r,a))),n):(typeof t=="number"&&(n=t),Ke((r,a)=>X0(r,a,e,n)))}function _f(e=1/0){return Qt(Bn,e)}function Q0(){return _f(1)}function ps(...e){return Q0()(_t(e,Ti(e)))}function Rc(e){return new Qe(t=>{Ut(e()).subscribe(t)})}function Tf(...e){let t=gc(e),{args:n,keys:r}=Tc(e),a=new Qe(u=>{let{length:f}=n;if(!f){u.complete();return}let m=new Array(f),x=f,v=f;for(let A=0;A<f;A++){let D=!1;Ut(n[A]).subscribe(qe(u,U=>{D||(D=!0,v--),m[A]=U},()=>x--,void 0,()=>{(!x||!D)&&(v||u.next(r?Mc(r,m):m),u.complete())}))}});return t?a.pipe(_c(t)):a}function Un(e,t){return Ke((n,r)=>{let a=0;n.subscribe(qe(r,u=>e.call(t,u,a++)&&r.next(u)))})}function mn(e){return Ke((t,n)=>{let r=null,a=!1,u;r=t.subscribe(qe(n,void 0,void 0,f=>{u=Ut(e(f,mn(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):a=!0})),a&&(r.unsubscribe(),r=null,u.subscribe(n))})}function K0(e,t,n,r,a){return(u,f)=>{let m=n,x=t,v=0;u.subscribe(qe(f,A=>{let D=v++;x=m?e(x,A,D):(m=!0,A),r&&f.next(x)},a&&(()=>{m&&f.next(x),f.complete()})))}}function Mi(e,t){return Se(t)?Qt(e,t,1):Qt(e,1)}function Ni(e){return Ke((t,n)=>{let r=!1;t.subscribe(qe(n,a=>{r=!0,n.next(a)},()=>{r||n.next(e),n.complete()}))})}function Jr(e){return e<=0?()=>En:Ke((t,n)=>{let r=0;t.subscribe(qe(n,a=>{++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function Oc(e=Qx){return Ke((t,n)=>{let r=!1;t.subscribe(qe(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(e())))})}function Qx(){return new Kr}function po(e){return Ke((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ei(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Un((a,u)=>e(a,u,r)):Bn,Jr(1),n?Ni(t):Oc(()=>new Kr))}function gs(e){return e<=0?()=>En:Ke((t,n)=>{let r=[];t.subscribe(qe(n,a=>{r.push(a),e<r.length&&r.shift()},()=>{for(let a of r)n.next(a);n.complete()},void 0,()=>{r=null}))})}function Mf(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Un((a,u)=>e(a,u,r)):Bn,gs(1),n?Ni(t):Oc(()=>new Kr))}function Nf(e,t){return Ke(K0(e,t,arguments.length>=2,!0))}function Rf(...e){let t=Ti(e);return Ke((n,r)=>{(t?ps(e,n,t):ps(e,n)).subscribe(r)})}function fn(e,t){return Ke((n,r)=>{let a=null,u=0,f=!1,m=()=>f&&!a&&r.complete();n.subscribe(qe(r,x=>{a?.unsubscribe();let v=0,A=u++;Ut(e(x,A)).subscribe(a=qe(r,D=>r.next(t?t(x,D,A,v++):D),()=>{a=null,m()}))},()=>{f=!0,m()}))})}function Of(e){return Ke((t,n)=>{Ut(e).subscribe(qe(n,()=>n.complete(),ba)),!n.closed&&t.subscribe(n)})}function Vt(e,t,n){let r=Se(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ke((a,u)=>{var f;(f=r.subscribe)===null||f===void 0||f.call(r);let m=!0;a.subscribe(qe(u,x=>{var v;(v=r.next)===null||v===void 0||v.call(r,x),u.next(x)},()=>{var x;m=!1,(x=r.complete)===null||x===void 0||x.call(r),u.complete()},x=>{var v;m=!1,(v=r.error)===null||v===void 0||v.call(r,x),u.error(x)},()=>{var x,v;m&&((x=r.unsubscribe)===null||x===void 0||x.call(r)),(v=r.finalize)===null||v===void 0||v.call(r)}))}):Bn}var Kx="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",le=class extends Error{code;constructor(t,n){super(fu(t,n)),this.code=t}};function fu(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var Um=Symbol("InputSignalNode#UNSET"),Jx=$e(re({},lc),{transformFn:void 0,applyValueToInputSignal(e,t){Ca(e,t)}});function Vm(e,t){let n=Object.create(Jx);n.value=e,n.transformFn=t?.transform;function r(){if(va(n),n.value===Um){let a=null;throw new le(-950,a)}return n.value}return r[er]=n,r}function Fa(e){return{toString:e}.toString()}var kc="__parameters__";function e2(e){return function(...n){if(e){let r=e(...n);for(let a in r)this[a]=r[a]}}}function jm(e,t,n){return Fa(()=>{let r=e2(t);function a(...u){if(this instanceof a)return r.apply(this,u),this;let f=new a(...u);return m.annotation=f,m;function m(x,v,A){let D=x.hasOwnProperty(kc)?x[kc]:Object.defineProperty(x,kc,{value:[]})[kc];for(;D.length<=A;)D.push(null);return(D[A]=D[A]||[]).push(f),x}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function pt(e){for(let t in e)if(e[t]===pt)return t;throw Error("Could not find renamed property on target object.")}function t2(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Dn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Dn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function J0(e,t){return e?t?`${e} ${t}`:e:t||""}var n2=pt({__forward_ref__:pt});function Fi(e){return e.__forward_ref__=Fi,e.toString=function(){return Dn(this())},e}function yn(e){return Hm(e)?e():e}function Hm(e){return typeof e=="function"&&e.hasOwnProperty(n2)&&e.__forward_ref__===Fi}function fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function oi(e){return{providers:e.providers||[],imports:e.imports||[]}}function hu(e){return em(e,Gm)||em(e,$m)}function zm(e){return hu(e)!==null}function em(e,t){return e.hasOwnProperty(t)?e[t]:null}function r2(e){let t=e&&(e[Gm]||e[$m]);return t||null}function tm(e){return e&&(e.hasOwnProperty(nm)||e.hasOwnProperty(i2))?e[nm]:null}var Gm=pt({\u0275prov:pt}),nm=pt({\u0275inj:pt}),$m=pt({ngInjectableDef:pt}),i2=pt({ngInjectorDef:pt}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wm(e){return e&&!!e.\u0275providers}var o2=pt({\u0275cmp:pt}),s2=pt({\u0275dir:pt}),a2=pt({\u0275pipe:pt}),l2=pt({\u0275mod:pt}),Hc=pt({\u0275fac:pt}),Sa=pt({__NG_ELEMENT_ID__:pt}),rm=pt({__NG_ENV_ID__:pt});function zc(e){return typeof e=="string"?e:e==null?"":String(e)}function c2(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():zc(e)}function qm(e,t){throw new le(-200,e)}function zh(e,t){throw new le(-201,!1)}var Ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ue||{}),Yf;function Ym(){return Yf}function In(e){let t=Yf;return Yf=e,t}function Zm(e,t,n){let r=hu(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ue.Optional)return null;if(t!==void 0)return t;zh(e,"Injector")}var u2={},go=u2,Zf="__NG_DI_FLAG__",Gc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?cc:go,r)}},$c="ngTempTokenPath",d2="ngTokenPath",f2=/\n/gm,h2="\u0275",im="__source";function p2(e,t=Ue.Default){if(xa()===void 0)throw new le(-203,!1);if(xa()===null)return Zm(e,void 0,t);{let n=xa(),r;return n instanceof Gc?r=n.injector:r=n,r.get(e,t&Ue.Optional?null:void 0,t)}}function xe(e,t=Ue.Default){return(Ym()||p2)(yn(e),t)}function J(e,t=Ue.Default){return xe(e,pu(t))}function pu(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Xf(e){let t=[];for(let n=0;n<e.length;n++){let r=yn(e[n]);if(Array.isArray(r)){if(r.length===0)throw new le(900,!1);let a,u=Ue.Default;for(let f=0;f<r.length;f++){let m=r[f],x=g2(m);typeof x=="number"?x===-1?a=m.token:u|=x:a=m}t.push(xe(a,u))}else t.push(xe(r))}return t}function Xm(e,t){return e[Zf]=t,e.prototype[Zf]=t,e}function g2(e){return e[Zf]}function m2(e,t,n,r){let a=e[$c];throw t[im]&&a.unshift(t[im]),e.message=y2(`
`+e.message,a,n,r),e[d2]=a,e[$c]=null,e}function y2(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==h2?e.slice(2):e;let a=Dn(t);if(Array.isArray(t))a=t.map(Dn).join(" -> ");else if(typeof t=="object"){let u=[];for(let f in t)if(t.hasOwnProperty(f)){let m=t[f];u.push(f+":"+(typeof m=="string"?JSON.stringify(m):Dn(m)))}a=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(f2,`
  `)}`}var Qm=Xm(jm("Optional"),8);var w2=Xm(jm("SkipSelf"),4);function yo(e,t){let n=e.hasOwnProperty(Hc);return n?e[Hc]:null}function v2(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],u=t[r];if(n&&(a=n(a),u=n(u)),u!==a)return!1}return!0}function C2(e){return e.flat(Number.POSITIVE_INFINITY)}function Gh(e,t){e.forEach(n=>Array.isArray(n)?Gh(n,t):t(n))}function Km(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function x2(e,t,n,r){let a=e.length;if(a==t)e.push(n,r);else if(a===1)e.push(r,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;){let u=a-2;e[a]=e[u],a--}e[t]=n,e[t+1]=r}}function E2(e,t,n){let r=Pa(e,t);return r>=0?e[r|1]=n:(r=~r,x2(e,r,t,n)),r}function kf(e,t){let n=Pa(e,t);if(n>=0)return e[n|1]}function Pa(e,t){return b2(e,t,1)}function b2(e,t,n){let r=0,a=e.length>>n;for(;a!==r;){let u=r+(a-r>>1),f=e[u<<n];if(t===f)return u<<n;f>t?a=u:r=u+1}return~(a<<n)}var wo={},nr=[],Cs=new de(""),Jm=new de("",-1),e1=new de(""),qc=class{get(t,n=go){if(n===go){let r=new Error(`NullInjectorError: No provider for ${Dn(t)}!`);throw r.name="NullInjectorError",r}return n}};function t1(e,t){let n=e[l2]||null;if(!n&&t===!0)throw new Error(`Type ${Dn(e)} does not have '\u0275mod' property.`);return n}function xs(e){return e[o2]||null}function I2(e){return e[s2]||null}function D2(e){return e[a2]||null}function Ms(e){return{\u0275providers:e}}function A2(...e){return{\u0275providers:n1(!0,e),\u0275fromNgModule:!0}}function n1(e,...t){let n=[],r=new Set,a,u=f=>{n.push(f)};return Gh(t,f=>{let m=f;Qf(m,u,[],r)&&(a||=[],a.push(m))}),a!==void 0&&r1(a,u),n}function r1(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:a}=e[n];$h(a,u=>{t(u,r)})}}function Qf(e,t,n,r){if(e=yn(e),!e)return!1;let a=null,u=tm(e),f=!u&&xs(e);if(!u&&!f){let x=e.ngModule;if(u=tm(x),u)a=x;else return!1}else{if(f&&!f.standalone)return!1;a=e}let m=r.has(a);if(f){if(m)return!1;if(r.add(a),f.dependencies){let x=typeof f.dependencies=="function"?f.dependencies():f.dependencies;for(let v of x)Qf(v,t,n,r)}}else if(u){if(u.imports!=null&&!m){r.add(a);let v;try{Gh(u.imports,A=>{Qf(A,t,n,r)&&(v||=[],v.push(A))})}finally{}v!==void 0&&r1(v,t)}if(!m){let v=yo(a)||(()=>new a);t({provide:a,useFactory:v,deps:nr},a),t({provide:e1,useValue:a,multi:!0},a),t({provide:Cs,useValue:()=>xe(a),multi:!0},a)}let x=u.providers;if(x!=null&&!m){let v=e;$h(x,A=>{t(A,v)})}}else return!1;return a!==e&&e.providers!==void 0}function $h(e,t){for(let n of e)Wm(n)&&(n=n.\u0275providers),Array.isArray(n)?$h(n,t):t(n)}var S2=pt({provide:String,useValue:pt});function i1(e){return e!==null&&typeof e=="object"&&S2 in e}function _2(e){return!!(e&&e.useExisting)}function T2(e){return!!(e&&e.useFactory)}function Es(e){return typeof e=="function"}function M2(e){return!!e.useClass}var gu=new de(""),Pc={},om={},Ff;function Wh(){return Ff===void 0&&(Ff=new qc),Ff}var An=class{},_a=class extends An{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,Jf(t,f=>this.processProvider(f)),this.records.set(Jm,ms(void 0,this)),a.has("environment")&&this.records.set(An,ms(void 0,this));let u=this.records.get(gu);u!=null&&typeof u.value=="string"&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(e1,nr,Ue.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?cc:go,r)}destroy(){Da(this),this._destroyed=!0;let t=We(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),We(t)}}onDestroy(t){return Da(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Da(this);let n=Qr(this),r=In(void 0),a;try{return t()}finally{Qr(n),In(r)}}get(t,n=go,r=Ue.Default){if(Da(this),t.hasOwnProperty(rm))return t[rm](this);r=pu(r);let a,u=Qr(this),f=In(void 0);try{if(!(r&Ue.SkipSelf)){let x=this.records.get(t);if(x===void 0){let v=F2(t)&&hu(t);v&&this.injectableDefInScope(v)?x=ms(Kf(t),Pc):x=null,this.records.set(t,x)}if(x!=null)return this.hydrate(t,x)}let m=r&Ue.Self?Wh():this.parent;return n=r&Ue.Optional&&n===go?null:n,m.get(t,n)}catch(m){if(m.name==="NullInjectorError"){if((m[$c]=m[$c]||[]).unshift(Dn(t)),u)throw m;return m2(m,t,"R3InjectorError",this.source)}else throw m}finally{In(f),Qr(u)}}resolveInjectorInitializers(){let t=We(null),n=Qr(this),r=In(void 0),a;try{let u=this.get(Cs,nr,Ue.Self);for(let f of u)f()}finally{Qr(n),In(r),We(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Dn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=yn(t);let n=Es(t)?t:yn(t&&t.provide),r=R2(t);if(!Es(t)&&t.multi===!0){let a=this.records.get(n);a||(a=ms(void 0,Pc,!0),a.factory=()=>Xf(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=We(null);try{return n.value===om?qm(Dn(t)):n.value===Pc&&(n.value=om,n.value=n.factory()),typeof n.value=="object"&&n.value&&k2(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{We(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=yn(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kf(e){let t=hu(e),n=t!==null?t.factory:yo(e);if(n!==null)return n;if(e instanceof de)throw new le(204,!1);if(e instanceof Function)return N2(e);throw new le(204,!1)}function N2(e){if(e.length>0)throw new le(204,!1);let n=r2(e);return n!==null?()=>n.factory(e):()=>new e}function R2(e){if(i1(e))return ms(void 0,e.useValue);{let t=o1(e);return ms(t,Pc)}}function o1(e,t,n){let r;if(Es(e)){let a=yn(e);return yo(a)||Kf(a)}else if(i1(e))r=()=>yn(e.useValue);else if(T2(e))r=()=>e.useFactory(...Xf(e.deps||[]));else if(_2(e))r=()=>xe(yn(e.useExisting));else{let a=yn(e&&(e.useClass||e.provide));if(O2(e))r=()=>new a(...Xf(e.deps));else return yo(a)||Kf(a)}return r}function Da(e){if(e.destroyed)throw new le(205,!1)}function ms(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function O2(e){return!!e.deps}function k2(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function F2(e){return typeof e=="function"||typeof e=="object"&&e instanceof de}function Jf(e,t){for(let n of e)Array.isArray(n)?Jf(n,t):n&&Wm(n)?Jf(n.\u0275providers,t):t(n)}function Hn(e,t){let n;e instanceof _a?(Da(e),n=e):n=new Gc(e);let r,a=Qr(n),u=In(void 0);try{return t()}finally{Qr(a),In(u)}}function P2(){return Ym()!==void 0||xa()!=null}function L2(e){return typeof e=="function"}var si=0,je=1,_e=2,hn=3,vr=4,Cr=5,Yc=6,Zc=7,Sn=8,bs=9,ki=10,Jt=11,Ta=12,sm=13,Ns=14,Or=15,vo=16,ys=17,ti=18,mu=19,s1=20,Ri=21,Pf=22,Xc=23,rr=24,Lf=25,ir=26,a1=1;var Co=7,Qc=8,Is=9,Vn=10;function Oi(e){return Array.isArray(e)&&typeof e[a1]=="object"}function ai(e){return Array.isArray(e)&&e[a1]===!0}function qh(e){return(e.flags&4)!==0}function Rs(e){return e.componentOffset>-1}function yu(e){return(e.flags&1)===1}function kr(e){return!!e.template}function Kc(e){return(e[_e]&512)!==0}function La(e){return(e[_e]&256)===256}var eh=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function l1(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var So=(()=>{let e=()=>c1;return e.ngInherit=!0,e})();function c1(e){return e.type.prototype.ngOnChanges&&(e.setInput=U2),B2}function B2(){let e=d1(this),t=e?.current;if(t){let n=e.previous;if(n===wo)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function U2(e,t,n,r,a){let u=this.declaredInputs[r],f=d1(e)||V2(e,{previous:wo,current:null}),m=f.current||(f.current={}),x=f.previous,v=x[u];m[u]=new eh(v&&v.currentValue,n,x===wo),l1(e,t,a,n)}var u1="__ngSimpleChanges__";function d1(e){return e[u1]||null}function V2(e,t){return e[u1]=t}var am=null;var yt=function(e,t=null,n){am?.(e,t,n)},f1="svg",j2="math";function Fr(e){for(;Array.isArray(e);)e=e[si];return e}function h1(e,t){return Fr(t[e])}function li(e,t){return Fr(t[e.index])}function p1(e,t){return e.data[t]}function H2(e,t){return e[t]}function Pr(e,t){let n=t[e];return Oi(n)?n:n[si]}function z2(e){return(e[_e]&4)===4}function Yh(e){return(e[_e]&128)===128}function G2(e){return ai(e[hn])}function Ds(e,t){return t==null?null:e[t]}function g1(e){e[ys]=0}function m1(e){e[_e]&1024||(e[_e]|=1024,Yh(e)&&vu(e))}function $2(e,t){for(;e>0;)t=t[Ns],e--;return t}function wu(e){return!!(e[_e]&9216||e[rr]?.dirty)}function th(e){e[ki].changeDetectionScheduler?.notify(8),e[_e]&64&&(e[_e]|=1024),wu(e)&&vu(e)}function vu(e){e[ki].changeDetectionScheduler?.notify(0);let t=xo(e);for(;t!==null&&!(t[_e]&8192||(t[_e]|=8192,!Yh(t)));)t=xo(t)}function y1(e,t){if(La(e))throw new le(911,!1);e[Ri]===null&&(e[Ri]=[]),e[Ri].push(t)}function W2(e,t){if(e[Ri]===null)return;let n=e[Ri].indexOf(t);n!==-1&&e[Ri].splice(n,1)}function xo(e){let t=e[hn];return ai(t)?t[hn]:t}function w1(e){return e[Zc]??=[]}function v1(e){return e.cleanup??=[]}function q2(e,t,n,r){let a=w1(t);a.push(n),e.firstCreatePass&&v1(e).push(r,a.length-1)}var Fe={lFrame:_1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nh=!1;function Y2(){return Fe.lFrame.elementDepthCount}function Z2(){Fe.lFrame.elementDepthCount++}function X2(){Fe.lFrame.elementDepthCount--}function Zh(){return Fe.bindingsEnabled}function Q2(){return Fe.skipHydrationRootTNode!==null}function K2(e){return Fe.skipHydrationRootTNode===e}function J2(){Fe.skipHydrationRootTNode=null}function lt(){return Fe.lFrame.lView}function rn(){return Fe.lFrame.tView}function zn(e){return Fe.lFrame.contextLView=e,e[Sn]}function Gn(e){return Fe.lFrame.contextLView=null,e}function $n(){let e=C1();for(;e!==null&&e.type===64;)e=e.parent;return e}function C1(){return Fe.lFrame.currentTNode}function eE(){let e=Fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function _o(e,t){let n=Fe.lFrame;n.currentTNode=e,n.isParent=t}function Xh(){return Fe.lFrame.isParent}function x1(){Fe.lFrame.isParent=!1}function E1(){return nh}function lm(e){let t=nh;return nh=e,t}function b1(){let e=Fe.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function tE(){return Fe.lFrame.bindingIndex}function nE(e){return Fe.lFrame.bindingIndex=e}function Qh(){return Fe.lFrame.bindingIndex++}function I1(e){let t=Fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rE(){return Fe.lFrame.inI18n}function iE(e,t){let n=Fe.lFrame;n.bindingIndex=n.bindingRootIndex=e,rh(t)}function oE(){return Fe.lFrame.currentDirectiveIndex}function rh(e){Fe.lFrame.currentDirectiveIndex=e}function sE(e){let t=Fe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function D1(){return Fe.lFrame.currentQueryIndex}function Kh(e){Fe.lFrame.currentQueryIndex=e}function aE(e){let t=e[je];return t.type===2?t.declTNode:t.type===1?e[Cr]:null}function A1(e,t,n){if(n&Ue.SkipSelf){let a=t,u=e;for(;a=a.parent,a===null&&!(n&Ue.Host);)if(a=aE(u),a===null||(u=u[Ns],a.type&10))break;if(a===null)return!1;t=a,e=u}let r=Fe.lFrame=S1();return r.currentTNode=t,r.lView=e,!0}function Jh(e){let t=S1(),n=e[je];Fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function S1(){let e=Fe.lFrame,t=e===null?null:e.child;return t===null?_1(e):t}function _1(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function T1(){let e=Fe.lFrame;return Fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var M1=T1;function ep(){let e=T1();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lE(e){return(Fe.lFrame.contextLView=$2(e,Fe.lFrame.contextLView))[Sn]}function To(){return Fe.lFrame.selectedIndex}function Eo(e){Fe.lFrame.selectedIndex=e}function N1(){let e=Fe.lFrame;return p1(e.tView,e.selectedIndex)}function jt(){Fe.lFrame.currentNamespace=f1}function pn(){cE()}function cE(){Fe.lFrame.currentNamespace=null}function uE(){return Fe.lFrame.currentNamespace}var R1=!0;function Cu(){return R1}function xu(e){R1=e}function dE(e,t,n){let{ngOnChanges:r,ngOnInit:a,ngDoCheck:u}=t.type.prototype;if(r){let f=c1(t);(n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f)}a&&(n.preOrderHooks??=[]).push(0-e,a),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}function tp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let u=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:x,ngAfterViewChecked:v,ngOnDestroy:A}=u;f&&(e.contentHooks??=[]).push(-n,f),m&&((e.contentHooks??=[]).push(n,m),(e.contentCheckHooks??=[]).push(n,m)),x&&(e.viewHooks??=[]).push(-n,x),v&&((e.viewHooks??=[]).push(n,v),(e.viewCheckHooks??=[]).push(n,v)),A!=null&&(e.destroyHooks??=[]).push(n,A)}}function Lc(e,t,n){O1(e,t,3,n)}function Bc(e,t,n,r){(e[_e]&3)===n&&O1(e,t,n,r)}function Bf(e,t){let n=e[_e];(n&3)===t&&(n&=16383,n+=1,e[_e]=n)}function O1(e,t,n,r){let a=r!==void 0?e[ys]&65535:0,u=r??-1,f=t.length-1,m=0;for(let x=a;x<f;x++)if(typeof t[x+1]=="number"){if(m=t[x],r!=null&&m>=r)break}else t[x]<0&&(e[ys]+=65536),(m<u||u==-1)&&(fE(e,n,t,x),e[ys]=(e[ys]&4294901760)+x+2),x++}function cm(e,t){yt(4,e,t);let n=We(null);try{t.call(e)}finally{We(n),yt(5,e,t)}}function fE(e,t,n,r){let a=n[r]<0,u=n[r+1],f=a?-n[r]:n[r],m=e[f];a?e[_e]>>14<e[ys]>>16&&(e[_e]&3)===t&&(e[_e]+=16384,cm(m,u)):cm(m,u)}var vs=-1,bo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function hE(e){return(e.flags&8)!==0}function pE(e){return(e.flags&16)!==0}function gE(e,t,n){let r=0;for(;r<n.length;){let a=n[r];if(typeof a=="number"){if(a!==0)break;r++;let u=n[r++],f=n[r++],m=n[r++];e.setAttribute(t,f,m,u)}else{let u=a,f=n[++r];yE(u)?e.setProperty(t,u,f):e.setAttribute(t,u,f),r++}}return r}function mE(e){return e===3||e===4||e===6}function yE(e){return e.charCodeAt(0)===64}function As(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let a=t[r];typeof a=="number"?n=a:n===0||(n===-1||n===2?um(e,n,a,null,t[++r]):um(e,n,a,null,null))}}return e}function um(e,t,n,r,a){let u=0,f=e.length;if(t===-1)f=-1;else for(;u<e.length;){let m=e[u++];if(typeof m=="number"){if(m===t){f=-1;break}else if(m>t){f=u-1;break}}}for(;u<e.length;){let m=e[u];if(typeof m=="number")break;if(m===n){a!==null&&(e[u+1]=a);return}u++,a!==null&&u++}f!==-1&&(e.splice(f,0,t),u=f+1),e.splice(u++,0,n),a!==null&&e.splice(u++,0,a)}var Uf={},ih=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=pu(r);let a=this.injector.get(t,Uf,r);return a!==Uf||n===Uf?a:this.parentInjector.get(t,n,r)}};function k1(e){return e!==vs}function Jc(e){return e&32767}function wE(e){return e>>16}function eu(e,t){let n=wE(e),r=t;for(;n>0;)r=r[Ns],n--;return r}var oh=!0;function tu(e){let t=oh;return oh=e,t}var vE=256,F1=vE-1,P1=5,CE=0,Rr={};function xE(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sa)&&(r=n[Sa]),r==null&&(r=n[Sa]=CE++);let a=r&F1,u=1<<a;t.data[e+(a>>P1)]|=u}function nu(e,t){let n=L1(e,t);if(n!==-1)return n;let r=t[je];r.firstCreatePass&&(e.injectorIndex=t.length,Vf(r.data,e),Vf(t,null),Vf(r.blueprint,null));let a=np(e,t),u=e.injectorIndex;if(k1(a)){let f=Jc(a),m=eu(a,t),x=m[je].data;for(let v=0;v<8;v++)t[u+v]=m[f+v]|x[f+v]}return t[u+8]=a,u}function Vf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function L1(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function np(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;a!==null;){if(r=H1(a),r===null)return vs;if(n++,a=a[Ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vs}function sh(e,t,n){xE(e,t,n)}function B1(e,t,n){if(n&Ue.Optional||e!==void 0)return e;zh(t,"NodeInjector")}function U1(e,t,n,r){if(n&Ue.Optional&&r===void 0&&(r=null),(n&(Ue.Self|Ue.Host))===0){let a=e[bs],u=In(void 0);try{return a?a.get(t,r,n&Ue.Optional):Zm(t,r,n&Ue.Optional)}finally{In(u)}}return B1(r,t,n)}function V1(e,t,n,r=Ue.Default,a){if(e!==null){if(t[_e]&2048&&!(r&Ue.Self)){let f=DE(e,t,n,r,Rr);if(f!==Rr)return f}let u=j1(e,t,n,r,Rr);if(u!==Rr)return u}return U1(t,n,r,a)}function j1(e,t,n,r,a){let u=bE(n);if(typeof u=="function"){if(!A1(t,e,r))return r&Ue.Host?B1(a,n,r):U1(t,n,r,a);try{let f;if(f=u(r),f==null&&!(r&Ue.Optional))zh(n);else return f}finally{M1()}}else if(typeof u=="number"){let f=null,m=L1(e,t),x=vs,v=r&Ue.Host?t[Or][Cr]:null;for((m===-1||r&Ue.SkipSelf)&&(x=m===-1?np(e,t):t[m+8],x===vs||!fm(r,!1)?m=-1:(f=t[je],m=Jc(x),t=eu(x,t)));m!==-1;){let A=t[je];if(dm(u,m,A.data)){let D=EE(m,t,n,f,r,v);if(D!==Rr)return D}x=t[m+8],x!==vs&&fm(r,t[je].data[m+8]===v)&&dm(u,m,t)?(f=A,m=Jc(x),t=eu(x,t)):m=-1}}return a}function EE(e,t,n,r,a,u){let f=t[je],m=f.data[e+8],x=r==null?Rs(m)&&oh:r!=f&&(m.type&3)!==0,v=a&Ue.Host&&u===m,A=Uc(m,f,n,x,v);return A!==null?Ma(t,f,A,m):Rr}function Uc(e,t,n,r,a){let u=e.providerIndexes,f=t.data,m=u&1048575,x=e.directiveStart,v=e.directiveEnd,A=u>>20,D=r?m:m+A,U=a?m+A:v;for(let R=D;R<U;R++){let G=f[R];if(R<x&&n===G||R>=x&&G.type===n)return R}if(a){let R=f[x];if(R&&kr(R)&&R.type===n)return x}return null}function Ma(e,t,n,r){let a=e[n],u=t.data;if(a instanceof bo){let f=a;f.resolving&&qm(c2(u[n]));let m=tu(f.canSeeViewProviders);f.resolving=!0;let x,v=f.injectImpl?In(f.injectImpl):null,A=A1(e,r,Ue.Default);try{a=e[n]=f.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&dE(n,u[n],t)}finally{v!==null&&In(v),tu(m),f.resolving=!1,M1()}}return a}function bE(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Sa)?e[Sa]:void 0;return typeof t=="number"?t>=0?t&F1:IE:t}function dm(e,t,n){let r=1<<e;return!!(n[t+(e>>P1)]&r)}function fm(e,t){return!(e&Ue.Self)&&!(e&Ue.Host&&t)}var mo=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return V1(this._tNode,this._lView,t,pu(r),n)}};function IE(){return new mo($n(),lt())}function Ba(e){return Fa(()=>{let t=e.prototype.constructor,n=t[Hc]||ah(t),r=Object.prototype,a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){let u=a[Hc]||ah(a);if(u&&u!==n)return u;a=Object.getPrototypeOf(a)}return u=>new u})}function ah(e){return Hm(e)?()=>{let t=ah(yn(e));return t&&t()}:yo(e)}function DE(e,t,n,r,a){let u=e,f=t;for(;u!==null&&f!==null&&f[_e]&2048&&!Kc(f);){let m=j1(u,f,n,r|Ue.Self,Rr);if(m!==Rr)return m;let x=u.parent;if(!x){let v=f[s1];if(v){let A=v.get(n,Rr,r);if(A!==Rr)return A}x=H1(f),f=f[Ns]}u=x}return a}function H1(e){let t=e[je],n=t.type;return n===2?t.declTNode:n===1?e[Cr]:null}function hm(e,t=null,n=null,r){let a=z1(e,t,n,r);return a.resolveInjectorInitializers(),a}function z1(e,t=null,n=null,r,a=new Set){let u=[n||nr,A2(e)];return r=r||(typeof e=="object"?void 0:Dn(e)),new _a(u,t||Wh(),r||null,a)}var jn=class e{static THROW_IF_NOT_FOUND=go;static NULL=new qc;static create(t,n){if(Array.isArray(t))return hm({name:""},n,t,"");{let r=t.name??"";return hm({name:r},t.parent,t.providers,r)}}static \u0275prov=fe({token:e,providedIn:"any",factory:()=>xe(Jm)});static __NG_ELEMENT_ID__=-1};var AE=new de("");AE.__NG_ELEMENT_ID__=e=>{let t=$n();if(t===null)throw new le(204,!1);if(t.type&2)return t.value;if(e&Ue.Optional)return null;throw new le(204,!1)};var G1=!1,Eu=(()=>{class e{static __NG_ELEMENT_ID__=SE;static __NG_ENV_ID__=n=>n}return e})(),lh=class extends Eu{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return y1(this._lView,t),()=>W2(this._lView,t)}};function SE(){return new lh(lt())}var Na=class{},bu=new de("",{providedIn:"root",factory:()=>!1});var $1=new de(""),W1=new de(""),Pi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Xt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=fe({token:e,providedIn:"root",factory:()=>new e})}return e})();var ch=class extends Zt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,P2()&&(this.destroyRef=J(Eu,{optional:!0})??void 0,this.pendingTasks=J(Pi,{optional:!0})??void 0)}emit(t){let n=We(null);try{super.next(t)}finally{We(n)}}subscribe(t,n,r){let a=t,u=n||(()=>null),f=r;if(t&&typeof t=="object"){let x=t;a=x.next?.bind(x),u=x.error?.bind(x),f=x.complete?.bind(x)}this.__isAsync&&(u=this.wrapInTimeout(u),a&&(a=this.wrapInTimeout(a)),f&&(f=this.wrapInTimeout(f)));let m=super.subscribe({next:a,error:u,complete:f});return t instanceof Bt&&t.add(m),m}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Tt=ch;function ru(...e){}function q1(e){let t,n;function r(){e=ru;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function pm(e){return queueMicrotask(()=>e()),()=>{e=ru}}var rp="isAngularZone",iu=rp+"_ID",_E=0,Kt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Tt(!1);onMicrotaskEmpty=new Tt(!1);onStable=new Tt(!1);onError=new Tt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:u=G1}=t;if(typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();let f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&r,f.shouldCoalesceRunChangeDetection=a,f.callbackScheduled=!1,f.scheduleInRootZone=u,NE(f)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new le(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){let u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+a,t,TE,ru,ru);try{return u.runTask(f,n,r)}finally{u.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},TE={};function ip(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ME(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){q1(()=>{e.callbackScheduled=!1,uh(e),e.isCheckStableRunning=!0,ip(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),uh(e)}function NE(e){let t=()=>{ME(e)},n=_E++;e._inner=e._inner.fork({name:"angular",properties:{[rp]:!0,[iu]:n,[iu+n]:!0},onInvokeTask:(r,a,u,f,m,x)=>{if(RE(x))return r.invokeTask(u,f,m,x);try{return gm(e),r.invokeTask(u,f,m,x)}finally{(e.shouldCoalesceEventChangeDetection&&f.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),mm(e)}},onInvoke:(r,a,u,f,m,x,v)=>{try{return gm(e),r.invoke(u,f,m,x,v)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!OE(x)&&t(),mm(e)}},onHasTask:(r,a,u,f)=>{r.hasTask(u,f),a===u&&(f.change=="microTask"?(e._hasPendingMicrotasks=f.microTask,uh(e),ip(e)):f.change=="macroTask"&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(r,a,u,f)=>(r.handleError(u,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}function uh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function gm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function mm(e){e._nesting--,ip(e)}var dh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Tt;onMicrotaskEmpty=new Tt;onStable=new Tt;onError=new Tt;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}};function RE(e){return Y1(e,"__ignore_ng_zone__")}function OE(e){return Y1(e,"__scheduler_tick__")}function Y1(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ni=class{_console=console;handleError(t){this._console.error("ERROR",t)}},kE=new de("",{providedIn:"root",factory:()=>{let e=J(Kt),t=J(ni);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function ym(e,t){return Vm(e,t)}function FE(e){return Vm(Um,e)}var Z1=(ym.required=FE,ym);function PE(){return Os($n(),lt())}function Os(e,t){return new or(li(e,t))}var or=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=PE}return e})();function LE(e){return e instanceof or?e.nativeElement:e}function BE(e){return typeof e=="function"&&e[er]!==void 0}function ks(e,t){let n=pf(e,t?.equal),r=n[er];return n.set=a=>Ca(r,a),n.update=a=>gf(r,a),n.asReadonly=UE.bind(n),n}function UE(){let e=this[er];if(e.readonlyFn===void 0){let t=()=>this();t[er]=e,e.readonlyFn=t}return e.readonlyFn}function X1(e){return BE(e)&&typeof e.set=="function"}function VE(){return this._results[Symbol.iterator]()}var fh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Zt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=C2(t);(this._changesDetected=!v2(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=VE};function Q1(e){return(e.flags&128)===128}var K1=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(K1||{}),J1=new Map,jE=0;function HE(){return jE++}function zE(e){J1.set(e[mu],e)}function hh(e){J1.delete(e[mu])}var wm="__ngContext__";function Fs(e,t){Oi(t)?(e[wm]=t[mu],zE(t)):e[wm]=t}function ey(e){return ny(e[Ta])}function ty(e){return ny(e[vr])}function ny(e){for(;e!==null&&!ai(e);)e=e[vr];return e}var ph;function ry(e){ph=e}function GE(){if(ph!==void 0)return ph;if(typeof document<"u")return document;throw new le(210,!1)}var op=new de("",{providedIn:"root",factory:()=>$E}),$E="ng",sp=new de(""),Mo=new de("",{providedIn:"platform",factory:()=>"unknown"});var ap=new de("",{providedIn:"root",factory:()=>GE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WE="h",qE="b";var iy=!1,YE=new de("",{providedIn:"root",factory:()=>iy});var oy=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(oy||{}),Iu=new de(""),vm=new Set;function Du(e){vm.has(e)||(vm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ZE=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=fe({token:e,providedIn:"root",factory:()=>new e})}return e})();var XE=()=>null;function sy(e,t,n=!1){return XE(e,t,n)}function ay(e,t){let n=e.contentQueries;if(n!==null){let r=We(null);try{for(let a=0;a<n.length;a+=2){let u=n[a],f=n[a+1];if(f!==-1){let m=e.data[f];Kh(u),m.contentQueries(2,t[f],f)}}}finally{We(r)}}}function gh(e,t,n){Kh(0);let r=We(null);try{t(e,n)}finally{We(r)}}function lp(e,t,n){if(qh(t)){let r=We(null);try{let a=t.directiveStart,u=t.directiveEnd;for(let f=a;f<u;f++){let m=e.data[f];if(m.contentQueries){let x=n[f];m.contentQueries(1,x,f)}}}finally{We(r)}}}var Lr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Lr||{});var mh=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Kx})`}};function cp(e){return e instanceof mh?e.changingThisBreaksApplicationSecurity:e}var QE=/^>|^->|<!--|-->|--!>|<!-$/g,KE=/(<|>)/g,JE="\u200B$1\u200B";function eb(e){return e.replace(QE,t=>t.replace(KE,JE))}function ly(e){return e instanceof Function?e():e}function tb(e,t,n){let r=e.length;for(;;){let a=e.indexOf(t,n);if(a===-1)return a;if(a===0||e.charCodeAt(a-1)<=32){let u=t.length;if(a+u===r||e.charCodeAt(a+u)<=32)return a}n=a+1}}var cy="ng-template";function nb(e,t,n,r){let a=0;if(r){for(;a<t.length&&typeof t[a]=="string";a+=2)if(t[a]==="class"&&tb(t[a+1].toLowerCase(),n,0)!==-1)return!0}else if(up(e))return!1;if(a=t.indexOf(1,a),a>-1){let u;for(;++a<t.length&&typeof(u=t[a])=="string";)if(u.toLowerCase()===n)return!0}return!1}function up(e){return e.type===4&&e.value!==cy}function rb(e,t,n){let r=e.type===4&&!n?cy:e.value;return t===r}function ib(e,t,n){let r=4,a=e.attrs,u=a!==null?ab(a):0,f=!1;for(let m=0;m<t.length;m++){let x=t[m];if(typeof x=="number"){if(!f&&!wr(r)&&!wr(x))return!1;if(f&&wr(x))continue;f=!1,r=x|r&1;continue}if(!f)if(r&4){if(r=2|r&1,x!==""&&!rb(e,x,n)||x===""&&t.length===1){if(wr(r))return!1;f=!0}}else if(r&8){if(a===null||!nb(e,a,x,n)){if(wr(r))return!1;f=!0}}else{let v=t[++m],A=ob(x,a,up(e),n);if(A===-1){if(wr(r))return!1;f=!0;continue}if(v!==""){let D;if(A>u?D="":D=a[A+1].toLowerCase(),r&2&&v!==D){if(wr(r))return!1;f=!0}}}}return wr(r)||f}function wr(e){return(e&1)===0}function ob(e,t,n,r){if(t===null)return-1;let a=0;if(r||!n){let u=!1;for(;a<t.length;){let f=t[a];if(f===e)return a;if(f===3||f===6)u=!0;else if(f===1||f===2){let m=t[++a];for(;typeof m=="string";)m=t[++a];continue}else{if(f===4)break;if(f===0){a+=4;continue}}a+=u?1:2}return-1}else return lb(t,e)}function sb(e,t,n=!1){for(let r=0;r<t.length;r++)if(ib(e,t[r],n))return!0;return!1}function ab(e){for(let t=0;t<e.length;t++){let n=e[t];if(mE(n))return t}return e.length}function lb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Cm(e,t){return e?":not("+t.trim()+")":t}function cb(e){let t=e[0],n=1,r=2,a="",u=!1;for(;n<e.length;){let f=e[n];if(typeof f=="string")if(r&2){let m=e[++n];a+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else r&8?a+="."+f:r&4&&(a+=" "+f);else a!==""&&!wr(f)&&(t+=Cm(u,a),a=""),r=f,u=u||!wr(r);n++}return a!==""&&(t+=Cm(u,a)),t}function ub(e){return e.map(cb).join(",")}function db(e){let t=[],n=[],r=1,a=2;for(;r<e.length;){let u=e[r];if(typeof u=="string")a===2?u!==""&&t.push(u,e[++r]):a===8&&n.push(u);else{if(!wr(a))break;a=u}r++}return n.length&&t.push(1,...n),t}var ci={};function fb(e,t){return e.createText(t)}function hb(e,t,n){e.setValue(t,n)}function pb(e,t){return e.createComment(eb(t))}function uy(e,t,n){return e.createElement(t,n)}function ou(e,t,n,r,a){e.insertBefore(t,n,r,a)}function dy(e,t,n){e.appendChild(t,n)}function xm(e,t,n,r,a){r!==null?ou(e,t,n,r,a):dy(e,t,n)}function gb(e,t,n){e.removeChild(null,t,n)}function mb(e,t,n){e.setAttribute(t,"style",n)}function yb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function fy(e,t,n){let{mergedAttrs:r,classes:a,styles:u}=n;r!==null&&gE(e,t,r),a!==null&&yb(e,t,a),u!==null&&mb(e,t,u)}function dp(e,t,n,r,a,u,f,m,x,v,A){let D=ir+r,U=D+a,R=wb(D,U),G=typeof v=="function"?v():v;return R[je]={type:e,blueprint:R,template:n,queries:null,viewQuery:m,declTNode:t,data:R.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof u=="function"?u():u,pipeRegistry:typeof f=="function"?f():f,firstChild:null,schemas:x,consts:G,incompleteFirstPass:!1,ssrId:A}}function wb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ci);return n}function vb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=dp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function fp(e,t,n,r,a,u,f,m,x,v,A){let D=t.blueprint.slice();return D[si]=a,D[_e]=r|4|128|8|64|1024,(v!==null||e&&e[_e]&2048)&&(D[_e]|=2048),g1(D),D[hn]=D[Ns]=e,D[Sn]=n,D[ki]=f||e&&e[ki],D[Jt]=m||e&&e[Jt],D[bs]=x||e&&e[bs]||null,D[Cr]=u,D[mu]=HE(),D[Yc]=A,D[s1]=v,D[Or]=t.type==2?e[Or]:D,D}function Cb(e,t,n){let r=li(t,e),a=vb(n),u=e[ki].rendererFactory,f=hp(e,fp(e,a,null,hy(n),r,t,null,u.createRenderer(r,n),null,null,null));return e[t.index]=f}function hy(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function py(e,t,n,r){if(n===0)return-1;let a=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function hp(e,t){return e[Ta]?e[sm][vr]=t:e[Ta]=t,e[sm]=t,t}function se(e=1){gy(rn(),lt(),To()+e,!1)}function gy(e,t,n,r){if(!r)if((t[_e]&3)===3){let u=e.preOrderCheckHooks;u!==null&&Lc(t,u,n)}else{let u=e.preOrderHooks;u!==null&&Bc(t,u,0,n)}Eo(n)}var Au=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Au||{});function yh(e,t,n,r){let a=We(null);try{let[u,f,m]=e.inputs[n],x=null;(f&Au.SignalBased)!==0&&(x=t[u][er]),x!==null&&x.transformFn!==void 0?r=x.transformFn(r):m!==null&&(r=m.call(t,r)),e.setInput!==null?e.setInput(t,x,r,n,u):l1(t,x,u,r)}finally{We(a)}}function my(e,t,n,r,a){let u=To(),f=r&2;try{Eo(-1),f&&t.length>ir&&gy(e,t,ir,!1),yt(f?2:0,a),n(r,a)}finally{Eo(u),yt(f?3:1,a)}}function Su(e,t,n){Ab(e,t,n),(n.flags&64)===64&&Sb(e,t,n)}function pp(e,t,n=li){let r=t.localNames;if(r!==null){let a=t.index+1;for(let u=0;u<r.length;u+=2){let f=r[u+1],m=f===-1?n(t,e):e[f];e[a++]=m}}}function xb(e,t,n,r){let u=r.get(YE,iy)||n===Lr.ShadowDom,f=e.selectRootElement(t,u);return Eb(f),f}function Eb(e){bb(e)}var bb=()=>null;function Ib(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function yy(e,t,n,r,a,u,f,m){if(!m&&mp(t,e,n,r,a)){Rs(t)&&Db(n,t.index);return}if(t.type&3){let x=li(t,n);r=Ib(r),a=f!=null?f(a,t.value||"",r):a,u.setProperty(x,r,a)}else t.type&12}function Db(e,t){let n=Pr(t,e);n[_e]&16||(n[_e]|=64)}function Ab(e,t,n){let r=n.directiveStart,a=n.directiveEnd;Rs(n)&&Cb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||nu(n,t);let u=n.initialInputs;for(let f=r;f<a;f++){let m=e.data[f],x=Ma(t,e,f,n);if(Fs(x,t),u!==null&&Tb(t,f-r,x,m,n,u),kr(m)){let v=Pr(n.index,t);v[Sn]=Ma(t,e,f,n)}}}function Sb(e,t,n){let r=n.directiveStart,a=n.directiveEnd,u=n.index,f=oE();try{Eo(u);for(let m=r;m<a;m++){let x=e.data[m],v=t[m];rh(m),(x.hostBindings!==null||x.hostVars!==0||x.hostAttrs!==null)&&_b(x,v)}}finally{Eo(-1),rh(f)}}function _b(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function gp(e,t){let n=e.directiveRegistry,r=null;if(n)for(let a=0;a<n.length;a++){let u=n[a];sb(t,u.selectors,!1)&&(r??=[],kr(u)?r.unshift(u):r.push(u))}return r}function Tb(e,t,n,r,a,u){let f=u[t];if(f!==null)for(let m=0;m<f.length;m+=2){let x=f[m],v=f[m+1];yh(r,n,x,v)}}function Mb(e,t){let n=e[bs],r=n?n.get(ni,null):null;r&&r.handleError(t)}function mp(e,t,n,r,a){let u=e.inputs?.[r],f=e.hostDirectiveInputs?.[r],m=!1;if(f)for(let x=0;x<f.length;x+=2){let v=f[x],A=f[x+1],D=t.data[v];yh(D,n[v],A,a),m=!0}if(u)for(let x of u){let v=n[x],A=t.data[x];yh(A,v,r,a),m=!0}return m}function Nb(e,t){let n=Pr(t,e),r=n[je];Rb(r,n);let a=n[si];a!==null&&n[Yc]===null&&(n[Yc]=sy(a,n[bs])),yt(18),yp(r,n,n[Sn]),yt(19,n[Sn])}function Rb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function yp(e,t,n){Jh(t);try{let r=e.viewQuery;r!==null&&gh(1,r,n);let a=e.template;a!==null&&my(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ti]?.finishViewCreation(e),e.staticContentQueries&&ay(e,t),e.staticViewQueries&&gh(2,e.viewQuery,n);let u=e.components;u!==null&&Ob(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[_e]&=-5,ep()}}function Ob(e,t){for(let n=0;n<t.length;n++)Nb(e,t[n])}function kb(e,t,n,r){let a=We(null);try{let u=t.tView,m=e[_e]&4096?4096:16,x=fp(e,u,n,m,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),v=e[t.index];x[vo]=v;let A=e[ti];return A!==null&&(x[ti]=A.createEmbeddedView(u)),yp(u,x,n),x}finally{We(a)}}function Em(e,t){return!t||t.firstChild===null||Q1(e)}var Fb;function wp(e,t){return Fb(e,t)}var ri=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ri||{});function wy(e){return(e.flags&32)===32}function ws(e,t,n,r,a){if(r!=null){let u,f=!1;ai(r)?u=r:Oi(r)&&(f=!0,r=r[si]);let m=Fr(r);e===0&&n!==null?a==null?dy(t,n,m):ou(t,n,m,a||null,!0):e===1&&n!==null?ou(t,n,m,a||null,!0):e===2?gb(t,m,f):e===3&&t.destroyNode(m),u!=null&&qb(t,e,u,n,a)}}function Pb(e,t){vy(e,t),t[si]=null,t[Cr]=null}function Lb(e,t,n,r,a,u){r[si]=a,r[Cr]=t,Tu(e,r,n,1,a,u)}function vy(e,t){t[ki].changeDetectionScheduler?.notify(9),Tu(e,t,t[Jt],2,null,null)}function Bb(e){let t=e[Ta];if(!t)return jf(e[je],e);for(;t;){let n=null;if(Oi(t))n=t[Ta];else{let r=t[Vn];r&&(n=r)}if(!n){for(;t&&!t[vr]&&t!==e;)Oi(t)&&jf(t[je],t),t=t[hn];t===null&&(t=e),Oi(t)&&jf(t[je],t),n=t&&t[vr]}t=n}}function vp(e,t){let n=e[Is],r=n.indexOf(t);n.splice(r,1)}function Cy(e,t){if(La(t))return;let n=t[Jt];n.destroyNode&&Tu(e,t,n,3,null,null),Bb(t)}function jf(e,t){if(La(t))return;let n=We(null);try{t[_e]&=-129,t[_e]|=256,t[rr]&&df(t[rr]),Vb(e,t),Ub(e,t),t[je].type===1&&t[Jt].destroy();let r=t[vo];if(r!==null&&ai(t[hn])){r!==t[hn]&&vp(r,t);let a=t[ti];a!==null&&a.detachView(e)}hh(t)}finally{We(n)}}function Ub(e,t){let n=e.cleanup,r=t[Zc];if(n!==null)for(let f=0;f<n.length-1;f+=2)if(typeof n[f]=="string"){let m=n[f+3];m>=0?r[m]():r[-m].unsubscribe(),f+=2}else{let m=r[n[f+1]];n[f].call(m)}r!==null&&(t[Zc]=null);let a=t[Ri];if(a!==null){t[Ri]=null;for(let f=0;f<a.length;f++){let m=a[f];m()}}let u=t[Xc];if(u!==null){t[Xc]=null;for(let f of u)f.destroy()}}function Vb(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let a=t[n[r]];if(!(a instanceof bo)){let u=n[r+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){let m=a[u[f]],x=u[f+1];yt(4,m,x);try{x.call(m)}finally{yt(5,m,x)}}else{yt(4,a,u);try{u.call(a)}finally{yt(5,a,u)}}}}}function jb(e,t,n){return Hb(e,t.parent,n)}function Hb(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[si];if(Rs(r)){let{encapsulation:a}=e.data[r.directiveStart+r.componentOffset];if(a===Lr.None||a===Lr.Emulated)return null}return li(r,n)}function zb(e,t,n){return $b(e,t,n)}function Gb(e,t,n){return e.type&40?li(e,n):null}var $b=Gb,bm;function _u(e,t,n,r){let a=jb(e,r,t),u=t[Jt],f=r.parent||t[Cr],m=zb(f,r,t);if(a!=null)if(Array.isArray(n))for(let x=0;x<n.length;x++)xm(u,a,n[x],m,!1);else xm(u,a,n,m,!1);bm!==void 0&&bm(u,r,t,n,a)}function Aa(e,t){if(t!==null){let n=t.type;if(n&3)return li(t,e);if(n&4)return wh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Aa(e,r);{let a=e[t.index];return ai(a)?wh(-1,a):Fr(a)}}else{if(n&128)return Aa(e,t.next);if(n&32)return wp(t,e)()||Fr(e[t.index]);{let r=xy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let a=xo(e[Or]);return Aa(a,r)}else return Aa(e,t.next)}}}return null}function xy(e,t){if(t!==null){let r=e[Or][Cr],a=t.projection;return r.projection[a]}return null}function wh(e,t){let n=Vn+e+1;if(n<t.length){let r=t[n],a=r[je].firstChild;if(a!==null)return Aa(r,a)}return t[Co]}function Cp(e,t,n,r,a,u,f){for(;n!=null;){if(n.type===128){n=n.next;continue}let m=r[n.index],x=n.type;if(f&&t===0&&(m&&Fs(Fr(m),r),n.flags|=2),!wy(n))if(x&8)Cp(e,t,n.child,r,a,u,!1),ws(t,e,a,m,u);else if(x&32){let v=wp(n,r),A;for(;A=v();)ws(t,e,a,A,u);ws(t,e,a,m,u)}else x&16?Wb(e,t,r,n,a,u):ws(t,e,a,m,u);n=f?n.projectionNext:n.next}}function Tu(e,t,n,r,a,u){Cp(n,r,e.firstChild,t,a,u,!1)}function Wb(e,t,n,r,a,u){let f=n[Or],x=f[Cr].projection[r.projection];if(Array.isArray(x))for(let v=0;v<x.length;v++){let A=x[v];ws(t,e,a,A,u)}else{let v=x,A=f[hn];Q1(r)&&(v.flags|=128),Cp(e,t,v,A,a,u,!0)}}function qb(e,t,n,r,a){let u=n[Co],f=Fr(n);u!==f&&ws(t,e,r,u,a);for(let m=Vn;m<n.length;m++){let x=n[m];Tu(x[je],x,e,t,r,u)}}function Yb(e,t,n,r,a){if(t)a?e.addClass(n,r):e.removeClass(n,r);else{let u=r.indexOf("-")===-1?void 0:ri.DashCase;a==null?e.removeStyle(n,r,u):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),u|=ri.Important),e.setStyle(n,r,a,u))}}function su(e,t,n,r,a=!1){for(;n!==null;){if(n.type===128){n=a?n.projectionNext:n.next;continue}let u=t[n.index];u!==null&&r.push(Fr(u)),ai(u)&&Zb(u,r);let f=n.type;if(f&8)su(e,t,n.child,r);else if(f&32){let m=wp(n,t),x;for(;x=m();)r.push(x)}else if(f&16){let m=xy(t,n);if(Array.isArray(m))r.push(...m);else{let x=xo(t[Or]);su(x[je],x,m,r,!0)}}n=a?n.projectionNext:n.next}return r}function Zb(e,t){for(let n=Vn;n<e.length;n++){let r=e[n],a=r[je].firstChild;a!==null&&su(r[je],r,a,t)}e[Co]!==e[si]&&t.push(e[Co])}function Ey(e){if(e[Lf]!==null){for(let t of e[Lf])t.impl.addSequence(t);e[Lf].length=0}}var by=[];function Xb(e){return e[rr]??Qb(e)}function Qb(e){let t=by.pop()??Object.create(Jb);return t.lView=e,t}function Kb(e){e.lView[rr]!==e&&(e.lView=null,by.push(e))}var Jb=$e(re({},wa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{vu(e.lView)},consumerOnSignalRead(){this.lView[rr]=this}});function eI(e){let t=e[rr]??Object.create(tI);return t.lView=e,t}var tI=$e(re({},wa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=xo(e.lView);for(;t&&!Iy(t[je]);)t=xo(t);t&&m1(t)},consumerOnSignalRead(){this.lView[rr]=this}});function Iy(e){return e.type!==2}function Dy(e){if(e[Xc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Xc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[_e]&8192)}}var nI=100;function Ay(e,t=!0,n=0){let a=e[ki].rendererFactory,u=!1;u||a.begin?.();try{rI(e,n)}catch(f){throw t&&Mb(e,f),f}finally{u||a.end?.()}}function rI(e,t){let n=E1();try{lm(!0),vh(e,t);let r=0;for(;wu(e);){if(r===nI)throw new le(103,!1);r++,vh(e,1)}}finally{lm(n)}}function iI(e,t,n,r){if(La(t))return;let a=t[_e],u=!1,f=!1;Jh(t);let m=!0,x=null,v=null;u||(Iy(e)?(v=Xb(t),x=oc(v)):of()===null?(m=!1,v=eI(t),x=oc(v)):t[rr]&&(df(t[rr]),t[rr]=null));try{g1(t),nE(e.bindingStartIndex),n!==null&&my(e,t,n,2,r);let A=(a&3)===3;if(!u)if(A){let R=e.preOrderCheckHooks;R!==null&&Lc(t,R,null)}else{let R=e.preOrderHooks;R!==null&&Bc(t,R,0,null),Bf(t,0)}if(f||oI(t),Dy(t),Sy(t,0),e.contentQueries!==null&&ay(e,t),!u)if(A){let R=e.contentCheckHooks;R!==null&&Lc(t,R)}else{let R=e.contentHooks;R!==null&&Bc(t,R,1),Bf(t,1)}aI(e,t);let D=e.components;D!==null&&Ty(t,D,0);let U=e.viewQuery;if(U!==null&&gh(2,U,r),!u)if(A){let R=e.viewCheckHooks;R!==null&&Lc(t,R)}else{let R=e.viewHooks;R!==null&&Bc(t,R,2),Bf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Pf]){for(let R of t[Pf])R();t[Pf]=null}u||(Ey(t),t[_e]&=-73)}catch(A){throw u||vu(t),A}finally{v!==null&&(cf(v,x),m&&Kb(v)),ep()}}function Sy(e,t){for(let n=ey(e);n!==null;n=ty(n))for(let r=Vn;r<n.length;r++){let a=n[r];_y(a,t)}}function oI(e){for(let t=ey(e);t!==null;t=ty(t)){if(!(t[_e]&2))continue;let n=t[Is];for(let r=0;r<n.length;r++){let a=n[r];m1(a)}}}function sI(e,t,n){yt(18);let r=Pr(t,e);_y(r,n),yt(19,r[Sn])}function _y(e,t){Yh(e)&&vh(e,t)}function vh(e,t){let r=e[je],a=e[_e],u=e[rr],f=!!(t===0&&a&16);if(f||=!!(a&64&&t===0),f||=!!(a&1024),f||=!!(u?.dirty&&uf(u)),f||=!1,u&&(u.dirty=!1),e[_e]&=-9217,f)iI(r,e,r.template,e[Sn]);else if(a&8192){Dy(e),Sy(e,1);let m=r.components;m!==null&&Ty(e,m,1),Ey(e)}}function Ty(e,t,n){for(let r=0;r<t.length;r++)sI(e,t[r],n)}function aI(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let a=n[r];if(a<0)Eo(~a);else{let u=a,f=n[++r],m=n[++r];iE(f,u);let x=t[u];yt(24,x),m(2,x),yt(25,x)}}}finally{Eo(-1)}}function xp(e,t){let n=E1()?64:1088;for(e[ki].changeDetectionScheduler?.notify(t);e;){e[_e]|=n;let r=xo(e);if(Kc(e)&&!r)return e;e=r}return null}function My(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function lI(e,t,n,r=!0){let a=t[je];if(cI(a,t,e,n),r){let f=wh(n,e),m=t[Jt],x=m.parentNode(e[Co]);x!==null&&Lb(a,e[Cr],m,t,x,f)}let u=t[Yc];u!==null&&u.firstChild!==null&&(u.firstChild=null)}function Ch(e,t){if(e.length<=Vn)return;let n=Vn+t,r=e[n];if(r){let a=r[vo];a!==null&&a!==e&&vp(a,r),t>0&&(e[n-1][vr]=r[vr]);let u=Wc(e,Vn+t);Pb(r[je],r);let f=u[ti];f!==null&&f.detachView(u[je]),r[hn]=null,r[vr]=null,r[_e]&=-129}return r}function cI(e,t,n,r){let a=Vn+r,u=n.length;r>0&&(n[a-1][vr]=t),r<u-Vn?(t[vr]=n[a],Km(n,Vn+r,t)):(n.push(t),t[vr]=null),t[hn]=n;let f=t[vo];f!==null&&n!==f&&Ny(f,t);let m=t[ti];m!==null&&m.insertView(e),th(t),t[_e]|=128}function Ny(e,t){let n=e[Is],r=t[hn];if(Oi(r))e[_e]|=2;else{let a=r[hn][Or];t[Or]!==a&&(e[_e]|=2)}n===null?e[Is]=[t]:n.push(t)}var Ra=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[je];return su(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Sn]}set context(t){this._lView[Sn]=t}get destroyed(){return La(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[hn];if(ai(t)){let n=t[Qc],r=n?n.indexOf(this):-1;r>-1&&(Ch(t,r),Wc(n,r))}this._attachedToViewContainer=!1}Cy(this._lView[je],this._lView)}onDestroy(t){y1(this._lView,t)}markForCheck(){xp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_e]&=-129}reattach(){th(this._lView),this._lView[_e]|=128}detectChanges(){this._lView[_e]|=1024,Ay(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Kc(this._lView),n=this._lView[vo];n!==null&&!t&&vp(n,this._lView),vy(this._lView[je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=t;let n=Kc(this._lView),r=this._lView[vo];r!==null&&!n&&Ny(r,this._lView),th(this._lView)}};var Io=(()=>{class e{static __NG_ELEMENT_ID__=fI}return e})(),uI=Io,dI=class extends uI{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let a=kb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ra(a)}};function fI(){return Ep($n(),lt())}function Ep(e,t){return e.type&4?new dI(t,e,Os(e,t)):null}function Mu(e,t,n,r,a){let u=e.data[t];if(u===null)u=hI(e,t,n,r,a),rE()&&(u.flags|=32);else if(u.type&64){u.type=n,u.value=r,u.attrs=a;let f=eE();u.injectorIndex=f===null?-1:f.injectorIndex}return _o(u,!0),u}function hI(e,t,n,r,a){let u=C1(),f=Xh(),m=f?u:u&&u.parent,x=e.data[t]=gI(e,m,n,t,r,a);return pI(e,x,u,f),x}function pI(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function gI(e,t,n,r,a,u){let f=t?t.injectorIndex:-1,m=0;return Q2()&&(m|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:a,attrs:u,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var G8=new RegExp(`^(\\d+)*(${qE}|${WE})*(.*)`);var mI=()=>null;function Im(e,t){return mI(e,t)}var yI=class{},Ry=class{},xh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Dn(t)}.`)}},Nu=class{static NULL=new xh},Ss=class{},Li=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>wI()}return e})();function wI(){let e=lt(),t=$n(),n=Pr(t.index,e);return(Oi(n)?n:e)[Jt]}var vI=(()=>{class e{static \u0275prov=fe({token:e,providedIn:"root",factory:()=>null})}return e})();function Eh(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,u=0;if(t!==null)for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="number")u=m;else if(u==1)a=J0(a,m);else if(u==2){let x=m,v=t[++f];r=J0(r,x+": "+v+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function ve(e,t=Ue.Default){let n=lt();if(n===null)return xe(e,t);let r=$n();return V1(r,n,yn(e),t)}function bp(e,t,n,r,a){let u=r===null?null:{"":-1},f=a(e,n);if(f!==null){let m,x=null,v=null,A=xI(f);A===null?m=f:[m,x,v]=A,II(e,t,n,m,u,x,v)}u!==null&&r!==null&&CI(n,r,u)}function CI(e,t,n){let r=e.localNames=[];for(let a=0;a<t.length;a+=2){let u=n[t[a+1]];if(u==null)throw new le(-301,!1);r.push(t[a],u)}}function xI(e){let t=null,n=!1;for(let f=0;f<e.length;f++){let m=e[f];if(f===0&&kr(m)&&(t=m),m.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,a=null,u=null;for(let f of e)f.findHostDirectiveDefs!==null&&(r??=[],a??=new Map,u??=new Map,EI(f,r,u,a)),f===t&&(r??=[],r.push(f));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,a,u]):null}function EI(e,t,n,r){let a=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[a,t.length-1])}function bI(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function II(e,t,n,r,a,u,f){let m=r.length,x=!1;for(let U=0;U<m;U++){let R=r[U];!x&&kr(R)&&(x=!0,bI(e,n,U)),sh(nu(n,t),e,R.type)}MI(n,e.data.length,m);for(let U=0;U<m;U++){let R=r[U];R.providersResolver&&R.providersResolver(R)}let v=!1,A=!1,D=py(e,t,m,null);m>0&&(n.directiveToIndex=new Map);for(let U=0;U<m;U++){let R=r[U];if(n.mergedAttrs=As(n.mergedAttrs,R.hostAttrs),AI(e,n,t,D,R),TI(D,R,a),f!==null&&f.has(R)){let[Z,W]=f.get(R);n.directiveToIndex.set(R.type,[D,Z+n.directiveStart,W+n.directiveStart])}else(u===null||!u.has(R))&&n.directiveToIndex.set(R.type,D);R.contentQueries!==null&&(n.flags|=4),(R.hostBindings!==null||R.hostAttrs!==null||R.hostVars!==0)&&(n.flags|=64);let G=R.type.prototype;!v&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),v=!0),!A&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),A=!0),D++}DI(e,n,u)}function DI(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let a=e.data[r];if(n===null||!n.has(a))Dm(0,t,a,r),Dm(1,t,a,r),Sm(t,r,!1);else{let u=n.get(a);Am(0,t,u,r),Am(1,t,u,r),Sm(t,r,!0)}}}function Dm(e,t,n,r){let a=e===0?n.inputs:n.outputs;for(let u in a)if(a.hasOwnProperty(u)){let f;e===0?f=t.inputs??={}:f=t.outputs??={},f[u]??=[],f[u].push(r),Oy(t,u)}}function Am(e,t,n,r){let a=e===0?n.inputs:n.outputs;for(let u in a)if(a.hasOwnProperty(u)){let f=a[u],m;e===0?m=t.hostDirectiveInputs??={}:m=t.hostDirectiveOutputs??={},m[f]??=[],m[f].push(r,u),Oy(t,f)}}function Oy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Sm(e,t,n){let{attrs:r,inputs:a,hostDirectiveInputs:u}=e;if(r===null||!n&&a===null||n&&u===null||up(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let f=null,m=0;for(;m<r.length;){let x=r[m];if(x===0){m+=4;continue}else if(x===5){m+=2;continue}else if(typeof x=="number")break;if(!n&&a.hasOwnProperty(x)){let v=a[x];for(let A of v)if(A===t){f??=[],f.push(x,r[m+1]);break}}else if(n&&u.hasOwnProperty(x)){let v=u[x];for(let A=0;A<v.length;A+=2)if(v[A]===t){f??=[],f.push(v[A+1],r[m+1]);break}}m+=2}e.initialInputs??=[],e.initialInputs.push(f)}function AI(e,t,n,r,a){e.data[r]=a;let u=a.factory||(a.factory=yo(a.type,!0)),f=new bo(u,kr(a),ve);e.blueprint[r]=f,n[r]=f,SI(e,t,r,py(e,n,a.hostVars,ci),a)}function SI(e,t,n,r,a){let u=a.hostBindings;if(u){let f=e.hostBindingOpCodes;f===null&&(f=e.hostBindingOpCodes=[]);let m=~t.index;_I(f)!=m&&f.push(m),f.push(n,r,u)}}function _I(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function TI(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kr(t)&&(n[""]=e)}}function MI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ky(e,t,n,r,a,u,f,m){let x=t.consts,v=Ds(x,f),A=Mu(t,e,2,r,v);return u&&bp(t,n,A,Ds(x,m),a),A.mergedAttrs=As(A.mergedAttrs,A.attrs),A.attrs!==null&&Eh(A,A.attrs,!1),A.mergedAttrs!==null&&Eh(A,A.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,A),A}function Fy(e,t){tp(e,t),qh(t)&&e.queries.elementEnd(t)}var au=class extends Nu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=xs(t);return new Oa(n,this.ngModule)}};function NI(e){return Object.keys(e).map(t=>{let[n,r,a]=e[t],u={propName:n,templateName:t,isSignal:(r&Au.SignalBased)!==0};return a&&(u.transform=a),u})}function RI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function OI(e,t,n){let r=t instanceof An?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new ih(n,r):n}function kI(e){let t=e.get(Ss,null);if(t===null)throw new le(407,!1);let n=e.get(vI,null),r=e.get(Na,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function FI(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return uy(t,n,n==="svg"?f1:n==="math"?j2:null)}var Oa=class extends Ry{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=RI(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ub(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,a){yt(22);let u=We(null);try{let f=this.componentDef,m=r?["ng-version","19.2.4"]:db(this.componentDef.selectors[0]),x=dp(0,null,null,1,0,null,null,null,null,[m],null),v=OI(f,a||this.ngModule,t),A=kI(v),D=A.rendererFactory.createRenderer(null,f),U=r?xb(D,r,f.encapsulation,v):FI(f,D),R=fp(null,x,null,512|hy(f),null,null,A,D,v,null,sy(U,v,!0));R[ir]=U,Jh(R);let G=null;try{let Z=ky(ir,x,R,"#host",()=>[this.componentDef],!0,0);U&&(fy(D,U,Z),Fs(U,R)),Su(x,R,Z),lp(x,Z,R),Fy(x,Z),n!==void 0&&PI(Z,this.ngContentSelectors,n),G=Pr(Z.index,R),R[Sn]=G[Sn],yp(x,R,null)}catch(Z){throw G!==null&&hh(G),hh(R),Z}finally{yt(23),ep()}return new bh(this.componentType,R)}finally{We(u)}}},bh=class extends yI{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=p1(n[je],ir),this.location=Os(this._tNode,n),this.instance=Pr(this._tNode.index,n)[Sn],this.hostView=this.changeDetectorRef=new Ra(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let a=this._rootLView,u=mp(r,a[je],a,t,n);this.previousInputValues.set(t,n);let f=Pr(r.index,a);xp(f,1)}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function PI(e,t,n){let r=e.projection=[];for(let a=0;a<t.length;a++){let u=n[a];r.push(u!=null&&u.length?Array.from(u):null)}}var Bi=(()=>{class e{static __NG_ELEMENT_ID__=LI}return e})();function LI(){let e=$n();return Ly(e,lt())}var BI=Bi,Py=class extends BI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){let t=np(this._hostTNode,this._hostLView);if(k1(t)){let n=eu(t,this._hostLView),r=Jc(t),a=n[je].data[r+8];return new mo(a,n)}else return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=_m(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(t,n,r){let a,u;typeof r=="number"?a=r:r!=null&&(a=r.index,u=r.injector);let f=Im(this._lContainer,t.ssrId),m=t.createEmbeddedViewImpl(n||{},u,f);return this.insertImpl(m,a,Em(this._hostTNode,f)),m}createComponent(t,n,r,a,u){let f=t&&!L2(t),m;if(f)m=n;else{let G=n||{};m=G.index,r=G.injector,a=G.projectableNodes,u=G.environmentInjector||G.ngModuleRef}let x=f?t:new Oa(xs(t)),v=r||this.parentInjector;if(!u&&x.ngModule==null){let Z=(f?v:this.parentInjector).get(An,null);Z&&(u=Z)}let A=xs(x.componentType??{}),D=Im(this._lContainer,A?.id??null),U=D?.firstChild??null,R=x.create(v,a,U,u);return this.insertImpl(R.hostView,m,Em(this._hostTNode,D)),R}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let a=t._lView;if(G2(a)){let m=this.indexOf(t);if(m!==-1)this.detach(m);else{let x=a[hn],v=new Py(x,x[Cr],x[hn]);v.detach(v.indexOf(t))}}let u=this._adjustIndex(n),f=this._lContainer;return lI(f,a,u,r),t.attachToViewContainerRef(),Km(Hf(f),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=_m(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ch(this._lContainer,n);r&&(Wc(Hf(this._lContainer),n),Cy(r[je],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ch(this._lContainer,n);return r&&Wc(Hf(this._lContainer),n)!=null?new Ra(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function _m(e){return e[Qc]}function Hf(e){return e[Qc]||(e[Qc]=[])}function Ly(e,t){let n,r=t[e.index];return ai(r)?n=r:(n=My(r,t,null,e),t[e.index]=n,hp(t,n)),VI(n,t,e,r),new Py(n,e,t)}function UI(e,t){let n=e[Jt],r=n.createComment(""),a=li(t,e),u=n.parentNode(a);return ou(n,u,r,n.nextSibling(a),!1),r}var VI=zI,jI=()=>!1;function HI(e,t,n){return jI(e,t,n)}function zI(e,t,n,r){if(e[Co])return;let a;n.type&8?a=Fr(r):a=UI(t,n),e[Co]=a}var Ih=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Dh=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,a=[];for(let u=0;u<r;u++){let f=n.getByIndex(u),m=this.queries[f.indexInDeclarationView];a.push(m.clone())}return new e(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Ip(t,n).matches!==null&&this.queries[n].setDirty()}},Ah=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=QI(t):this.predicate=t}},Sh=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let a=n!==null?n.length:0,u=this.getByIndex(r).embeddedTView(t,a);u&&(u.indexInDeclarationView=r,n!==null?n.push(u):n=[u])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},_h=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){let u=r[a];this.matchTNodeWithReadOption(t,n,GI(n,u)),this.matchTNodeWithReadOption(t,n,Uc(n,t,u,!1,!1))}else r===Io?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Uc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let a=this.metadata.read;if(a!==null)if(a===or||a===Bi||a===Io&&n.type&4)this.addMatch(n.index,-2);else{let u=Uc(n,t,a,!1,!1);u!==null&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function GI(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function $I(e,t){return e.type&11?Os(e,t):e.type&4?Ep(e,t):null}function WI(e,t,n,r){return n===-1?$I(t,e):n===-2?qI(e,t,r):Ma(e,e[je],n,t)}function qI(e,t,n){if(n===or)return Os(t,e);if(n===Io)return Ep(t,e);if(n===Bi)return Ly(t,e)}function By(e,t,n,r){let a=t[ti].queries[r];if(a.matches===null){let u=e.data,f=n.matches,m=[];for(let x=0;f!==null&&x<f.length;x+=2){let v=f[x];if(v<0)m.push(null);else{let A=u[v];m.push(WI(t,A,f[x+1],n.metadata.read))}}a.matches=m}return a.matches}function Th(e,t,n,r){let a=e.queries.getByIndex(n),u=a.matches;if(u!==null){let f=By(e,t,a,n);for(let m=0;m<u.length;m+=2){let x=u[m];if(x>0)r.push(f[m/2]);else{let v=u[m+1],A=t[-x];for(let D=Vn;D<A.length;D++){let U=A[D];U[vo]===U[hn]&&Th(U[je],U,v,r)}if(A[Is]!==null){let D=A[Is];for(let U=0;U<D.length;U++){let R=D[U];Th(R[je],R,v,r)}}}}}return r}function YI(e,t){return e[ti].queries[t].queryList}function ZI(e,t,n){let r=new fh((n&4)===4);return q2(e,t,r,r.destroy),(t[ti]??=new Dh).queries.push(new Ih(r))-1}function XI(e,t,n){let r=rn();return r.firstCreatePass&&(KI(r,new Ah(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),ZI(r,lt(),t)}function QI(e){return e.split(",").map(t=>t.trim())}function KI(e,t,n){e.queries===null&&(e.queries=new Sh),e.queries.track(new _h(t,n))}function Ip(e,t){return e.queries.getByIndex(t)}function JI(e,t){let n=e[je],r=Ip(n,t);return r.crossesNgTemplate?Th(n,e,t,[]):By(n,e,r,t)}var _s=class{},Dp=class{};var Mh=class extends _s{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new au(this);constructor(t,n,r,a=!0){super(),this.ngModuleType=t,this._parent=n;let u=t1(t);this._bootstrapComponents=ly(u.bootstrap),this._r3Injector=z1(t,n,[{provide:_s,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver},...r],Dn(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Nh=class extends Dp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Mh(this.moduleType,t,[])}};var lu=class extends _s{injector;componentFactoryResolver=new au(this);instance=null;constructor(t){super();let n=new _a([...t.providers,{provide:_s,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],t.parent||Wh(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ap(e,t,n=null){return new lu({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var eD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=n1(!1,n.type),a=r.length>0?Ap([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=fe({token:e,providedIn:"environment",factory:()=>new e(xe(An))})}return e})();function sr(e){return Fa(()=>{let t=Vy(e),n=$e(re({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===K1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(eD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Lr.Emulated,styles:e.styles||nr,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Du("NgStandalone"),jy(n);let r=e.dependencies;return n.directiveDefs=Tm(r,!1),n.pipeDefs=Tm(r,!0),n.id=oD(n),n})}function tD(e){return xs(e)||I2(e)}function nD(e){return e!==null}function ui(e){return Fa(()=>({type:e.type,bootstrap:e.bootstrap||nr,declarations:e.declarations||nr,imports:e.imports||nr,exports:e.exports||nr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function rD(e,t){if(e==null)return wo;let n={};for(let r in e)if(e.hasOwnProperty(r)){let a=e[r],u,f,m,x;Array.isArray(a)?(m=a[0],u=a[1],f=a[2]??u,x=a[3]||null):(u=a,f=a,m=Au.None,x=null),n[u]=[r,m,x],t[u]=f}return n}function iD(e){if(e==null)return wo;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function on(e){return Fa(()=>{let t=Vy(e);return jy(t),t})}function Uy(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Vy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||wo,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||nr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rD(e.inputs,t),outputs:iD(e.outputs),debugInfo:null}}function jy(e){e.features?.forEach(t=>t(e))}function Tm(e,t){if(!e)return null;let n=t?D2:tD;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(nD)}function oD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let u of r.join("|"))t=Math.imul(31,t)+u.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function sD(e){return Object.getPrototypeOf(e.prototype).constructor}function Br(e){let t=sD(e.type),n=!0,r=[e];for(;t;){let a;if(kr(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new le(903,!1);a=t.\u0275dir}if(a){if(n){r.push(a);let f=e;f.inputs=zf(e.inputs),f.declaredInputs=zf(e.declaredInputs),f.outputs=zf(e.outputs);let m=a.hostBindings;m&&dD(e,m);let x=a.viewQuery,v=a.contentQueries;if(x&&cD(e,x),v&&uD(e,v),aD(e,a),t2(e.outputs,a.outputs),kr(a)&&a.data.animation){let A=e.data;A.animation=(A.animation||[]).concat(a.data.animation)}}let u=a.features;if(u)for(let f=0;f<u.length;f++){let m=u[f];m&&m.ngInherit&&m(e),m===Br&&(n=!1)}}t=Object.getPrototypeOf(t)}lD(r)}function aD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function lD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let a=e[r];a.hostVars=t+=a.hostVars,a.hostAttrs=As(a.hostAttrs,n=As(n,a.hostAttrs))}}function zf(e){return e===wo?{}:e===nr?[]:e}function cD(e,t){let n=e.viewQuery;n?e.viewQuery=(r,a)=>{t(r,a),n(r,a)}:e.viewQuery=t}function uD(e,t){let n=e.contentQueries;n?e.contentQueries=(r,a,u)=>{t(r,a,u),n(r,a,u)}:e.contentQueries=t}function dD(e,t){let n=e.hostBindings;n?e.hostBindings=(r,a)=>{t(r,a),n(r,a)}:e.hostBindings=t}function Hy(e){return hD(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function fD(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function hD(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function pD(e,t,n){return e[t]=n}function Do(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function gD(e,t,n,r){let a=Do(e,t,n);return Do(e,t+1,r)||a}function mD(e,t,n,r,a,u,f,m,x){let v=t.consts,A=Mu(t,e,4,f||null,m||null);Zh()&&bp(t,n,A,Ds(v,x),gp),A.mergedAttrs=As(A.mergedAttrs,A.attrs),tp(t,A);let D=A.tView=dp(2,A,r,a,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v,null);return t.queries!==null&&(t.queries.template(t,A),D.queries=t.queries.embeddedTView(A)),A}function yD(e,t,n,r,a,u,f,m,x,v){let A=n+ir,D=t.firstCreatePass?mD(A,t,e,r,a,u,f,m,x):t.data[A];_o(D,!1);let U=wD(t,e,D,n);Cu()&&_u(t,e,U,D),Fs(U,e);let R=My(U,e,U,D);return e[A]=R,hp(e,R),HI(R,D,e),yu(D)&&Su(t,e,D),x!=null&&pp(e,D,v),D}function It(e,t,n,r,a,u,f,m){let x=lt(),v=rn(),A=Ds(v.consts,u);return yD(x,v,e,t,n,r,a,A,f,m),It}var wD=vD;function vD(e,t,n,r){return xu(!0),t[Jt].createComment("")}var Sp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var zy=new de("");var CD=(()=>{class e{static \u0275prov=fe({token:e,providedIn:"root",factory:()=>new Rh})}return e})(),Rh=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function No(e){return!!e&&typeof e.then=="function"}function Gy(e){return!!e&&typeof e.subscribe=="function"}var $y=new de("");var Wy=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=J($y,{optional:!0})??[];injector=J(jn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let a of this.appInits){let u=Hn(this.injector,a);if(No(u))n.push(u);else if(Gy(u)){let f=new Promise((m,x)=>{u.subscribe({complete:m,error:x})});n.push(f)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ru=new de("");function xD(){hf(()=>{throw new le(600,!1)})}function ED(e){return e.isBoundToModule}var bD=10;var ii=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=J(kE);afterRenderManager=J(ZE);zonelessEnabled=J(bu);rootEffectScheduler=J(CD);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Zt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=J(Pi).hasPendingTasks.pipe(Re(n=>!n));constructor(){J(Iu,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:a=>{a&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=J(An);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){yt(10);let a=n instanceof Ry;if(!this._injector.get(Wy).done){let U="";throw new le(405,U)}let f;a?f=n:f=this._injector.get(Nu).resolveComponentFactory(n),this.componentTypes.push(f.componentType);let m=ED(f)?void 0:this._injector.get(_s),x=r||f.selector,v=f.create(jn.NULL,[],x,m),A=v.location.nativeElement,D=v.injector.get(zy,null);return D?.registerApplication(A),v.onDestroy(()=>{this.detachView(v.hostView),Vc(this.components,v),D?.unregisterApplication(A)}),this._loadComponent(v),yt(11,v),v}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){yt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(oy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new le(101,!1);let n=We(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,We(n),this.afterTick.next(),yt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ss,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<bD;)yt(14),this.synchronizeOnce(),yt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:a}of this.allViews)ID(r,a,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>wu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Vc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ru,[]).forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ID(e,t,n,r){if(!n&&!wu(e))return;Ay(e,t,n&&!r?0:1)}function DD(e,t,n,r){return Do(e,Qh(),n)?t+zc(n)+r:ci}function AD(e,t,n,r,a,u){let f=tE(),m=gD(e,f,n,a);return I1(2),m?t+zc(n)+r+zc(a)+u:ci}function Fc(e,t){return e<<17|t<<2}function Ao(e){return e>>17&32767}function SD(e){return(e&2)==2}function _D(e,t){return e&131071|t<<17}function Oh(e){return e|2}function Ts(e){return(e&131068)>>2}function Gf(e,t){return e&-131069|t<<2}function TD(e){return(e&1)===1}function kh(e){return e|1}function MD(e,t,n,r,a,u){let f=u?t.classBindings:t.styleBindings,m=Ao(f),x=Ts(f);e[r]=n;let v=!1,A;if(Array.isArray(n)){let D=n;A=D[1],(A===null||Pa(D,A)>0)&&(v=!0)}else A=n;if(a)if(x!==0){let U=Ao(e[m+1]);e[r+1]=Fc(U,m),U!==0&&(e[U+1]=Gf(e[U+1],r)),e[m+1]=_D(e[m+1],r)}else e[r+1]=Fc(m,0),m!==0&&(e[m+1]=Gf(e[m+1],r)),m=r;else e[r+1]=Fc(x,0),m===0?m=r:e[x+1]=Gf(e[x+1],r),x=r;v&&(e[r+1]=Oh(e[r+1])),Mm(e,A,r,!0),Mm(e,A,r,!1),ND(t,A,e,r,u),f=Fc(m,x),u?t.classBindings=f:t.styleBindings=f}function ND(e,t,n,r,a){let u=a?e.residualClasses:e.residualStyles;u!=null&&typeof t=="string"&&Pa(u,t)>=0&&(n[r+1]=kh(n[r+1]))}function Mm(e,t,n,r){let a=e[n+1],u=t===null,f=r?Ao(a):Ts(a),m=!1;for(;f!==0&&(m===!1||u);){let x=e[f],v=e[f+1];RD(x,t)&&(m=!0,e[f+1]=r?kh(v):Oh(v)),f=r?Ao(v):Ts(v)}m&&(e[n+1]=r?Oh(a):kh(a))}function RD(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Pa(e,t)>=0:!1}function Ce(e,t,n){let r=lt(),a=Qh();if(Do(r,a,t)){let u=rn(),f=N1();yy(u,f,r,e,t,r[Jt],n,!1)}return Ce}function Nm(e,t,n,r,a){mp(t,e,n,a?"class":"style",r)}function Ps(e,t){return OD(e,t,null,!0),Ps}function OD(e,t,n,r){let a=lt(),u=rn(),f=I1(2);if(u.firstUpdatePass&&FD(u,e,f,r),t!==ci&&Do(a,f,t)){let m=u.data[To()];VD(u,m,a,a[Jt],e,a[f+1]=jD(t,n),r,f)}}function kD(e,t){return t>=e.expandoStartIndex}function FD(e,t,n,r){let a=e.data;if(a[n+1]===null){let u=a[To()],f=kD(e,n);HD(u,r)&&t===null&&!f&&(t=!1),t=PD(a,u,t,r),MD(a,u,t,n,f,r)}}function PD(e,t,n,r){let a=sE(e),u=r?t.residualClasses:t.residualStyles;if(a===null)(r?t.classBindings:t.styleBindings)===0&&(n=$f(null,e,t,n,r),n=ka(n,t.attrs,r),u=null);else{let f=t.directiveStylingLast;if(f===-1||e[f]!==a)if(n=$f(a,e,t,n,r),u===null){let x=LD(e,t,r);x!==void 0&&Array.isArray(x)&&(x=$f(null,e,t,x[1],r),x=ka(x,t.attrs,r),BD(e,t,r,x))}else u=UD(e,t,r)}return u!==void 0&&(r?t.residualClasses=u:t.residualStyles=u),n}function LD(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ts(r)!==0)return e[Ao(r)]}function BD(e,t,n,r){let a=n?t.classBindings:t.styleBindings;e[Ao(a)]=r}function UD(e,t,n){let r,a=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<a;u++){let f=e[u].hostAttrs;r=ka(r,f,n)}return ka(r,t.attrs,n)}function $f(e,t,n,r,a){let u=null,f=n.directiveEnd,m=n.directiveStylingLast;for(m===-1?m=n.directiveStart:m++;m<f&&(u=t[m],r=ka(r,u.hostAttrs,a),u!==e);)m++;return e!==null&&(n.directiveStylingLast=m),r}function ka(e,t,n){let r=n?1:2,a=-1;if(t!==null)for(let u=0;u<t.length;u++){let f=t[u];typeof f=="number"?a=f:a===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),E2(e,f,n?!0:t[++u]))}return e===void 0?null:e}function VD(e,t,n,r,a,u,f,m){if(!(t.type&3))return;let x=e.data,v=x[m+1],A=TD(v)?Rm(x,t,n,a,Ts(v),f):void 0;if(!cu(A)){cu(u)||SD(v)&&(u=Rm(x,null,n,a,m,f));let D=h1(To(),n);Yb(r,f,D,a,u)}}function Rm(e,t,n,r,a,u){let f=t===null,m;for(;a>0;){let x=e[a],v=Array.isArray(x),A=v?x[1]:x,D=A===null,U=n[a+1];U===ci&&(U=D?nr:void 0);let R=D?kf(U,r):A===r?U:void 0;if(v&&!cu(R)&&(R=kf(x,r)),cu(R)&&(m=R,f))return m;let G=e[a+1];a=f?Ao(G):Ts(G)}if(t!==null){let x=u?t.residualClasses:t.residualStyles;x!=null&&(m=kf(x,r))}return m}function cu(e){return e!==void 0}function jD(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Dn(cp(e)))),e}function HD(e,t){return(e.flags&(t?8:16))!==0}function V(e,t,n,r){let a=lt(),u=rn(),f=ir+e,m=a[Jt],x=u.firstCreatePass?ky(f,u,a,t,gp,Zh(),n,r):u.data[f],v=zD(u,a,x,m,t,e);a[f]=v;let A=yu(x);return _o(x,!0),fy(m,v,x),!wy(x)&&Cu()&&_u(u,a,v,x),(Y2()===0||A)&&Fs(v,a),Z2(),A&&(Su(u,a,x),lp(u,x,a)),r!==null&&pp(a,x),V}function j(){let e=$n();Xh()?x1():(e=e.parent,_o(e,!1));let t=e;K2(t)&&J2(),X2();let n=rn();return n.firstCreatePass&&Fy(n,t),t.classesWithoutHost!=null&&hE(t)&&Nm(n,t,lt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&pE(t)&&Nm(n,t,lt(),t.stylesWithoutHost,!1),j}function ze(e,t,n,r){return V(e,t,n,r),j(),ze}var zD=(e,t,n,r,a,u)=>(xu(!0),uy(r,a,uE()));function GD(e,t,n,r,a){let u=t.consts,f=Ds(u,r),m=Mu(t,e,8,"ng-container",f);f!==null&&Eh(m,f,!0);let x=Ds(u,a);return Zh()&&bp(t,n,m,x,gp),m.mergedAttrs=As(m.mergedAttrs,m.attrs),t.queries!==null&&t.queries.elementStart(t,m),m}function Ou(e,t,n){let r=lt(),a=rn(),u=e+ir,f=a.firstCreatePass?GD(u,a,r,t,n):a.data[u];_o(f,!0);let m=$D(a,r,f,e);return r[u]=m,Cu()&&_u(a,r,m,f),Fs(m,r),yu(f)&&(Su(a,r,f),lp(a,f,r)),n!=null&&pp(r,f),Ou}function ku(){let e=$n(),t=rn();return Xh()?x1():(e=e.parent,_o(e,!1)),t.firstCreatePass&&(tp(t,e),qh(e)&&t.queries.elementEnd(e)),ku}var $D=(e,t,n,r)=>(xu(!0),pb(t[Jt],""));function xr(){return lt()}var uu="en-US";var WD=uu;function qD(e){typeof e=="string"&&(WD=e.toLowerCase().replace(/_/g,"-"))}function Om(e,t,n,r){return function a(u){if(u===Function)return r;let f=Rs(e)?Pr(e.index,t):t;xp(f,5);let m=km(t,n,r,u),x=a.__ngNextListenerFn__;for(;x;)m=km(t,n,x,u)&&m,x=x.__ngNextListenerFn__;return m}}function km(e,t,n,r){let a=We(null);try{return yt(6,t,n),n(r)!==!1}catch(u){return YD(e,u),!1}finally{yt(7,t,n),We(a)}}function YD(e,t){let n=e[bs],r=n?n.get(ni,null):null;r&&r.handleError(t)}function Fm(e,t,n,r,a,u,f,m,x){let v=n[r],D=t.data[r].outputs[a],R=v[D].subscribe(f),G=m.length;m.push(f,R),x&&x.push(u,e.index,G,-(G+1))}var ZD=(e,t,n)=>{};function Ct(e,t,n,r){let a=lt(),u=rn(),f=$n();return qy(u,a,a[Jt],f,e,t,r),Ct}function XD(e,t,n,r){let a=e.cleanup;if(a!=null)for(let u=0;u<a.length-1;u+=2){let f=a[u];if(f===n&&a[u+1]===r){let m=t[Zc],x=a[u+2];return m.length>x?m[x]:null}typeof f=="string"&&(u+=2)}return null}function qy(e,t,n,r,a,u,f){let m=yu(r),v=e.firstCreatePass?v1(e):null,A=t[Sn],D=w1(t),U=!0;if(r.type&3||f){let R=li(r,t),G=f?f(R):R,Z=D.length,W=f?ge=>f(Fr(ge[r.index])):r.index,X=null;if(!f&&m&&(X=XD(e,t,a,r.index)),X!==null){let ge=X.__ngLastListenerFn__||X;ge.__ngNextListenerFn__=u,X.__ngLastListenerFn__=u,U=!1}else{u=Om(r,t,A,u),ZD(G,a,u);let ge=n.listen(G,a,u);D.push(u,ge),v&&v.push(a,W,Z,Z+1)}}else u=Om(r,t,A,u);if(U){let R=r.outputs?.[a],G=r.hostDirectiveOutputs?.[a];if(G&&G.length)for(let Z=0;Z<G.length;Z+=2){let W=G[Z],X=G[Z+1];Fm(r,e,t,W,X,a,u,D,v)}if(R&&R.length)for(let Z of R)Fm(r,e,t,Z,a,a,u,D,v)}}function ot(e=1){return lE(e)}function _p(e,t,n){XI(e,t,n)}function Fu(e){let t=lt(),n=rn(),r=D1();Kh(r+1);let a=Ip(n,r);if(e.dirty&&z2(t)===((a.metadata.flags&2)===2)){if(a.matches===null)e.reset([]);else{let u=JI(t,r);e.reset(u,LE),e.notifyOnChanges()}return!0}return!1}function Pu(){return YI(lt(),D1())}function QD(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Q(e,t=""){let n=lt(),r=rn(),a=e+ir,u=r.firstCreatePass?Mu(r,a,1,t,null):r.data[a],f=KD(r,n,u,t,e);n[a]=f,Cu()&&_u(r,n,f,u),_o(u,!1)}var KD=(e,t,n,r,a)=>(xu(!0),fb(t[Jt],r));function Wn(e){return ar("",e,""),Wn}function ar(e,t,n){let r=lt(),a=DD(r,e,t,n);return a!==ci&&Yy(r,To(),a),ar}function Tp(e,t,n,r,a){let u=lt(),f=AD(u,e,t,n,r,a);return f!==ci&&Yy(u,To(),f),Tp}function Yy(e,t,n){let r=h1(t,e);hb(e[Jt],r,n)}function Mp(e,t,n){X1(t)&&(t=t());let r=lt(),a=Qh();if(Do(r,a,t)){let u=rn(),f=N1();yy(u,f,r,e,t,r[Jt],n,!1)}return Mp}function Zy(e,t){let n=X1(e);return n&&e.set(t),n}function Np(e,t){let n=lt(),r=rn(),a=$n();return qy(r,n,n[Jt],a,e,t),Np}function JD(e,t,n){let r=rn();if(r.firstCreatePass){let a=kr(e);Fh(n,r.data,r.blueprint,a,!0),Fh(t,r.data,r.blueprint,a,!1)}}function Fh(e,t,n,r,a){if(e=yn(e),Array.isArray(e))for(let u=0;u<e.length;u++)Fh(e[u],t,n,r,a);else{let u=rn(),f=lt(),m=$n(),x=Es(e)?e:yn(e.provide),v=o1(e),A=m.providerIndexes&1048575,D=m.directiveStart,U=m.providerIndexes>>20;if(Es(e)||!e.multi){let R=new bo(v,a,ve),G=qf(x,t,a?A:A+U,D);G===-1?(sh(nu(m,f),u,x),Wf(u,e,t.length),t.push(x),m.directiveStart++,m.directiveEnd++,a&&(m.providerIndexes+=1048576),n.push(R),f.push(R)):(n[G]=R,f[G]=R)}else{let R=qf(x,t,A+U,D),G=qf(x,t,A,A+U),Z=R>=0&&n[R],W=G>=0&&n[G];if(a&&!W||!a&&!Z){sh(nu(m,f),u,x);let X=nA(a?tA:eA,n.length,a,r,v);!a&&W&&(n[G].providerFactory=X),Wf(u,e,t.length,0),t.push(x),m.directiveStart++,m.directiveEnd++,a&&(m.providerIndexes+=1048576),n.push(X),f.push(X)}else{let X=Xy(n[a?G:R],v,!a&&r);Wf(u,e,R>-1?R:G,X)}!a&&r&&W&&n[G].componentProviders++}}}function Wf(e,t,n,r){let a=Es(t),u=M2(t);if(a||u){let x=(u?yn(t.useClass):t).prototype.ngOnDestroy;if(x){let v=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){let A=v.indexOf(n);A===-1?v.push(n,[r,x]):v[A+1].push(r,x)}else v.push(n,x)}}}function Xy(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function qf(e,t,n,r){for(let a=n;a<r;a++)if(t[a]===e)return a;return-1}function eA(e,t,n,r){return Ph(this.multi,[])}function tA(e,t,n,r){let a=this.multi,u;if(this.providerFactory){let f=this.providerFactory.componentProviders,m=Ma(n,n[je],this.providerFactory.index,r);u=m.slice(0,f),Ph(a,u);for(let x=f;x<m.length;x++)u.push(m[x])}else u=[],Ph(a,u);return u}function Ph(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function nA(e,t,n,r,a){let u=new bo(e,n,ve);return u.multi=[],u.index=t,u.componentProviders=0,Xy(u,a,r&&!n),u}function Ls(e,t=[]){return n=>{n.providersResolver=(r,a)=>JD(r,a?a(e):e,t)}}function Qy(e,t,n,r){return Ky(lt(),b1(),e,t,n,r)}function rA(e,t){let n=e[t];return n===ci?void 0:n}function Ky(e,t,n,r,a,u){let f=t+n;return Do(e,f,a)?pD(e,f+1,u?r.call(u,a):r(a)):rA(e,f+1)}function Jy(e,t){let n=rn(),r,a=e+ir;n.firstCreatePass?(r=iA(t,n.pipeRegistry),n.data[a]=r,r.onDestroy&&(n.destroyHooks??=[]).push(a,r.onDestroy)):r=n.data[a];let u=r.factory||(r.factory=yo(r.type,!0)),f,m=In(ve);try{let x=tu(!1),v=u();return tu(x),QD(n,lt(),a,v),v}finally{In(m)}}function iA(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function ew(e,t,n){let r=e+ir,a=lt(),u=H2(a,r);return oA(a,r)?Ky(a,b1(),t,u.transform,n,u):u.transform(n)}function oA(e,t){return e[je].data[t].pure}var Lh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Rp=(()=>{class e{compileModuleSync(n){return new Nh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),a=t1(n),u=ly(a.declarations).reduce((f,m)=>{let x=xs(m);return x&&f.push(new Oa(x)),f},[]);return new Lh(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sA=(()=>{class e{zone=J(Kt);changeDetectionScheduler=J(Na);applicationRef=J(ii);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aA=new de("",{factory:()=>!1});function tw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Kt($e(re({},rw()),{scheduleInRootZone:n})),[{provide:Kt,useFactory:e},{provide:Cs,multi:!0,useFactory:()=>{let r=J(sA,{optional:!0});return()=>r.initialize()}},{provide:Cs,multi:!0,useFactory:()=>{let r=J(lA);return()=>{r.initialize()}}},t===!0?{provide:$1,useValue:!0}:[],{provide:W1,useValue:n??G1}]}function nw(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=tw({ngZoneFactory:()=>{let a=rw(e);return a.scheduleInRootZone=n,a.shouldCoalesceEventChangeDetection&&Du("NgZone_CoalesceEvent"),new Kt(a)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Ms([{provide:aA,useValue:!0},{provide:bu,useValue:!1},r])}function rw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var lA=(()=>{class e{subscription=new Bt;initialized=!1;zone=J(Kt);pendingTasks=J(Pi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Kt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Kt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cA=(()=>{class e{appRef=J(ii);taskService=J(Pi);ngZone=J(Kt);zonelessEnabled=J(bu);tracing=J(Iu,{optional:!0});disableScheduling=J($1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Bt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(iu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(J(W1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let a=this.useMicrotaskScheduler?pm:q1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(iu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uA(){return typeof $localize<"u"&&$localize.locale||uu}var Op=new de("",{providedIn:"root",factory:()=>J(Op,Ue.Optional|Ue.SkipSelf)||uA()});var Bh=new de(""),dA=new de("");function Ia(e){return!e.moduleRef}function fA(e){let t=Ia(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Kt);return n.run(()=>{Ia(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ni,null),a;if(n.runOutsideAngular(()=>{a=n.onError.subscribe({next:u=>{r.handleError(u)}})}),Ia(e)){let u=()=>t.destroy(),f=e.platformInjector.get(Bh);f.add(u),t.onDestroy(()=>{a.unsubscribe(),f.delete(u)})}else{let u=()=>e.moduleRef.destroy(),f=e.platformInjector.get(Bh);f.add(u),e.moduleRef.onDestroy(()=>{Vc(e.allPlatformModules,e.moduleRef),a.unsubscribe(),f.delete(u)})}return pA(r,n,()=>{let u=t.get(Wy);return u.runInitializers(),u.donePromise.then(()=>{let f=t.get(Op,uu);if(qD(f||uu),!t.get(dA,!0))return Ia(e)?t.get(ii):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ia(e)){let x=t.get(ii);return e.rootComponent!==void 0&&x.bootstrap(e.rootComponent),x}else return hA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function hA(e,t){let n=e.injector.get(ii);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new le(-403,!1);t.push(e)}function pA(e,t,n){try{let r=n();return No(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var jc=null;function gA(e=[],t){return jn.create({name:t,providers:[{provide:gu,useValue:"platform"},{provide:Bh,useValue:new Set([()=>jc=null])},...e]})}function mA(e=[]){if(jc)return jc;let t=gA(e);return jc=t,xD(),yA(t),t}function yA(e){let t=e.get(sp,null);Hn(e,()=>{t?.forEach(n=>n())})}var Ro=(()=>{class e{static __NG_ELEMENT_ID__=wA}return e})();function wA(e){return vA($n(),lt(),(e&16)===16)}function vA(e,t,n){if(Rs(e)&&!n){let r=Pr(e.index,t);return new Ra(r,r)}else if(e.type&175){let r=t[Or];return new Ra(r,t)}return null}var Uh=class{constructor(){}supports(t){return Hy(t)}create(t){return new Vh(t)}},CA=(e,t)=>t,Vh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||CA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,u=null;for(;n||r;){let f=!r||n&&n.currentIndex<Pm(r,a,u)?n:r,m=Pm(f,a,u),x=f.currentIndex;if(f===r)a--,r=r._nextRemoved;else if(n=n._next,f.previousIndex==null)a++;else{u||(u=[]);let v=m-a,A=x-a;if(v!=A){for(let U=0;U<v;U++){let R=U<u.length?u[U]:u[U]=0,G=R+U;A<=G&&G<v&&(u[U]=R+1)}let D=f.previousIndex;u[D]=A-v}}m!==x&&t(f,m,x)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Hy(t))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,a,u,f;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)u=t[m],f=this._trackByFn(m,u),n===null||!Object.is(n.trackById,f)?(n=this._mismatch(n,u,f,m),r=!0):(r&&(n=this._verifyReinsertion(n,u,f,m)),Object.is(n.item,u)||this._addIdentityChange(n,u)),n=n._next}else a=0,fD(t,m=>{f=this._trackByFn(a,m),n===null||!Object.is(n.trackById,f)?(n=this._mismatch(n,m,f,a),r=!0):(r&&(n=this._verifyReinsertion(n,m,f,a)),Object.is(n.item,m)||this._addIdentityChange(n,m)),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let u;return t===null?u=this._itTail:(u=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,a)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,a),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,a)):t=this._addAfter(new jh(n,r),u,a)),t}_verifyReinsertion(t,n,r,a){let u=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return u!==null?t=this._reinsertAfter(u,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let a=t._prevRemoved,u=t._nextRemoved;return a===null?this._removalsHead=u:a._nextRemoved=u,u===null?this._removalsTail=a:u._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let a=n===null?this._itHead:n._next;return t._next=a,t._prev=n,a===null?this._itTail=t:a._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new du),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new du),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},jh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Hh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},du=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Hh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,a=this.map.get(r);return a?a.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Pm(e,t,n){let r=e.previousIndex;if(r===null)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}function Lm(){return new kp([new Uh])}var kp=(()=>{class e{factories;static \u0275prov=fe({token:e,providedIn:"root",factory:Lm});constructor(n){this.factories=n}static create(n,r){if(r!=null){let a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Lm()),deps:[[e,new w2,new Qm]]}}find(n){let r=this.factories.find(a=>a.supports(n));if(r!=null)return r;throw new le(901,!1)}}return e})();function iw(e){yt(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,a=mA(r),u=[tw({}),{provide:Na,useExisting:cA},...n||[]],f=new lu({providers:u,parent:a,debugName:"",runEnvironmentInitializers:!1});return fA({r3Injector:f.injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{yt(9)}}function Lu(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function di(e){return mf(e)}function Bs(e,t){return ff(e,t?.equal)}var Bm=class{[er];constructor(t){this[er]=t}destroy(){this[er].destroy()}};var uw=null;function fi(){return uw}function dw(e){uw??=e}var Bu=class{};var _n=new de(""),fw=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>J(EA),providedIn:"platform"})}return e})();var EA=(()=>{class e extends fw{_location;_history;_doc=J(_n);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fi().getBaseHref(this._doc)}onPopState(n){let r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,a){this._history.pushState(n,r,a)}replaceState(n,r,a){this._history.replaceState(n,r,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function hw(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function ow(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Oo(e){return e&&e[0]!=="?"?`?${e}`:e}var Uu=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>J(pw),providedIn:"root"})}return e})(),bA=new de(""),pw=(()=>{class e extends Uu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??J(_n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Oo(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${r}${a}`:r}pushState(n,r,a,u){let f=this.prepareExternalUrl(a+Oo(u));this._platformLocation.pushState(n,r,f)}replaceState(n,r,a,u){let f=this.prepareExternalUrl(a+Oo(u));this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(xe(fw),xe(bA,8))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ua=(()=>{class e{_subject=new Zt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=AA(ow(sw(r))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Oo(r))}normalize(n){return e.stripTrailingSlash(DA(this._basePath,sw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",a=null){this._locationStrategy.pushState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oo(r)),a)}replaceState(n,r="",a=null){this._locationStrategy.replaceState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oo(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(a=>a(n,r))}subscribe(n,r,a){return this._subject.subscribe({next:n,error:r??void 0,complete:a??void 0})}static normalizeQueryParams=Oo;static joinWithSlash=hw;static stripTrailingSlash=ow;static \u0275fac=function(r){return new(r||e)(xe(Uu))};static \u0275prov=fe({token:e,factory:()=>IA(),providedIn:"root"})}return e})();function IA(){return new Ua(xe(Uu))}function DA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function sw(e){return e.replace(/\/index.html$/,"")}function AA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Vu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[a,u]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}var Fp=/\s+/,aw=[],ju=(()=>{class e{_ngEl;_renderer;initialClasses=aw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Fp):aw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Fp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let a=this.stateMap.get(n);a!==void 0?(a.enabled!==r&&(a.changed=!0,a.enabled=r),a.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],a=n[1];a.changed?(this._toggleClass(r,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),a.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Fp).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static \u0275fac=function(r){return new(r||e)(ve(or),ve(Li))};static \u0275dir=on({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Pp=class{$implicit;ngForOf;index;count;constructor(t,n,r,a){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=a}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hu=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,a){this._viewContainer=n,this._template=r,this._differs=a}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((a,u,f)=>{if(a.previousIndex==null)r.createEmbeddedView(this._template,new Pp(a.item,this._ngForOf,-1,-1),f===null?void 0:f);else if(f==null)r.remove(u===null?void 0:u);else if(u!==null){let m=r.get(u);r.move(m,f),lw(m,a)}});for(let a=0,u=r.length;a<u;a++){let m=r.get(a).context;m.index=a,m.count=u,m.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{let u=r.get(a.currentIndex);lw(u,a)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ve(Bi),ve(Io),ve(kp))};static \u0275dir=on({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function lw(e,t){e.context.$implicit=t.item}var Ui=(()=>{class e{_viewContainer;_context=new Lp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ve(Bi),ve(Io))};static \u0275dir=on({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Lp=class{$implicit=null;ngIf=null};function cw(e,t){if(e&&!e.createEmbeddedView)throw new le(2020,!1)}function SA(e,t){return new le(2100,!1)}var _A=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,gw=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw SA(e,n);return n.replace(_A,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Uy({name:"titlecase",type:e,pure:!0})}return e})();var hi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ui({type:e});static \u0275inj=oi({})}return e})(),mw="browser",TA="server";function Up(e){return e===TA}var Us=class{};var za=class{},Ga=class{},pi=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let a=n.slice(0,r),u=n.slice(r+1).trim();this.addHeaderEntry(a,u)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let a=(t.op==="a"?this.headers.get(n):void 0)||[];a.push(...r),this.headers.set(n,a);break;case"d":let u=t.value;if(!u)this.headers.delete(n),this.normalizedNames.delete(n);else{let f=this.headers.get(n);if(!f)return;f=f.filter(m=>u.indexOf(m)===-1),f.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(u=>u.toString()),a=t.toLowerCase();this.headers.set(a,r),this.maybeSetNormalizedName(t,a)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Hp=class{encodeKey(t){return yw(t)}encodeValue(t){return yw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function MA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(a=>{let u=a.indexOf("="),[f,m]=u==-1?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,u)),t.decodeValue(a.slice(u+1))],x=n.get(f)||[];x.push(m),n.set(f,x)}),n}var NA=/%(\d[a-f0-9])/gi,RA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yw(e){return encodeURIComponent(e).replace(NA,(t,n)=>RA[n]??t)}function zu(e){return`${e}`}var ji=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Hp,t.fromString){if(t.fromObject)throw new le(2805,!1);this.map=MA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],a=Array.isArray(r)?r.map(zu):[zu(r)];this.map.set(n,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let a=t[r];Array.isArray(a)?a.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:a,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(zu(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],a=r.indexOf(zu(t.value));a!==-1&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var zp=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function OA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ww(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function vw(e){return typeof Blob<"u"&&e instanceof Blob}function Cw(e){return typeof FormData<"u"&&e instanceof FormData}function kA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ja="Content-Type",Gu="Accept",Wp="X-Request-URL",Iw="text/plain",Dw="application/json",Aw=`${Dw}, ${Iw}, */*`,Ha=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,a){this.url=n,this.method=t.toUpperCase();let u;if(OA(this.method)||a?(this.body=r!==void 0?r:null,u=a):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params),this.transferCache=u.transferCache),this.headers??=new pi,this.context??=new zp,!this.params)this.params=new ji,this.urlWithParams=n;else{let f=this.params.toString();if(f.length===0)this.urlWithParams=n;else{let m=n.indexOf("?"),x=m===-1?"?":m<n.length-1?"&":"";this.urlWithParams=n+x+f}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ww(this.body)||vw(this.body)||Cw(this.body)||kA(this.body)?this.body:this.body instanceof ji?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Cw(this.body)?null:vw(this.body)?this.body.type||null:ww(this.body)?null:typeof this.body=="string"?Iw:this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Dw:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,a=t.responseType||this.responseType,u=t.transferCache??this.transferCache,f=t.body!==void 0?t.body:this.body,m=t.withCredentials??this.withCredentials,x=t.reportProgress??this.reportProgress,v=t.headers||this.headers,A=t.params||this.params,D=t.context??this.context;return t.setHeaders!==void 0&&(v=Object.keys(t.setHeaders).reduce((U,R)=>U.set(R,t.setHeaders[R]),v)),t.setParams&&(A=Object.keys(t.setParams).reduce((U,R)=>U.set(R,t.setParams[R]),A)),new e(n,r,f,{params:A,headers:v,context:D,reportProgress:x,responseType:a,withCredentials:m,transferCache:u})}},Hi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Hi||{}),$a=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new pi,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},$u=class e extends $a{constructor(t={}){super(t)}type=Hi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Wa=class e extends $a{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Hi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Vi=class extends $a{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Sw=200,FA=204;function Vp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var qa=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,a={}){let u;if(n instanceof Ha)u=n;else{let x;a.headers instanceof pi?x=a.headers:x=new pi(a.headers);let v;a.params&&(a.params instanceof ji?v=a.params:v=new ji({fromObject:a.params})),u=new Ha(n,r,a.body!==void 0?a.body:null,{headers:x,context:a.context,params:v,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let f=Ie(u).pipe(Mi(x=>this.handler.handle(x)));if(n instanceof Ha||a.observe==="events")return f;let m=f.pipe(Un(x=>x instanceof Wa));switch(a.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe(Re(x=>{if(x.body!==null&&!(x.body instanceof ArrayBuffer))throw new le(2806,!1);return x.body}));case"blob":return m.pipe(Re(x=>{if(x.body!==null&&!(x.body instanceof Blob))throw new le(2807,!1);return x.body}));case"text":return m.pipe(Re(x=>{if(x.body!==null&&typeof x.body!="string")throw new le(2808,!1);return x.body}));case"json":default:return m.pipe(Re(x=>x.body))}case"response":return m;default:throw new le(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ji().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,a={}){return this.request("PATCH",n,Vp(a,r))}post(n,r,a={}){return this.request("POST",n,Vp(a,r))}put(n,r,a={}){return this.request("PUT",n,Vp(a,r))}static \u0275fac=function(r){return new(r||e)(xe(za))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),PA=/^\)\]\}',?\n/;function xw(e){if(e.url)return e.url;let t=Wp.toLocaleLowerCase();return e.headers.get(t)}var _w=new de(""),jp=(()=>{class e{fetchImpl=J(Gp,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=J(Kt);handle(n){return new Qe(r=>{let a=new AbortController;return this.doRequest(n,a.signal,r).then($p,u=>r.error(new Vi({error:u}))),()=>a.abort()})}doRequest(n,r,a){return ma(this,null,function*(){let u=this.createRequestInit(n),f;try{let R=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,re({signal:r},u)));LA(R),a.next({type:Hi.Sent}),f=yield R}catch(R){a.error(new Vi({error:R,status:R.status??0,statusText:R.statusText,url:n.urlWithParams,headers:R.headers}));return}let m=new pi(f.headers),x=f.statusText,v=xw(f)??n.urlWithParams,A=f.status,D=null;if(n.reportProgress&&a.next(new $u({headers:m,status:A,statusText:x,url:v})),f.body){let R=f.headers.get("content-length"),G=[],Z=f.body.getReader(),W=0,X,ge,Ye=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ma(this,null,function*(){for(;;){let{done:q,value:Te}=yield Z.read();if(q)break;if(G.push(Te),W+=Te.length,n.reportProgress){ge=n.responseType==="text"?(ge??"")+(X??=new TextDecoder).decode(Te,{stream:!0}):void 0;let K=()=>a.next({type:Hi.DownloadProgress,total:R?+R:void 0,loaded:W,partialText:ge});Ye?Ye.run(K):K()}}}));let De=this.concatChunks(G,W);try{let q=f.headers.get(ja)??"";D=this.parseBody(n,De,q)}catch(q){a.error(new Vi({error:q,headers:new pi(f.headers),status:f.status,statusText:f.statusText,url:xw(f)??n.urlWithParams}));return}}A===0&&(A=D?Sw:0),A>=200&&A<300?(a.next(new Wa({body:D,headers:m,status:A,statusText:x,url:v})),a.complete()):a.error(new Vi({error:D,headers:m,status:A,statusText:x,url:v}))})}parseBody(n,r,a){switch(n.responseType){case"json":let u=new TextDecoder().decode(r).replace(PA,"");return u===""?null:JSON.parse(u);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:a});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},a=n.withCredentials?"include":void 0;if(n.headers.forEach((u,f)=>r[u]=f.join(",")),n.headers.has(Gu)||(r[Gu]=Aw),!n.headers.has(ja)){let u=n.detectContentTypeHeader();u!==null&&(r[ja]=u)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:a}}concatChunks(n,r){let a=new Uint8Array(r),u=0;for(let f of n)a.set(f,u),u+=f.length;return a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Gp=class{};function $p(){}function LA(e){e.then($p,$p)}function BA(e,t){return t(e)}function UA(e,t,n){return(r,a)=>Hn(n,()=>t(r,u=>e(u,a)))}var qp=new de(""),VA=new de(""),jA=new de("",{providedIn:"root",factory:()=>!0});var Ew=(()=>{class e extends za{backend;injector;chain=null;pendingTasks=J(Pi);contributeToStability=J(jA);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qp),...this.injector.get(VA,[])]));this.chain=r.reduceRight((a,u)=>UA(a,u,this.injector),BA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,a=>this.backend.handle(a)).pipe(po(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(xe(Ga),xe(An))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();var HA=/^\)\]\}',?\n/,zA=RegExp(`^${Wp}:`,"m");function GA(e){return"responseURL"in e&&e.responseURL?e.responseURL:zA.test(e.getAllResponseHeaders())?e.getResponseHeader(Wp):null}var bw=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new le(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?_t(r.\u0275loadImpl()):Ie(null)).pipe(fn(()=>new Qe(u=>{let f=r.build();if(f.open(n.method,n.urlWithParams),n.withCredentials&&(f.withCredentials=!0),n.headers.forEach((Z,W)=>f.setRequestHeader(Z,W.join(","))),n.headers.has(Gu)||f.setRequestHeader(Gu,Aw),!n.headers.has(ja)){let Z=n.detectContentTypeHeader();Z!==null&&f.setRequestHeader(ja,Z)}if(n.responseType){let Z=n.responseType.toLowerCase();f.responseType=Z!=="json"?Z:"text"}let m=n.serializeBody(),x=null,v=()=>{if(x!==null)return x;let Z=f.statusText||"OK",W=new pi(f.getAllResponseHeaders()),X=GA(f)||n.url;return x=new $u({headers:W,status:f.status,statusText:Z,url:X}),x},A=()=>{let{headers:Z,status:W,statusText:X,url:ge}=v(),Ye=null;W!==FA&&(Ye=typeof f.response>"u"?f.responseText:f.response),W===0&&(W=Ye?Sw:0);let De=W>=200&&W<300;if(n.responseType==="json"&&typeof Ye=="string"){let q=Ye;Ye=Ye.replace(HA,"");try{Ye=Ye!==""?JSON.parse(Ye):null}catch(Te){Ye=q,De&&(De=!1,Ye={error:Te,text:Ye})}}De?(u.next(new Wa({body:Ye,headers:Z,status:W,statusText:X,url:ge||void 0})),u.complete()):u.error(new Vi({error:Ye,headers:Z,status:W,statusText:X,url:ge||void 0}))},D=Z=>{let{url:W}=v(),X=new Vi({error:Z,status:f.status||0,statusText:f.statusText||"Unknown Error",url:W||void 0});u.error(X)},U=!1,R=Z=>{U||(u.next(v()),U=!0);let W={type:Hi.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(W.total=Z.total),n.responseType==="text"&&f.responseText&&(W.partialText=f.responseText),u.next(W)},G=Z=>{let W={type:Hi.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(W.total=Z.total),u.next(W)};return f.addEventListener("load",A),f.addEventListener("error",D),f.addEventListener("timeout",D),f.addEventListener("abort",D),n.reportProgress&&(f.addEventListener("progress",R),m!==null&&f.upload&&f.upload.addEventListener("progress",G)),f.send(m),u.next({type:Hi.Sent}),()=>{f.removeEventListener("error",D),f.removeEventListener("abort",D),f.removeEventListener("load",A),f.removeEventListener("timeout",D),n.reportProgress&&(f.removeEventListener("progress",R),m!==null&&f.upload&&f.upload.removeEventListener("progress",G)),f.readyState!==f.DONE&&f.abort()}})))}static \u0275fac=function(r){return new(r||e)(xe(Us))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Tw=new de(""),$A="XSRF-TOKEN",WA=new de("",{providedIn:"root",factory:()=>$A}),qA="X-XSRF-TOKEN",YA=new de("",{providedIn:"root",factory:()=>qA}),Wu=class{},ZA=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,a){this.doc=n,this.platform=r,this.cookieName=a}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(xe(_n),xe(Mo),xe(WA))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();function XA(e,t){let n=e.url.toLowerCase();if(!J(Tw)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=J(Wu).getToken(),a=J(YA);return r!=null&&!e.headers.has(a)&&(e=e.clone({headers:e.headers.set(a,r)})),t(e)}var Yp=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Yp||{});function Mw(e,t){return{\u0275kind:e,\u0275providers:t}}function Nw(...e){let t=[qa,bw,Ew,{provide:za,useExisting:Ew},{provide:Ga,useFactory:()=>J(_w,{optional:!0})??J(bw)},{provide:qp,useValue:XA,multi:!0},{provide:Tw,useValue:!0},{provide:Wu,useClass:ZA}];for(let n of e)t.push(...n.\u0275providers);return Ms(t)}function Rw(e){return Mw(Yp.Interceptors,e.map(t=>({provide:qp,useValue:t,multi:!0})))}function Ow(){return Mw(Yp.Fetch,[jp,{provide:_w,useExisting:jp},{provide:Ga,useExisting:jp}])}var Xp=class extends Bu{supportsDOMEvents=!0},Qp=class e extends Xp{static makeCurrent(){dw(new e)}onAndCancel(t,n,r,a){return t.addEventListener(n,r,a),()=>{t.removeEventListener(n,r,a)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=QA();return n==null?null:KA(n)}resetBaseElement(){Ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Vu(document.cookie,t)}},Ya=null;function QA(){return Ya=Ya||document.querySelector("base"),Ya?Ya.getAttribute("href"):null}function KA(e){return new URL(e,document.baseURI).pathname}var JA=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Kp=new de(""),Vw=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,a,u){return this._findPluginFor(r).addEventListener(n,r,a,u)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(u=>u.supports(n)),!r)throw new le(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(xe(Kp),xe(Kt))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Yu=class{_doc;constructor(t){this._doc=t}manager},qu="ng-app-id";function Fw(e){for(let t of e)t.remove()}function Pw(e,t){let n=t.createElement("style");return n.textContent=e,n}function eS(e,t,n,r){let a=e.head?.querySelectorAll(`style[${qu}="${t}"],link[${qu}="${t}"]`);if(a)for(let u of a)u.removeAttribute(qu),u instanceof HTMLLinkElement?r.set(u.href.slice(u.href.lastIndexOf("/")+1),{usage:0,elements:[u]}):u.textContent&&n.set(u.textContent,{usage:0,elements:[u]})}function Jp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var jw=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,a,u={}){this.doc=n,this.appId=r,this.nonce=a,this.isServer=Up(u),eS(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let a of n)this.addUsage(a,this.inline,Pw);r?.forEach(a=>this.addUsage(a,this.external,Jp))}removeStyles(n,r){for(let a of n)this.removeUsage(a,this.inline);r?.forEach(a=>this.removeUsage(a,this.external))}addUsage(n,r,a){let u=r.get(n);u?u.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(f=>this.addElement(f,a(n,this.doc)))})}removeUsage(n,r){let a=r.get(n);a&&(a.usage--,a.usage<=0&&(Fw(a.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Fw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:a}]of this.inline)a.push(this.addElement(n,Pw(r,this.doc)));for(let[r,{elements:a}]of this.external)a.push(this.addElement(n,Jp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(xe(_n),xe(op),xe(ap,8),xe(Mo))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Zp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tg=/%COMP%/g;var Hw="%COMP%",tS=`_nghost-${Hw}`,nS=`_ngcontent-${Hw}`,rS=!0,iS=new de("",{providedIn:"root",factory:()=>rS});function oS(e){return nS.replace(tg,e)}function sS(e){return tS.replace(tg,e)}function zw(e,t){return t.map(n=>n.replace(tg,e))}var Lw=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,a,u,f,m,x,v=null,A=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=f,this.platformId=m,this.ngZone=x,this.nonce=v,this.tracingService=A,this.platformIsServer=Up(m),this.defaultRenderer=new Za(n,f,x,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Lr.ShadowDom&&(r=$e(re({},r),{encapsulation:Lr.Emulated}));let a=this.getOrCreateRenderer(n,r);return a instanceof Zu?a.applyToHost(n):a instanceof Xa&&a.applyStyles(),a}getOrCreateRenderer(n,r){let a=this.rendererByCompId,u=a.get(r.id);if(!u){let f=this.doc,m=this.ngZone,x=this.eventManager,v=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,D=this.platformIsServer,U=this.tracingService;switch(r.encapsulation){case Lr.Emulated:u=new Zu(x,v,r,this.appId,A,f,m,D,U);break;case Lr.ShadowDom:return new eg(x,v,n,r,f,m,this.nonce,D,U);default:u=new Xa(x,v,r,A,f,m,D,U);break}a.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(xe(Vw),xe(jw),xe(op),xe(iS),xe(_n),xe(Mo),xe(Kt),xe(ap),xe(Iu,8))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Za=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,a,u){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=a,this.tracingService=u}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Zp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Bw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Bw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new le(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,a){if(a){n=a+":"+n;let u=Zp[a];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let a=Zp[r];a?t.removeAttributeNS(a,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,a){a&(ri.DashCase|ri.Important)?t.style.setProperty(n,r,a&ri.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ri.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,a){if(typeof t=="string"&&(t=fi().getGlobalEventTarget(this.doc,t),!t))throw new le(5102,!1);let u=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(u=this.tracingService.wrapEventListener(t,n,u)),this.eventManager.addEventListener(t,n,u,a)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Bw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var eg=class extends Za{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,a,u,f,m,x,v){super(t,u,f,x,v),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let A=a.styles;A=zw(a.id,A);for(let U of A){let R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=U,this.shadowRoot.appendChild(R)}let D=a.getExternalStyles?.();if(D)for(let U of D){let R=Jp(U,u);m&&R.setAttribute("nonce",m),this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xa=class extends Za{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,a,u,f,m,x,v){super(t,u,f,m,x),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a;let A=r.styles;this.styles=v?zw(v,A):A,this.styleUrls=r.getExternalStyles?.(v)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zu=class extends Xa{contentAttr;hostAttr;constructor(t,n,r,a,u,f,m,x,v){let A=a+"-"+r.id;super(t,n,r,u,f,m,x,v,A),this.contentAttr=oS(A),this.hostAttr=sS(A)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},aS=(()=>{class e extends Yu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,a,u){return n.addEventListener(r,a,u),()=>this.removeEventListener(n,r,a,u)}removeEventListener(n,r,a,u){return n.removeEventListener(r,a,u)}static \u0275fac=function(r){return new(r||e)(xe(_n))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})(),Uw=["alt","control","meta","shift"],lS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},uS=(()=>{class e extends Yu{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,a,u){let f=e.parseEventName(r),m=e.eventCallback(f.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fi().onAndCancel(n,f.domEventName,m,u))}static parseEventName(n){let r=n.toLowerCase().split("."),a=r.shift();if(r.length===0||!(a==="keydown"||a==="keyup"))return null;let u=e._normalizeKey(r.pop()),f="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),f="code."),Uw.forEach(v=>{let A=r.indexOf(v);A>-1&&(r.splice(A,1),f+=v+".")}),f+=u,r.length!=0||u.length===0)return null;let x={};return x.domEventName=a,x.fullKey=f,x}static matchEventFullKeyCode(n,r){let a=lS[n.key]||n.key,u="";return r.indexOf("code.")>-1&&(a=n.code,u="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),Uw.forEach(f=>{if(f!==a){let m=cS[f];m(n)&&(u+=f+".")}}),u+=a,u===r)}static eventCallback(n,r,a){return u=>{e.matchEventFullKeyCode(u,n)&&a.runGuarded(()=>r(u))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(xe(_n))};static \u0275prov=fe({token:e,factory:e.\u0275fac})}return e})();function Gw(e,t){return iw(re({rootComponent:e},dS(t)))}function dS(e){return{appProviders:[...mS,...e?.providers??[]],platformProviders:gS}}function fS(){Qp.makeCurrent()}function hS(){return new ni}function pS(){return ry(document),document}var gS=[{provide:Mo,useValue:mw},{provide:sp,useValue:fS,multi:!0},{provide:_n,useFactory:pS,deps:[]}];var mS=[{provide:gu,useValue:"root"},{provide:ni,useFactory:hS,deps:[]},{provide:Kp,useClass:aS,multi:!0,deps:[_n]},{provide:Kp,useClass:uS,multi:!0,deps:[_n]},Lw,jw,Vw,{provide:Ss,useExisting:Lw},{provide:Us,useClass:JA,deps:[]},[]];var $w=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(xe(_n))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pe="primary",dl=Symbol("RouteTitle"),sg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $s(e){return new sg(e)}function vS(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let a={};for(let u=0;u<r.length;u++){let f=r[u],m=e[u];if(f[0]===":")a[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:e.slice(0,r.length),posParams:a}}function CS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ur(e[n],t[n]))return!1;return!0}function Ur(e,t){let n=e?ag(e):void 0,r=t?ag(t):void 0;if(!n||!r||n.length!=r.length)return!1;let a;for(let u=0;u<n.length;u++)if(a=n[u],!Jw(e[a],t[a]))return!1;return!0}function ag(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Jw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((a,u)=>r[u]===a)}else return e===t}function ev(e){return e.length>0?e[e.length-1]:null}function Gi(e){return Sf(e)?e:No(e)?_t(Promise.resolve(e)):Ie(e)}var xS={exact:nv,subset:rv},tv={exact:ES,subset:bS,ignored:()=>!0};function Ww(e,t,n){return xS[n.paths](e.root,t.root,n.matrixParams)&&tv[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function ES(e,t){return Ur(e,t)}function nv(e,t,n){if(!Fo(e.segments,t.segments)||!Ku(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!nv(e.children[r],t.children[r],n))return!1;return!0}function bS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Jw(e[n],t[n]))}function rv(e,t,n){return iv(e,t,t.segments,n)}function iv(e,t,n,r){if(e.segments.length>n.length){let a=e.segments.slice(0,n.length);return!(!Fo(a,n)||t.hasChildren()||!Ku(a,n,r))}else if(e.segments.length===n.length){if(!Fo(e.segments,n)||!Ku(e.segments,n,r))return!1;for(let a in t.children)if(!e.children[a]||!rv(e.children[a],t.children[a],r))return!1;return!0}else{let a=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!Fo(e.segments,a)||!Ku(e.segments,a,r)||!e.children[Pe]?!1:iv(e.children[Pe],t,u,r)}}function Ku(e,t,n){return t.every((r,a)=>tv[n](e[a].parameters,r.parameters))}var mi=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ct([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){return AS.serialize(this)}},ct=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},ko=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=$s(this.parameters),this._parameterMap}toString(){return sv(this)}};function IS(e,t){return Fo(e,t)&&e.every((n,r)=>Ur(n.parameters,t[r].parameters))}function Fo(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function DS(e,t){let n=[];return Object.entries(e.children).forEach(([r,a])=>{r===Pe&&(n=n.concat(t(a,r)))}),Object.entries(e.children).forEach(([r,a])=>{r!==Pe&&(n=n.concat(t(a,r)))}),n}var Og=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>new tl,providedIn:"root"})}return e})(),tl=class{parse(t){let n=new cg(t);return new mi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Qa(t.root,!0)}`,r=TS(t.queryParams),a=typeof t.fragment=="string"?`#${SS(t.fragment)}`:"";return`${n}${r}${a}`}},AS=new tl;function Ju(e){return e.segments.map(t=>sv(t)).join("/")}function Qa(e,t){if(!e.hasChildren())return Ju(e);if(t){let n=e.children[Pe]?Qa(e.children[Pe],!1):"",r=[];return Object.entries(e.children).forEach(([a,u])=>{a!==Pe&&r.push(`${a}:${Qa(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=DS(e,(r,a)=>a===Pe?[Qa(e.children[Pe],!1)]:[`${a}:${Qa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Pe]!=null?`${Ju(e)}/${n[0]}`:`${Ju(e)}/(${n.join("//")})`}}function ov(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xu(e){return ov(e).replace(/%3B/gi,";")}function SS(e){return encodeURI(e)}function lg(e){return ov(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(e){return decodeURIComponent(e)}function qw(e){return ed(e.replace(/\+/g,"%20"))}function sv(e){return`${lg(e.path)}${_S(e.parameters)}`}function _S(e){return Object.entries(e).map(([t,n])=>`;${lg(t)}=${lg(n)}`).join("")}function TS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(a=>`${Xu(n)}=${Xu(a)}`).join("&"):`${Xu(n)}=${Xu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var MS=/^[^\/()?;#]+/;function ng(e){let t=e.match(MS);return t?t[0]:""}var NS=/^[^\/()?;=#]+/;function RS(e){let t=e.match(NS);return t?t[0]:""}var OS=/^[^=?&#]+/;function kS(e){let t=e.match(OS);return t?t[0]:""}var FS=/^[^&#]+/;function PS(e){let t=e.match(FS);return t?t[0]:""}var cg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Pe]=new ct(t,n)),r}parseSegment(){let t=ng(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(t),new ko(ed(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=RS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=ng(this.remaining);a&&(r=a,this.capture(r))}t[ed(n)]=ed(r)}parseQueryParam(t){let n=kS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let f=PS(this.remaining);f&&(r=f,this.capture(r))}let a=qw(n),u=qw(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(u)}else t[a]=u}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ng(this.remaining),a=this.remaining[r.length];if(a!=="/"&&a!==")"&&a!==";")throw new le(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=Pe);let f=this.parseChildren();n[u]=Object.keys(f).length===1?f[Pe]:new ct([],f),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new le(4011,!1)}};function av(e){return e.segments.length>0?new ct([],{[Pe]:e}):e}function lv(e){let t={};for(let[r,a]of Object.entries(e.children)){let u=lv(a);if(r===Pe&&u.segments.length===0&&u.hasChildren())for(let[f,m]of Object.entries(u.children))t[f]=m;else(u.segments.length>0||u.hasChildren())&&(t[r]=u)}let n=new ct(e.segments,t);return LS(n)}function LS(e){if(e.numberOfChildren===1&&e.children[Pe]){let t=e.children[Pe];return new ct(e.segments.concat(t.segments),t.children)}return e}function nl(e){return e instanceof mi}function BS(e,t,n=null,r=null){let a=cv(e);return uv(a,t,n,r)}function cv(e){let t;function n(u){let f={};for(let x of u.children){let v=n(x);f[x.outlet]=v}let m=new ct(u.url,f);return u===e&&(t=m),m}let r=n(e.root),a=av(r);return t??a}function uv(e,t,n,r){let a=e;for(;a.parent;)a=a.parent;if(t.length===0)return rg(a,a,a,n,r);let u=US(t);if(u.toRoot())return rg(a,a,new ct([],{}),n,r);let f=VS(u,a,e),m=f.processChildren?Ja(f.segmentGroup,f.index,u.commands):fv(f.segmentGroup,f.index,u.commands);return rg(a,f.segmentGroup,m,n,r)}function nd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function rl(e){return typeof e=="object"&&e!=null&&e.outlets}function rg(e,t,n,r,a){let u={};r&&Object.entries(r).forEach(([x,v])=>{u[x]=Array.isArray(v)?v.map(A=>`${A}`):`${v}`});let f;e===t?f=n:f=dv(e,t,n);let m=av(lv(f));return new mi(m,u,a)}function dv(e,t,n){let r={};return Object.entries(e.children).forEach(([a,u])=>{u===t?r[a]=n:r[a]=dv(u,t,n)}),new ct(e.segments,r)}var rd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&nd(r[0]))throw new le(4003,!1);let a=r.find(rl);if(a&&a!==ev(r))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function US(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new rd(!0,0,e);let t=0,n=!1,r=e.reduce((a,u,f)=>{if(typeof u=="object"&&u!=null){if(u.outlets){let m={};return Object.entries(u.outlets).forEach(([x,v])=>{m[x]=typeof v=="string"?v.split("/"):v}),[...a,{outlets:m}]}if(u.segmentPath)return[...a,u.segmentPath]}return typeof u!="string"?[...a,u]:f===0?(u.split("/").forEach((m,x)=>{x==0&&m==="."||(x==0&&m===""?n=!0:m===".."?t++:m!=""&&a.push(m))}),a):[...a,u]},[]);return new rd(n,t,r)}var Hs=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function VS(e,t,n){if(e.isAbsolute)return new Hs(t,!0,0);if(!n)return new Hs(t,!1,NaN);if(n.parent===null)return new Hs(n,!0,0);let r=nd(e.commands[0])?0:1,a=n.segments.length-1+r;return jS(n,a,e.numberOfDoubleDots)}function jS(e,t,n){let r=e,a=t,u=n;for(;u>a;){if(u-=a,r=r.parent,!r)throw new le(4005,!1);a=r.segments.length}return new Hs(r,!1,a-u)}function HS(e){return rl(e[0])?e[0].outlets:{[Pe]:e}}function fv(e,t,n){if(e??=new ct([],{}),e.segments.length===0&&e.hasChildren())return Ja(e,t,n);let r=zS(e,t,n),a=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let u=new ct(e.segments.slice(0,r.pathIndex),{});return u.children[Pe]=new ct(e.segments.slice(r.pathIndex),e.children),Ja(u,0,a)}else return r.match&&a.length===0?new ct(e.segments,{}):r.match&&!e.hasChildren()?ug(e,t,n):r.match?Ja(e,0,a):ug(e,t,n)}function Ja(e,t,n){if(n.length===0)return new ct(e.segments,{});{let r=HS(n),a={};if(Object.keys(r).some(u=>u!==Pe)&&e.children[Pe]&&e.numberOfChildren===1&&e.children[Pe].segments.length===0){let u=Ja(e.children[Pe],t,n);return new ct(e.segments,u.children)}return Object.entries(r).forEach(([u,f])=>{typeof f=="string"&&(f=[f]),f!==null&&(a[u]=fv(e.children[u],t,f))}),Object.entries(e.children).forEach(([u,f])=>{r[u]===void 0&&(a[u]=f)}),new ct(e.segments,a)}}function zS(e,t,n){let r=0,a=t,u={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(r>=n.length)return u;let f=e.segments[a],m=n[r];if(rl(m))break;let x=`${m}`,v=r<n.length-1?n[r+1]:null;if(a>0&&x===void 0)break;if(x&&v&&typeof v=="object"&&v.outlets===void 0){if(!Zw(x,v,f))return u;r+=2}else{if(!Zw(x,{},f))return u;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}function ug(e,t,n){let r=e.segments.slice(0,t),a=0;for(;a<n.length;){let u=n[a];if(rl(u)){let x=GS(u.outlets);return new ct(r,x)}if(a===0&&nd(n[0])){let x=e.segments[t];r.push(new ko(x.path,Yw(n[0]))),a++;continue}let f=rl(u)?u.outlets[Pe]:`${u}`,m=a<n.length-1?n[a+1]:null;f&&m&&nd(m)?(r.push(new ko(f,Yw(m))),a+=2):(r.push(new ko(f,{})),a++)}return new ct(r,{})}function GS(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ug(new ct([],{}),0,r))}),t}function Yw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Zw(e,t,n){return e==n.path&&Ur(t,n.parameters)}var td="imperative",sn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(sn||{}),cr=class{id;url;constructor(t,n){this.id=t,this.url=n}},il=class extends cr{type=sn.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",a=null){super(t,n),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Po=class extends cr{urlAfterRedirects;type=sn.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Yn||{}),dg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(dg||{}),gi=class extends cr{reason;code;type=sn.NavigationCancel;constructor(t,n,r,a){super(t,n),this.reason=r,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lo=class extends cr{reason;code;type=sn.NavigationSkipped;constructor(t,n,r,a){super(t,n),this.reason=r,this.code=a}},ol=class extends cr{error;target;type=sn.NavigationError;constructor(t,n,r,a){super(t,n),this.error=r,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},id=class extends cr{urlAfterRedirects;state;type=sn.RoutesRecognized;constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class extends cr{urlAfterRedirects;state;type=sn.GuardsCheckStart;constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends cr{urlAfterRedirects;state;shouldActivate;type=sn.GuardsCheckEnd;constructor(t,n,r,a,u){super(t,n),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pg=class extends cr{urlAfterRedirects;state;type=sn.ResolveStart;constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends cr{urlAfterRedirects;state;type=sn.ResolveEnd;constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class{route;type=sn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yg=class{route;type=sn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wg=class{snapshot;type=sn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{snapshot;type=sn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{snapshot;type=sn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xg=class{snapshot;type=sn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var sl=class{},Ws=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function $S(e,t){return e.providers&&!e._injector&&(e._injector=Ap(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Er(e){return e.outlet||Pe}function WS(e,t){let n=e.filter(r=>Er(r)===t);return n.push(...e.filter(r=>Er(r)!==t)),n}function fl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Eg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fl(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new dd(this.rootInjector)}},dd=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Eg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(xe(An))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),od=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=bg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=bg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Ig(t,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Ig(t,this._root).map(n=>n.value)}};function bg(e,t){if(e===t.value)return t;for(let n of t.children){let r=bg(e,n);if(r)return r}return null}function Ig(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Ig(e,n);if(r.length)return r.unshift(t),r}return[]}var qn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function js(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var sd=class extends od{snapshot;constructor(t,n){super(t),this.snapshot=n,kg(this,t)}toString(){return this.snapshot.toString()}};function hv(e){let t=qS(e),n=new Xt([new ko("",{})]),r=new Xt({}),a=new Xt({}),u=new Xt({}),f=new Xt(""),m=new zi(n,r,u,f,a,Pe,e,t.root);return m.snapshot=t.root,new sd(new qn(m,[]),t)}function qS(e){let t={},n={},r={},a="",u=new zs([],t,r,a,n,Pe,e,null,{});return new ld("",new qn(u,[]))}var zi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,a,u,f,m,x){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=a,this.dataSubject=u,this.outlet=f,this.component=m,this._futureSnapshot=x,this.title=this.dataSubject?.pipe(Re(v=>v[dl]))??Ie(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=a,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(t=>$s(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(t=>$s(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ad(e,t,n="emptyOnly"){let r,{routeConfig:a}=e;return t!==null&&(n==="always"||a?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:re(re({},t.params),e.params),data:re(re({},t.data),e.data),resolve:re(re(re(re({},e.data),t.data),a?.data),e._resolvedData)}:r={params:re({},e.params),data:re({},e.data),resolve:re(re({},e.data),e._resolvedData??{})},a&&gv(a)&&(r.resolve[dl]=a.title),r}var zs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dl]}constructor(t,n,r,a,u,f,m,x,v){this.url=t,this.params=n,this.queryParams=r,this.fragment=a,this.data=u,this.outlet=f,this.component=m,this.routeConfig=x,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ld=class extends od{url;constructor(t,n){super(n),this.url=t,kg(this,n)}toString(){return pv(this._root)}};function kg(e,t){t.value._routerState=e,t.children.forEach(n=>kg(e,n))}function pv(e){let t=e.children.length>0?` { ${e.children.map(pv).join(", ")} } `:"";return`${e.value}${t}`}function ig(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ur(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ur(t.params,n.params)||e.paramsSubject.next(n.params),CS(t.url,n.url)||e.urlSubject.next(n.url),Ur(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Dg(e,t){let n=Ur(e.params,t.params)&&IS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Dg(e.parent,t.parent))}function gv(e){return typeof e.title=="string"||e.title===null}var YS=new de(""),Fg=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pe;activateEvents=new Tt;deactivateEvents=new Tt;attachEvents=new Tt;detachEvents=new Tt;routerOutletData=Z1(void 0);parentContexts=J(dd);location=J(Bi);changeDetector=J(Ro);inputBinder=J(Pg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:a}=n.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=n;let a=this.location,f=n.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,x=new Ag(n,m,a.injector,this.routerOutletData);this.activated=a.createComponent(f,{index:a.length,injector:x,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=on({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[So]})}return e})(),Ag=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,a){this.route=t,this.childContexts=n,this.parent=r,this.outletData=a}get(t,n){return t===zi?this.route:t===dd?this.childContexts:t===YS?this.outletData:this.parent.get(t,n)}},Pg=new de("");function ZS(e,t,n){let r=al(e,t._root,n?n._root:void 0);return new sd(r,t)}function al(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let a=XS(e,t,n);return new qn(r,a)}else{if(e.shouldAttach(t.value)){let u=e.retrieve(t.value);if(u!==null){let f=u.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(m=>al(e,m)),f}}let r=QS(t.value),a=t.children.map(u=>al(e,u));return new qn(r,a)}}function XS(e,t,n){return t.children.map(r=>{for(let a of n.children)if(e.shouldReuseRoute(r.value,a.value.snapshot))return al(e,r,a);return al(e,r)})}function QS(e){return new zi(new Xt(e.url),new Xt(e.params),new Xt(e.queryParams),new Xt(e.fragment),new Xt(e.data),e.outlet,e.component,e)}var ll=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},mv="ngNavigationCancelingError";function cd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=nl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=yv(!1,Yn.Redirect);return a.url=n,a.navigationBehaviorOptions=r,a}function yv(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[mv]=!0,n.cancellationCode=t,n}function KS(e){return wv(e)&&nl(e.url)}function wv(e){return!!e&&e[mv]}var JS=(e,t,n,r)=>Re(a=>(new Sg(t,a.targetRouterState,a.currentRouterState,n,r).activate(e),a)),Sg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,a,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=a,this.inputBindingEnabled=u}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ig(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let a=js(n);t.children.forEach(u=>{let f=u.value.outlet;this.deactivateRoutes(u,a[f],r),delete a[f]}),Object.values(a).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){let a=t.value,u=n?n.value:null;if(a===u)if(a.component){let f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,n,f.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),a=r&&t.value.component?r.children:n,u=js(t);for(let f of Object.values(u))this.deactivateRouteAndItsChildren(f,a);if(r&&r.outlet){let f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:m})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),a=r&&t.value.component?r.children:n,u=js(t);for(let f of Object.values(u))this.deactivateRouteAndItsChildren(f,a);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let a=js(n);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],r),this.forwardEvent(new xg(u.value.snapshot))}),t.children.length&&this.forwardEvent(new vg(t.value.snapshot))}activateRoutes(t,n,r){let a=t.value,u=n?n.value:null;if(ig(a),a===u)if(a.component){let f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,n,f.children)}else this.activateChildRoutes(t,n,r);else if(a.component){let f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),ig(m.route.value),this.activateChildRoutes(t,null,f.children)}else f.attachRef=null,f.route=a,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(t,null,f.children)}else this.activateChildRoutes(t,null,r)}},ud=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Gs=class{component;route;constructor(t,n){this.component=t,this.route=n}};function e_(e,t,n){let r=e._root,a=t?t._root:null;return Ka(r,a,n,[r.value])}function t_(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ys(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!zm(e)?e:t.get(e):r}function Ka(e,t,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let u=js(t);return e.children.forEach(f=>{n_(f,u[f.value.outlet],n,r.concat([f.value]),a),delete u[f.value.outlet]}),Object.entries(u).forEach(([f,m])=>el(m,n.getContext(f),a)),a}function n_(e,t,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let u=e.value,f=t?t.value:null,m=n?n.getContext(e.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){let x=r_(f,u,u.routeConfig.runGuardsAndResolvers);x?a.canActivateChecks.push(new ud(r)):(u.data=f.data,u._resolvedData=f._resolvedData),u.component?Ka(e,t,m?m.children:null,r,a):Ka(e,t,n,r,a),x&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Gs(m.outlet.component,f))}else f&&el(t,m,a),a.canActivateChecks.push(new ud(r)),u.component?Ka(e,null,m?m.children:null,r,a):Ka(e,null,n,r,a);return a}function r_(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Fo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fo(e.url,t.url)||!Ur(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dg(e,t)||!Ur(e.queryParams,t.queryParams);case"paramsChange":default:return!Dg(e,t)}}function el(e,t,n){let r=js(e),a=e.value;Object.entries(r).forEach(([u,f])=>{a.component?t?el(f,t.children.getContext(u),n):el(f,null,n):el(f,t,n)}),a.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Gs(t.outlet.component,a)):n.canDeactivateChecks.push(new Gs(null,a)):n.canDeactivateChecks.push(new Gs(null,a))}function hl(e){return typeof e=="function"}function i_(e){return typeof e=="boolean"}function o_(e){return e&&hl(e.canLoad)}function s_(e){return e&&hl(e.canActivate)}function a_(e){return e&&hl(e.canActivateChild)}function l_(e){return e&&hl(e.canDeactivate)}function c_(e){return e&&hl(e.canMatch)}function vv(e){return e instanceof Kr||e?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function qs(){return fn(e=>Nc(e.map(t=>t.pipe(Jr(1),Rf(Qu)))).pipe(Re(t=>{for(let n of t)if(n!==!0){if(n===Qu)return Qu;if(n===!1||u_(n))return n}return!0}),Un(t=>t!==Qu),Jr(1)))}function u_(e){return nl(e)||e instanceof ll}function d_(e,t){return Qt(n=>{let{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:f}}=n;return f.length===0&&u.length===0?Ie($e(re({},n),{guardsResult:!0})):f_(f,r,a,e).pipe(Qt(m=>m&&i_(m)?h_(r,u,e,t):Ie(m)),Re(m=>$e(re({},n),{guardsResult:m})))})}function f_(e,t,n,r){return _t(e).pipe(Qt(a=>w_(a.component,a.route,n,t,r)),ei(a=>a!==!0,!0))}function h_(e,t,n,r){return _t(t).pipe(Mi(a=>ps(g_(a.route.parent,r),p_(a.route,r),y_(e,a.path,n),m_(e,a.route,n))),ei(a=>a!==!0,!0))}function p_(e,t){return e!==null&&t&&t(new Cg(e)),Ie(!0)}function g_(e,t){return e!==null&&t&&t(new wg(e)),Ie(!0)}function m_(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Ie(!0);let a=r.map(u=>Rc(()=>{let f=fl(t)??n,m=Ys(u,f),x=s_(m)?m.canActivate(t,e):Hn(f,()=>m(t,e));return Gi(x).pipe(ei())}));return Ie(a).pipe(qs())}function y_(e,t,n){let r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(f=>t_(f)).filter(f=>f!==null).map(f=>Rc(()=>{let m=f.guards.map(x=>{let v=fl(f.node)??n,A=Ys(x,v),D=a_(A)?A.canActivateChild(r,e):Hn(v,()=>A(r,e));return Gi(D).pipe(ei())});return Ie(m).pipe(qs())}));return Ie(u).pipe(qs())}function w_(e,t,n,r,a){let u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!u||u.length===0)return Ie(!0);let f=u.map(m=>{let x=fl(t)??a,v=Ys(m,x),A=l_(v)?v.canDeactivate(e,t,n,r):Hn(x,()=>v(e,t,n,r));return Gi(A).pipe(ei())});return Ie(f).pipe(qs())}function v_(e,t,n,r){let a=t.canLoad;if(a===void 0||a.length===0)return Ie(!0);let u=a.map(f=>{let m=Ys(f,e),x=o_(m)?m.canLoad(t,n):Hn(e,()=>m(t,n));return Gi(x)});return Ie(u).pipe(qs(),Cv(r))}function Cv(e){return bf(Vt(t=>{if(typeof t!="boolean")throw cd(e,t)}),Re(t=>t===!0))}function C_(e,t,n,r){let a=t.canMatch;if(!a||a.length===0)return Ie(!0);let u=a.map(f=>{let m=Ys(f,e),x=c_(m)?m.canMatch(t,n):Hn(e,()=>m(t,n));return Gi(x)});return Ie(u).pipe(qs(),Cv(r))}var cl=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ul=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Vs(e){return tr(new cl(e))}function x_(e){return tr(new le(4e3,!1))}function E_(e){return tr(yv(!1,Yn.GuardRejected))}var _g=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],a=n.root;for(;;){if(r=r.concat(a.segments),a.numberOfChildren===0)return Ie(r);if(a.numberOfChildren>1||!a.children[Pe])return x_(`${t.redirectTo}`);a=a.children[Pe]}}applyRedirectCommands(t,n,r,a,u){if(typeof n!="string"){let m=n,{queryParams:x,fragment:v,routeConfig:A,url:D,outlet:U,params:R,data:G,title:Z}=a,W=Hn(u,()=>m({params:R,data:G,queryParams:x,fragment:v,routeConfig:A,url:D,outlet:U,title:Z}));if(W instanceof mi)throw new ul(W);n=W}let f=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ul(f);return f}applyRedirectCreateUrlTree(t,n,r,a){let u=this.createSegmentGroup(t,n.root,r,a);return new mi(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([a,u])=>{if(typeof u=="string"&&u[0]===":"){let m=u.substring(1);r[a]=n[m]}else r[a]=u}),r}createSegmentGroup(t,n,r,a){let u=this.createSegments(t,n.segments,r,a),f={};return Object.entries(n.children).forEach(([m,x])=>{f[m]=this.createSegmentGroup(t,x,r,a)}),new ct(u,f)}createSegments(t,n,r,a){return n.map(u=>u.path[0]===":"?this.findPosParam(t,u,a):this.findOrReturn(u,r))}findPosParam(t,n,r){let a=r[n.path.substring(1)];if(!a)throw new le(4001,!1);return a}findOrReturn(t,n){let r=0;for(let a of n){if(a.path===t.path)return n.splice(r),a;r++}return t}},Tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b_(e,t,n,r,a){let u=xv(e,t,n);return u.matched?(r=$S(t,r),C_(r,t,n,a).pipe(Re(f=>f===!0?u:re({},Tg)))):Ie(u)}function xv(e,t,n){if(t.path==="**")return I_(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?re({},Tg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let a=(t.matcher||vS)(n,e,t);if(!a)return re({},Tg);let u={};Object.entries(a.posParams??{}).forEach(([m,x])=>{u[m]=x.path});let f=a.consumed.length>0?re(re({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:f,positionalParamSegments:a.posParams??{}}}function I_(e){return{matched:!0,parameters:e.length>0?ev(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Xw(e,t,n,r){return n.length>0&&S_(e,n,r)?{segmentGroup:new ct(t,A_(r,new ct(n,e.children))),slicedSegments:[]}:n.length===0&&__(e,n,r)?{segmentGroup:new ct(e.segments,D_(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ct(e.segments,e.children),slicedSegments:n}}function D_(e,t,n,r){let a={};for(let u of n)if(fd(e,t,u)&&!r[Er(u)]){let f=new ct([],{});a[Er(u)]=f}return re(re({},r),a)}function A_(e,t){let n={};n[Pe]=t;for(let r of e)if(r.path===""&&Er(r)!==Pe){let a=new ct([],{});n[Er(r)]=a}return n}function S_(e,t,n){return n.some(r=>fd(e,t,r)&&Er(r)!==Pe)}function __(e,t,n){return n.some(r=>fd(e,t,r))}function fd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T_(e,t,n){return t.length===0&&!e.children[n]}var Mg=class{};function M_(e,t,n,r,a,u,f="emptyOnly"){return new Ng(e,t,n,r,a,f,u).recognize()}var N_=31,Ng=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,a,u,f,m){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=a,this.urlTree=u,this.paramsInheritanceStrategy=f,this.urlSerializer=m,this.applyRedirects=new _g(this.urlSerializer,this.urlTree)}noMatchError(t){return new le(4002,`'${t.segmentGroup}'`)}recognize(){let t=Xw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Re(({children:n,rootSnapshot:r})=>{let a=new qn(r,n),u=new ld("",a),f=BS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(f),{state:u,tree:f}}))}match(t){let n=new zs([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Pe,n).pipe(Re(r=>({children:r,rootSnapshot:n})),mn(r=>{if(r instanceof ul)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cl?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,a,u){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,u):this.processSegment(t,n,r,r.segments,a,!0,u).pipe(Re(f=>f instanceof qn?[f]:[]))}processChildren(t,n,r,a){let u=[];for(let f of Object.keys(r.children))f==="primary"?u.unshift(f):u.push(f);return _t(u).pipe(Mi(f=>{let m=r.children[f],x=WS(n,f);return this.processSegmentGroup(t,x,m,f,a)}),Nf((f,m)=>(f.push(...m),f)),Ni(null),Mf(),Qt(f=>{if(f===null)return Vs(r);let m=Ev(f);return R_(m),Ie(m)}))}processSegment(t,n,r,a,u,f,m){return _t(n).pipe(Mi(x=>this.processSegmentAgainstRoute(x._injector??t,n,x,r,a,u,f,m).pipe(mn(v=>{if(v instanceof cl)return Ie(null);throw v}))),ei(x=>!!x),mn(x=>{if(vv(x))return T_(r,a,u)?Ie(new Mg):Vs(r);throw x}))}processSegmentAgainstRoute(t,n,r,a,u,f,m,x){return Er(r)!==f&&(f===Pe||!fd(a,u,r))?Vs(a):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,a,r,u,f,x):this.allowRedirects&&m?this.expandSegmentAgainstRouteUsingRedirect(t,a,n,r,u,f,x):Vs(a)}expandSegmentAgainstRouteUsingRedirect(t,n,r,a,u,f,m){let{matched:x,parameters:v,consumedSegments:A,positionalParamSegments:D,remainingSegments:U}=xv(n,a,u);if(!x)return Vs(n);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>N_&&(this.allowRedirects=!1));let R=new zs(u,v,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Qw(a),Er(a),a.component??a._loadedComponent??null,a,Kw(a)),G=ad(R,m,this.paramsInheritanceStrategy);R.params=Object.freeze(G.params),R.data=Object.freeze(G.data);let Z=this.applyRedirects.applyRedirectCommands(A,a.redirectTo,D,R,t);return this.applyRedirects.lineralizeSegments(a,Z).pipe(Qt(W=>this.processSegment(t,r,n,W.concat(U),f,!1,m)))}matchSegmentAgainstRoute(t,n,r,a,u,f){let m=b_(n,r,a,t,this.urlSerializer);return r.path==="**"&&(n.children={}),m.pipe(fn(x=>x.matched?(t=r._injector??t,this.getChildConfig(t,r,a).pipe(fn(({routes:v})=>{let A=r._loadedInjector??t,{parameters:D,consumedSegments:U,remainingSegments:R}=x,G=new zs(U,D,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Qw(r),Er(r),r.component??r._loadedComponent??null,r,Kw(r)),Z=ad(G,f,this.paramsInheritanceStrategy);G.params=Object.freeze(Z.params),G.data=Object.freeze(Z.data);let{segmentGroup:W,slicedSegments:X}=Xw(n,U,R,v);if(X.length===0&&W.hasChildren())return this.processChildren(A,v,W,G).pipe(Re(Ye=>new qn(G,Ye)));if(v.length===0&&X.length===0)return Ie(new qn(G,[]));let ge=Er(r)===u;return this.processSegment(A,v,W,X,ge?Pe:u,!0,G).pipe(Re(Ye=>new qn(G,Ye instanceof qn?[Ye]:[])))}))):Vs(n)))}getChildConfig(t,n,r){return n.children?Ie({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Ie({routes:n._loadedRoutes,injector:n._loadedInjector}):v_(t,n,r,this.urlSerializer).pipe(Qt(a=>a?this.configLoader.loadChildren(t,n).pipe(Vt(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):E_(n))):Ie({routes:[],injector:t})}};function R_(e){e.sort((t,n)=>t.value.outlet===Pe?-1:n.value.outlet===Pe?1:t.value.outlet.localeCompare(n.value.outlet))}function O_(e){let t=e.value.routeConfig;return t&&t.path===""}function Ev(e){let t=[],n=new Set;for(let r of e){if(!O_(r)){t.push(r);continue}let a=t.find(u=>r.value.routeConfig===u.value.routeConfig);a!==void 0?(a.children.push(...r.children),n.add(a)):t.push(r)}for(let r of n){let a=Ev(r.children);t.push(new qn(r.value,a))}return t.filter(r=>!n.has(r))}function Qw(e){return e.data||{}}function Kw(e){return e.resolve||{}}function k_(e,t,n,r,a,u){return Qt(f=>M_(e,t,n,r,f.extractedUrl,a,u).pipe(Re(({state:m,tree:x})=>$e(re({},f),{targetSnapshot:m,urlAfterRedirects:x}))))}function F_(e,t){return Qt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:a}}=n;if(!a.length)return Ie(n);let u=new Set(a.map(x=>x.route)),f=new Set;for(let x of u)if(!f.has(x))for(let v of bv(x))f.add(v);let m=0;return _t(f).pipe(Mi(x=>u.has(x)?P_(x,r,e,t):(x.data=ad(x,x.parent,e).resolve,Ie(void 0))),Vt(()=>m++),gs(1),Qt(x=>m===f.size?Ie(n):En))})}function bv(e){let t=e.children.map(n=>bv(n)).flat();return[e,...t]}function P_(e,t,n,r){let a=e.routeConfig,u=e._resolve;return a?.title!==void 0&&!gv(a)&&(u[dl]=a.title),L_(u,e,t,r).pipe(Re(f=>(e._resolvedData=f,e.data=ad(e,e.parent,n).resolve,null)))}function L_(e,t,n,r){let a=ag(e);if(a.length===0)return Ie({});let u={};return _t(a).pipe(Qt(f=>B_(e[f],t,n,r).pipe(ei(),Vt(m=>{if(m instanceof ll)throw cd(new tl,m);u[f]=m}))),gs(1),Re(()=>u),mn(f=>vv(f)?En:tr(f)))}function B_(e,t,n,r){let a=fl(t)??r,u=Ys(e,a),f=u.resolve?u.resolve(t,n):Hn(a,()=>u(t,n));return Gi(f)}function og(e){return fn(t=>{let n=e(t);return n?_t(n).pipe(Re(()=>t)):Ie(t)})}var Iv=(()=>{class e{buildTitle(n){let r,a=n.root;for(;a!==void 0;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(u=>u.outlet===Pe);return r}getResolvedTitleForRoute(n){return n.data[dl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>J(U_),providedIn:"root"})}return e})(),U_=(()=>{class e extends Iv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(xe($w))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lg=new de("",{providedIn:"root",factory:()=>({})}),V_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=sr({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,a){r&1&&ze(0,"router-outlet")},dependencies:[Fg],encapsulation:2})}return e})();function Bg(e){let t=e.children&&e.children.map(Bg),n=t?$e(re({},e),{children:t}):re({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Pe&&(n.component=V_),n}var Ug=new de(""),j_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=J(Rp);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Gi(n.loadComponent()).pipe(Re(Dv),Vt(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),po(()=>{this.componentLoaders.delete(n)})),a=new hs(r,()=>new Zt).pipe(fs());return this.componentLoaders.set(n,a),a}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let u=H_(r,this.compiler,n,this.onLoadEndListener).pipe(po(()=>{this.childrenLoaders.delete(r)})),f=new hs(u,()=>new Zt).pipe(fs());return this.childrenLoaders.set(r,f),f}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function H_(e,t,n,r){return Gi(e.loadChildren()).pipe(Re(Dv),Qt(a=>a instanceof Dp||Array.isArray(a)?Ie(a):_t(t.compileModuleAsync(a))),Re(a=>{r&&r(e);let u,f,m=!1;return Array.isArray(a)?(f=a,m=!0):(u=a.create(n).injector,f=u.get(Ug,[],{optional:!0,self:!0}).flat()),{routes:f.map(Bg),injector:u}}))}function z_(e){return e&&typeof e=="object"&&"default"in e}function Dv(e){return z_(e)?e.default:e}var Vg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>J(G_),providedIn:"root"})}return e})(),G_=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$_=new de("");var W_=new de(""),q_=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Zt;transitionAbortSubject=new Zt;configLoader=J(j_);environmentInjector=J(An);destroyRef=J(Eu);urlSerializer=J(Og);rootContexts=J(dd);location=J(Ua);inputBindingEnabled=J(Pg,{optional:!0})!==null;titleStrategy=J(Iv);options=J(Lg,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=J(Vg);createViewTransition=J($_,{optional:!0});navigationErrorHandler=J(W_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ie(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=a=>this.events.next(new mg(a)),r=a=>this.events.next(new yg(a));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next($e(re({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Xt(null),this.transitions.pipe(Un(r=>r!==null),fn(r=>{let a=!1,u=!1;return Ie(r).pipe(fn(f=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Yn.SupersededByNewNavigation),En;this.currentTransition=r,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,targetBrowserUrl:typeof f.extras.browserUrl=="string"?this.urlSerializer.parse(f.extras.browserUrl):f.extras.browserUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?$e(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),x=f.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!m&&x!=="reload"){let v="";return this.events.next(new Lo(f.id,this.urlSerializer.serialize(f.rawUrl),v,dg.IgnoredSameUrlNavigation)),f.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Ie(f).pipe(fn(v=>(this.events.next(new il(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),v.id!==this.navigationId?En:Promise.resolve(v))),k_(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Vt(v=>{r.targetSnapshot=v.targetSnapshot,r.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=$e(re({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let A=new id(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(A)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:v,extractedUrl:A,source:D,restoredState:U,extras:R}=f,G=new il(v,this.urlSerializer.serialize(A),D,U);this.events.next(G);let Z=hv(this.rootComponentType).snapshot;return this.currentTransition=r=$e(re({},f),{targetSnapshot:Z,urlAfterRedirects:A,extras:$e(re({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=A,Ie(r)}else{let v="";return this.events.next(new Lo(f.id,this.urlSerializer.serialize(f.extractedUrl),v,dg.IgnoredByUrlHandlingStrategy)),f.resolve(!1),En}}),Vt(f=>{let m=new fg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),Re(f=>(this.currentTransition=r=$e(re({},f),{guards:e_(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),r)),d_(this.environmentInjector,f=>this.events.next(f)),Vt(f=>{if(r.guardsResult=f.guardsResult,f.guardsResult&&typeof f.guardsResult!="boolean")throw cd(this.urlSerializer,f.guardsResult);let m=new hg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),Un(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Yn.GuardRejected),!1)),og(f=>{if(f.guards.canActivateChecks.length!==0)return Ie(f).pipe(Vt(m=>{let x=new pg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}),fn(m=>{let x=!1;return Ie(m).pipe(F_(this.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(m,"",Yn.NoDataFromResolver)}}))}),Vt(m=>{let x=new gg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}))}),og(f=>{let m=x=>{let v=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(x.routeConfig).pipe(Vt(A=>{x.component=A}),Re(()=>{})));for(let A of x.children)v.push(...m(A));return v};return Nc(m(f.targetSnapshot.root)).pipe(Ni(null),Jr(1))}),og(()=>this.afterPreactivation()),fn(()=>{let{currentSnapshot:f,targetSnapshot:m}=r,x=this.createViewTransition?.(this.environmentInjector,f.root,m.root);return x?_t(x).pipe(Re(()=>r)):Ie(r)}),Re(f=>{let m=ZS(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=r=$e(re({},f),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,r}),Vt(()=>{this.events.next(new sl)}),JS(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Jr(1),Vt({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Po(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),Of(this.transitionAbortSubject.pipe(Vt(f=>{throw f}))),po(()=>{!a&&!u&&this.cancelNavigationTransition(r,"",Yn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(f=>{if(this.destroyed)return r.resolve(!1),En;if(u=!0,wv(f))this.events.next(new gi(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode)),KS(f)?this.events.next(new Ws(f.url,f.navigationBehaviorOptions)):r.resolve(!1);else{let m=new ol(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);try{let x=Hn(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(x instanceof ll){let{message:v,cancellationCode:A}=cd(this.urlSerializer,x);this.events.next(new gi(r.id,this.urlSerializer.serialize(r.extractedUrl),v,A)),this.events.next(new Ws(x.redirectTo,x.navigationBehaviorOptions))}else throw this.events.next(m),f}catch(x){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(x)}}return En}))}))}cancelNavigationTransition(n,r,a){let u=new gi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,a);this.events.next(u),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Y_(e){return e!==td}var Z_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>J(X_),providedIn:"root"})}return e})(),Rg=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},X_=(()=>{class e extends Rg{static \u0275fac=(()=>{let n;return function(a){return(n||(n=Ba(e)))(a||e)}})();static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Av=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:()=>J(Q_),providedIn:"root"})}return e})(),Q_=(()=>{class e extends Av{location=J(Ua);urlSerializer=J(Og);options=J(Lg,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=J(Vg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=hv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof il)this.stateMemento=this.createStateMemento();else if(n instanceof Lo)this.rawUrlTree=r.initialUrl;else if(n instanceof id){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??a,r)}}else n instanceof sl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof gi&&(n.code===Yn.GuardRejected||n.code===Yn.NoDataFromResolver)?this.restoreHistory(r):n instanceof ol?this.restoreHistory(r,!0):n instanceof Po&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let a=n instanceof mi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl){let u=this.browserPageId,f=re(re({},r.extras.state),this.generateNgRouterState(r.id,u));this.location.replaceState(a,"",f)}else{let u=re(re({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(a,"",u)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,u=this.currentPageId-a;u!==0?this.location.historyGo(u):this.currentUrlTree===n.finalUrl&&u===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(a){return(n||(n=Ba(e)))(a||e)}})();static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function K_(e,t){e.events.pipe(Un(n=>n instanceof Po||n instanceof gi||n instanceof ol||n instanceof Lo),Re(n=>n instanceof Po||n instanceof Lo?0:(n instanceof gi?n.code===Yn.Redirect||n.code===Yn.SupersededByNewNavigation:!1)?2:1),Un(n=>n!==2),Jr(1)).subscribe(()=>{t()})}var J_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=J(Sp);stateManager=J(Av);options=J(Lg,{optional:!0})||{};pendingTasks=J(Pi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=J(q_);urlSerializer=J(Og);location=J(Ua);urlHandlingStrategy=J(Vg);_events=new Zt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=J(Z_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=J(Ug,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!J(Pg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Bt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let a=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(a!==null&&u!==null){if(this.stateManager.handleRouterEvent(r,u),r instanceof gi&&r.code!==Yn.Redirect&&r.code!==Yn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Po)this.navigated=!0;else if(r instanceof Ws){let f=r.navigationBehaviorOptions,m=this.urlHandlingStrategy.merge(r.url,a.currentRawUrl),x=re({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Y_(a.source)},f);this.scheduleNavigation(m,td,null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}nT(r)&&this._events.next(r)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),td,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,a){let u={replaceUrl:!0},f=a?.navigationId?a:null;if(a){let x=re({},a);delete x.navigationId,delete x.\u0275routerPageId,Object.keys(x).length!==0&&(u.state=x)}let m=this.parseUrl(n);this.scheduleNavigation(m,r,f,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Bg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:a,queryParams:u,fragment:f,queryParamsHandling:m,preserveFragment:x}=r,v=x?this.currentUrlTree.fragment:f,A=null;switch(m??this.options.defaultQueryParamsHandling){case"merge":A=re(re({},this.currentUrlTree.queryParams),u);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=u||null}A!==null&&(A=this.removeEmptyProps(A));let D;try{let U=a?a.snapshot:this.routerState.snapshot.root;D=cv(U)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),D=this.currentUrlTree.root}return uv(D,n,A,v??null)}navigateByUrl(n,r={skipLocationChange:!1}){let a=nl(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,td,null,r)}navigate(n,r={skipLocationChange:!1}){return tT(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let a;if(r===!0?a=re({},J_):r===!1?a=re({},eT):a=r,nl(n))return Ww(this.currentUrlTree,n,a);let u=this.parseUrl(n);return Ww(this.currentUrlTree,u,a)}removeEmptyProps(n){return Object.entries(n).reduce((r,[a,u])=>(u!=null&&(r[a]=u),r),{})}scheduleNavigation(n,r,a,u,f){if(this.disposed)return Promise.resolve(!1);let m,x,v;f?(m=f.resolve,x=f.reject,v=f.promise):v=new Promise((D,U)=>{m=D,x=U});let A=this.pendingTasks.add();return K_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:u,resolve:m,reject:x,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tT(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new le(4008,!1)}function nT(e){return!(e instanceof sl)&&!(e instanceof Ws)}var rT=new de("");function Sv(e,...t){return Ms([{provide:Ug,multi:!0,useValue:e},[],{provide:zi,useFactory:iT,deps:[$i]},{provide:Ru,multi:!0,useFactory:oT},t.map(n=>n.\u0275providers)])}function iT(e){return e.routerState.root}function oT(){let e=J(jn);return t=>{let n=e.get(ii);if(t!==n.components[0])return;let r=e.get($i),a=e.get(sT);e.get(aT)===1&&r.initialNavigation(),e.get(lT,null,Ue.Optional)?.setUpPreloading(),e.get(rT,null,Ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var sT=new de("",{factory:()=>new Zt}),aT=new de("",{providedIn:"root",factory:()=>1});var lT=new de("");var Lv=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(ve(Li),ve(or))};static \u0275dir=on({type:e})}return e})(),Bv=(()=>{class e extends Lv{static \u0275fac=(()=>{let n;return function(a){return(n||(n=Ba(e)))(a||e)}})();static \u0275dir=on({type:e,features:[Br]})}return e})(),xd=new de("");var cT={provide:xd,useExisting:Fi(()=>Ks),multi:!0};function uT(){let e=fi()?fi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var dT=new de(""),Ks=(()=>{class e extends Lv{_compositionMode;_composing=!1;constructor(n,r,a){super(n,r),this._compositionMode=a,this._compositionMode==null&&(this._compositionMode=!uT())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(ve(Li),ve(or),ve(dT,8))};static \u0275dir=on({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){r&1&&Ct("input",function(f){return a._handleInput(f.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(f){return a._compositionEnd(f.target.value)})},standalone:!1,features:[Ls([cT]),Br]})}return e})();function qg(e){return e==null||Yg(e)===0}function Yg(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Zg=new de(""),Xg=new de(""),fT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bo=class{static min(t){return hT(t)}static max(t){return pT(t)}static required(t){return gT(t)}static requiredTrue(t){return mT(t)}static email(t){return yT(t)}static minLength(t){return wT(t)}static maxLength(t){return vT(t)}static pattern(t){return CT(t)}static nullValidator(t){return Uv()}static compose(t){return $v(t)}static composeAsync(t){return qv(t)}};function hT(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function pT(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function gT(e){return qg(e.value)?{required:!0}:null}function mT(e){return e.value===!0?null:{required:!0}}function yT(e){return qg(e.value)||fT.test(e.value)?null:{email:!0}}function wT(e){return t=>{let n=t.value?.length??Yg(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function vT(e){return t=>{let n=t.value?.length??Yg(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function CT(e){if(!e)return Uv;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(qg(r.value))return null;let a=r.value;return t.test(a)?null:{pattern:{requiredPattern:n,actualValue:a}}}}function Uv(e){return null}function Vv(e){return e!=null}function jv(e){return No(e)?_t(e):e}function Hv(e){let t={};return e.forEach(n=>{t=n!=null?re(re({},t),n):t}),Object.keys(t).length===0?null:t}function zv(e,t){return t.map(n=>n(e))}function xT(e){return!e.validate}function Gv(e){return e.map(t=>xT(t)?t:n=>t.validate(n))}function $v(e){if(!e)return null;let t=e.filter(Vv);return t.length==0?null:function(n){return Hv(zv(n,t))}}function Wv(e){return e!=null?$v(Gv(e)):null}function qv(e){if(!e)return null;let t=e.filter(Vv);return t.length==0?null:function(n){let r=zv(n,t).map(jv);return Tf(r).pipe(Re(Hv))}}function Yv(e){return e!=null?qv(Gv(e)):null}function Tv(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Zv(e){return e._rawValidators}function Xv(e){return e._rawAsyncValidators}function jg(e){return e?Array.isArray(e)?e:[e]:[]}function pd(e,t){return Array.isArray(e)?e.includes(t):e===t}function Mv(e,t){let n=jg(t);return jg(e).forEach(a=>{pd(n,a)||n.push(a)}),n}function Nv(e,t){return jg(t).filter(n=>!pd(e,n))}var gd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Uo=class extends gd{name;get formDirective(){return null}get path(){return null}},Wi=class extends gd{_parent=null;name=null;valueAccessor=null},md=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ET={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sP=$e(re({},ET),{"[class.ng-submitted]":"isSubmitted"}),Ed=(()=>{class e extends md{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ve(Wi,2))};static \u0275dir=on({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){r&2&&Ps("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},standalone:!1,features:[Br]})}return e})(),Qv=(()=>{class e extends md{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ve(Uo,10))};static \u0275dir=on({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){r&2&&Ps("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},standalone:!1,features:[Br]})}return e})();var pl="VALID",hd="INVALID",Zs="PENDING",gl="DISABLED",qi=class{},yd=class extends qi{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ml=class extends qi{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},yl=class extends qi{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Xs=class extends qi{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Hg=class extends qi{source;constructor(t){super(),this.source=t}},zg=class extends qi{source;constructor(t){super(),this.source=t}};function Qg(e){return(bd(e)?e.validators:e)||null}function bT(e){return Array.isArray(e)?Wv(e):e||null}function Kg(e,t){return(bd(t)?t.asyncValidators:e)||null}function IT(e){return Array.isArray(e)?Yv(e):e||null}function bd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Kv(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new le(1e3,"");if(!r[n])throw new le(1001,"")}function Jv(e,t,n){e._forEachChild((r,a)=>{if(n[a]===void 0)throw new le(1002,"")})}var Qs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return di(this.statusReactive)}set status(t){di(()=>this.statusReactive.set(t))}_status=Bs(()=>this.statusReactive());statusReactive=ks(void 0);get valid(){return this.status===pl}get invalid(){return this.status===hd}get pending(){return this.status==Zs}get disabled(){return this.status===gl}get enabled(){return this.status!==gl}errors;get pristine(){return di(this.pristineReactive)}set pristine(t){di(()=>this.pristineReactive.set(t))}_pristine=Bs(()=>this.pristineReactive());pristineReactive=ks(!0);get dirty(){return!this.pristine}get touched(){return di(this.touchedReactive)}set touched(t){di(()=>this.touchedReactive.set(t))}_touched=Bs(()=>this.touchedReactive());touchedReactive=ks(!1);get untouched(){return!this.touched}_events=new Zt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Mv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Mv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nv(t,this._rawAsyncValidators))}hasValidator(t){return pd(this._rawValidators,t)}hasAsyncValidator(t){return pd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched($e(re({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new yl(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new yl(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty($e(re({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ml(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ml(!0,r))}markAsPending(t={}){this.status=Zs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending($e(re({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=gl,this.errors=null,this._forEachChild(a=>{a.disable($e(re({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yd(this.value,r)),this._events.next(new Xs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($e(re({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=pl,this._forEachChild(r=>{r.enable($e(re({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors($e(re({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pl||this.status===Zs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yd(this.value,n)),this._events.next(new Xs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity($e(re({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gl:pl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=jv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,a)=>r&&r._find(a),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Xs(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?gl:this.errors?hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(hd)?hd:pl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),a=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),a&&this._events.next(new ml(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new yl(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=bT(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=IT(this._rawAsyncValidators)}},wd=class extends Qs{constructor(t,n,r){super(Qg(n),Kg(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Jv(this,!0,t),Object.keys(t).forEach(r=>{Kv(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let a=this.controls[r];a&&a.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,a)=>{r.reset(t?t[a]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((a,u)=>{r=n(r,a,u)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Gg=class extends wd{};var vl=new de("",{providedIn:"root",factory:()=>Cl}),Cl="always";function eC(e,t){return[...t.path,e]}function $g(e,t,n=Cl){Jg(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),AT(e,t),_T(e,t),ST(e,t),DT(e,t)}function Rv(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Cd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function vd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function DT(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Jg(e,t){let n=Zv(e);t.validator!==null?e.setValidators(Tv(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=Xv(e);t.asyncValidator!==null?e.setAsyncValidators(Tv(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let a=()=>e.updateValueAndValidity();vd(t._rawValidators,a),vd(t._rawAsyncValidators,a)}function Cd(e,t){let n=!1;if(e!==null){if(t.validator!==null){let a=Zv(e);if(Array.isArray(a)&&a.length>0){let u=a.filter(f=>f!==t.validator);u.length!==a.length&&(n=!0,e.setValidators(u))}}if(t.asyncValidator!==null){let a=Xv(e);if(Array.isArray(a)&&a.length>0){let u=a.filter(f=>f!==t.asyncValidator);u.length!==a.length&&(n=!0,e.setAsyncValidators(u))}}}let r=()=>{};return vd(t._rawValidators,r),vd(t._rawAsyncValidators,r),n}function AT(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&tC(e,t)})}function ST(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&tC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function tC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function _T(e,t){let n=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function TT(e,t){e==null,Jg(e,t)}function MT(e,t){return Cd(e,t)}function nC(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function NT(e){return Object.getPrototypeOf(e.constructor)===Bv}function RT(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rC(e,t){if(!t)return null;Array.isArray(t);let n,r,a;return t.forEach(u=>{u.constructor===Ks?n=u:NT(u)?r=u:a=u}),a||r||n||null}function OT(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ov(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function kv(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var wl=class extends Qs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Qg(n),Kg(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kv(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ov(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ov(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){kv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var kT=e=>e instanceof wl;var FT={provide:Wi,useExisting:Fi(()=>e0)},Fv=Promise.resolve(),e0=(()=>{class e extends Wi{_changeDetectorRef;callSetDisabledState;control=new wl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Tt;constructor(n,r,a,u,f,m){super(),this._changeDetectorRef=f,this.callSetDisabledState=m,this._parent=n,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=rC(this,u)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$g(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Fv.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,a=r!==0&&Lu(r);Fv.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?eC(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(ve(Uo,9),ve(Zg,10),ve(Xg,10),ve(xd,10),ve(Ro,8),ve(vl,8))};static \u0275dir=on({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ls([FT]),Br,So]})}return e})();var iC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=on({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var PT={provide:xd,useExisting:Fi(()=>t0),multi:!0};var LT=(()=>{class e{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t0=(()=>{class e extends Bv{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=J(vl,{optional:!0})??Cl;constructor(n,r,a,u){super(n,r),this._registry=a,this._injector=u}ngOnInit(){this._control=this._injector.get(Wi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(ve(Li),ve(or),ve(LT),ve(jn))};static \u0275dir=on({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,a){r&1&&Ct("change",function(){return a.onChange()})("blur",function(){return a.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Ls([PT]),Br]})}return e})();var oC=new de("");var BT={provide:Uo,useExisting:Fi(()=>n0)},n0=(()=>{class e extends Uo{callSetDisabledState;get submitted(){return di(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Bs(()=>this._submittedReactive());_submittedReactive=ks(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Tt;constructor(n,r,a){super(),this.callSetDisabledState=a,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return $g(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rv(n.control||null,n,!1),OT(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),RT(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Hg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new zg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,a=this.form.get(n.path);r!==a&&(Rv(r||null,n),kT(a)&&($g(a,n,this.callSetDisabledState),n.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);TT(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&MT(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jg(this.form,this),this._oldForm&&Cd(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(ve(Zg,10),ve(Xg,10),ve(vl,8))};static \u0275dir=on({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,a){r&1&&Ct("submit",function(f){return a.onSubmit(f)})("reset",function(){return a.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ls([BT]),Br,So]})}return e})();var UT={provide:Wi,useExisting:Fi(()=>r0)},r0=(()=>{class e extends Wi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Tt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,a,u,f){super(),this._ngModelWarningConfig=f,this._parent=n,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=rC(this,u)}ngOnChanges(n){this._added||this._setUpControl(),nC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return eC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(ve(Uo,13),ve(Zg,10),ve(Xg,10),ve(xd,10),ve(oC,8))};static \u0275dir=on({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ls([UT]),Br,So]})}return e})();var sC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ui({type:e});static \u0275inj=oi({})}return e})(),Wg=class extends Qs{constructor(t,n,r){super(Qg(n),Kg(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),n&&(this.controls.splice(a,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Jv(this,!1,t),t.forEach((r,a)=>{Kv(this,!1,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Pv(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var aC=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let a=this._reduceControls(n),u={};return Pv(r)?u=r:r!==null&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new wd(a,u)}record(n,r=null){let a=this._reduceControls(n);return new Gg(a,r)}control(n,r,a){let u={};return this.useNonNullable?(Pv(r)?u=r:(u.validators=r,u.asyncValidators=a),new wl(n,$e(re({},u),{nonNullable:!0}))):new wl(n,r,a)}array(n,r,a){let u=n.map(f=>this._createControl(f));return new Wg(u,r,a)}_reduceControls(n){let r={};return Object.keys(n).forEach(a=>{r[a]=this._createControl(n[a])}),r}_createControl(n){if(n instanceof wl)return n;if(n instanceof Qs)return n;if(Array.isArray(n)){let r=n[0],a=n.length>1?n[1]:null,u=n.length>2?n[2]:null;return this.control(r,a,u)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lC=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vl,useValue:n.callSetDisabledState??Cl}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ui({type:e});static \u0275inj=oi({imports:[sC]})}return e})(),cC=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:oC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:vl,useValue:n.callSetDisabledState??Cl}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ui({type:e});static \u0275inj=oi({imports:[sC]})}return e})();var s0=Kd(o0());var jr=class e{constructor(t,n){this.http=t;this.router=n;this.loadUserFromStorage()}currentUserSubject=new Xt(null);currentUser$=this.currentUserSubject.asObservable();tokenExpirationTimer;baseUrls={superadmin:"https://hoamsapi.onrender.com/api/superadmin",admin:"https://hoamsapi.onrender.com/api/admin"};loadUserFromStorage(){let t=localStorage.getItem("currentUser"),n=localStorage.getItem("accessToken"),r=localStorage.getItem("userRole");if(t&&n){let a=JSON.parse(t);this.currentUserSubject.next(a),this.autoLogout(this.getTokenRemainingTime(n))}}login(t,n,r="superadmin"){let a=this.baseUrls[r];return this.http.post(`${a}/auth/login`,{email:t,password:n},{withCredentials:!0}).pipe(Vt(u=>{localStorage.setItem("currentUser",JSON.stringify(u.user)),localStorage.setItem("accessToken",u.accessToken),localStorage.setItem("userRole",r),this.currentUserSubject.next(u.user),this.autoLogout(15*60*1e3)}),mn(u=>(console.error("Login error:",u),tr(()=>new Error(u.error?.message||"Login failed")))))}loginAsSuperAdmin(t,n){return this.login(t,n,"superadmin")}loginAsAdmin(t,n){return this.login(t,n,"admin")}logout(){let t=localStorage.getItem("userRole")||"superadmin",n=this.baseUrls[t];this.http.post(`${n}/logout`,{}).subscribe({next:()=>this.handleLogout(),error:()=>this.handleLogout()})}handleLogout(){localStorage.removeItem("currentUser"),localStorage.removeItem("accessToken"),localStorage.removeItem("fullName"),localStorage.removeItem("userRole"),this.currentUserSubject.next(null),this.tokenExpirationTimer&&(clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null),this.router.navigate(["/auth/login"])}refreshToken(){let t=localStorage.getItem("userRole")||"superadmin",n=this.baseUrls[t];return this.http.post(`${n}/refresh-token`,{},{withCredentials:!0}).pipe(Re(r=>{localStorage.setItem("accessToken",r.accessToken),r.user&&(localStorage.setItem("currentUser",JSON.stringify(r.user)),this.currentUserSubject.next(r.user));let a=this.getTokenRemainingTime(r.accessToken);return this.autoLogout(a),r.accessToken}),mn(r=>(console.error("Token refresh failed:",r),(r.status===401||r.status===403)&&this.handleLogout(),tr(()=>new Error("Token refresh failed")))))}autoLogout(t){if(this.tokenExpirationTimer&&(clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null),t>0){let n=t>6e4?t-6e4:t/2;this.tokenExpirationTimer=setTimeout(()=>{this.refreshToken().subscribe({next:r=>console.log("Token refreshed successfully via timer"),error:r=>{console.error("Failed to refresh token via timer:",r),this.handleLogout()}})},n)}}getToken(){return localStorage.getItem("accessToken")}isAuthenticated(){return!!this.currentUserSubject.value&&!!this.getToken()}isSuperAdmin(){return this.currentUserSubject.value?.role==="superadmin"}isAdmin(){return this.currentUserSubject.value?.role==="admin"}getCurrentUserRole(){return localStorage.getItem("userRole")}getTokenRemainingTime(t){try{let a=JSON.parse(atob(t.split(".")[1])).exp*1e3-Date.now();return a>0?a:0}catch{return 0}}static \u0275fac=function(n){return new(n||e)(xe(qa),xe($i))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})};function VT(e,t){e&1&&(V(0,"span"),Q(1,"Email is required"),j())}function jT(e,t){e&1&&(V(0,"span"),Q(1,"Please enter a valid email address"),j())}function HT(e,t){if(e&1&&(V(0,"div",43),It(1,VT,2,0,"span",44)(2,jT,2,0,"span",44),j()),e&2){let n=ot();se(),Ce("ngIf",n.f.email.errors.required),se(),Ce("ngIf",n.f.email.errors.email)}}function zT(e,t){e&1&&(V(0,"span"),Q(1,"Password is required"),j())}function GT(e,t){if(e&1&&(V(0,"div",43),It(1,zT,2,0,"span",44),j()),e&2){let n=ot();se(),Ce("ngIf",n.f.password.errors.required)}}function $T(e,t){e&1&&ze(0,"span",45)}var xl=class e{constructor(t,n,r,a){this.formBuilder=t;this.route=n;this.router=r;this.authService=a;if(this.loginForm=this.formBuilder.group({email:["",[Bo.required,Bo.email]],password:["",Bo.required],role:["superadmin",Bo.required]}),this.authService.isAuthenticated()){let u=this.authService.getCurrentUserRole();this.navigateToHomePage(u||"superadmin")}}loginForm;loading=!1;submitted=!1;error="";returnUrl="/home";userRole="superadmin";ngOnInit(){this.route.snapshot.queryParams.role==="admin"?(this.userRole="admin",this.loginForm.get("role")?.setValue("admin"),this.returnUrl="/home"):this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home",this.loginForm.get("role")?.valueChanges.subscribe(n=>{this.userRole=n,this.returnUrl="/home"})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.invalid)return;this.loading=!0,this.error="";let t=this.f.email.value,n=this.f.password.value,r=this.f.role.value;this.authService.login(t,n,r).subscribe({next:()=>{s0.default.fire({icon:"success",title:"Login Successful!",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.navigateToHomePage(r)},error:a=>{this.error=a.message||"Invalid credentials",this.loading=!1,s0.default.fire({icon:"error",title:"Login Failed!",text:this.error,toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}})}navigateToHomePage(t){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||e)(ve(aC),ve(zi),ve($i),ve(jr))};static \u0275cmp=sr({type:e,selectors:[["app-login"]],decls:73,vars:5,consts:[[1,"area","min-h-screen","flex","flex-col","items-center","justify-center","p-4"],[1,"circles"],[1,"w-full","max-w-4xl","rounded-2xl","bg-white","bg-opacity-10","backdrop-blur-lg","shadow-2xl","overflow-hidden","flex"],[1,"w-full","lg:w-1/2","p-8","md:p-10"],[1,"flex","flex-col","items-center","mb-8"],["src","hoa-removedbg.png","alt","HOA Logo",1,"w-24","h-24","mb-4"],[1,"text-3xl","font-bold","text-center"],[1,"h-1","w-24","bg-blue-950","mt-2","mb-4","rounded-full"],[1,"text-gray-700","text-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-2"],["for","email",1,"text-gray-700","text-sm","font-medium","block"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-400"],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],["type","email","id","email","formControlName","email","placeholder","email@gmail.com",1,"bg-opacity-40","placeholder-gray-400","w-full","pl-10","pr-4","py-3","rounded-lg","border","border-gray-700","focus:outline-none","focus:border-blue-900","focus:ring-1","focus:ring-blue-900","transition","duration-200"],["class","text-red-300 text-xs mt-1",4,"ngIf"],["for","password",1,"text-gray-700","text-sm","font-medium","block"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"bg-opacity-40","placeholder-gray-400","w-full","pl-10","pr-4","py-3","rounded-lg","border","border-gray-700","focus:outline-none","focus:border-blue-900","focus:ring-1","focus:ring-blue-900","transition","duration-200"],[1,"text-gray-700","text-sm","font-medium","block"],["formControlName","role",1,"role-toggle"],["type","radio","id","superadmin","formControlName","role","value","superadmin"],["for","superadmin",1,"role-option"],[1,"role-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule","evenodd"],["type","radio","id","admin","formControlName","role","value","admin"],["for","admin",1,"role-option"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"],[1,"slider"],["type","submit",1,"cursor-pointer","w-full","py-3","px-4","bg-blue-950","font-medium","rounded-lg","shadow-lg","transition","duration-300","transform","hover:-translate-y-1",3,"disabled"],[1,"flex","items-center","justify-center"],["class","w-5 h-5 border-t-2 border-white border-r-2 rounded-full animate-spin mr-3",4,"ngIf"],[1,"text-white"],[1,"mt-8","text-center","text-xs"],[1,"hidden","lg:block","lg:w-1/2","bg-cover","bg-center"],[1,"h-full","w-full","bg-blue-900","bg-opacity-50","flex","items-center"],[1,"px-12","py-12"],[1,"text-white","text-3xl","font-bold","leading-tight","mb-4"],[1,"text-gray-200","mb-6"],[1,"text-red-300","text-xs","mt-1"],[4,"ngIf"],[1,"w-5","h-5","border-t-2","border-white","border-r-2","rounded-full","animate-spin","mr-3"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"ul",1),ze(2,"li")(3,"li")(4,"li")(5,"li")(6,"li")(7,"li")(8,"li")(9,"li")(10,"li")(11,"li"),j(),V(12,"div",2)(13,"div",3)(14,"div",4),ze(15,"img",5),V(16,"h1",6),Q(17,"HOA Management Portal"),j(),ze(18,"div",7),V(19,"p",8),Q(20,"Manage your community with ease"),j()(),V(21,"form",9),Ct("ngSubmit",function(){return r.onSubmit()}),V(22,"div",10)(23,"label",11),Q(24,"Email Address"),j(),V(25,"div",12)(26,"div",13),jt(),V(27,"svg",14),ze(28,"path",15)(29,"path",16),j()(),pn(),ze(30,"input",17),j(),It(31,HT,3,2,"div",18),j(),V(32,"div",10)(33,"label",19),Q(34,"Password"),j(),V(35,"div",12)(36,"div",13),jt(),V(37,"svg",14),ze(38,"path",20),j()(),pn(),ze(39,"input",21),j(),It(40,GT,2,1,"div",18),j(),V(41,"div",10)(42,"label",22),Q(43,"Login As"),j(),V(44,"div",23),ze(45,"input",24),V(46,"label",25)(47,"span",26),jt(),V(48,"svg",27),ze(49,"path",28),j()(),Q(50," Super Admin "),j(),pn(),ze(51,"input",29),V(52,"label",30)(53,"span",26),jt(),V(54,"svg",27),ze(55,"path",31),j()(),Q(56," Admin "),j(),pn(),ze(57,"div",32),j()(),V(58,"button",33)(59,"div",34),It(60,$T,1,0,"span",35),V(61,"span",36),Q(62,"Sign In"),j()()()(),V(63,"div",37)(64,"p"),Q(65,"\xA9 2025 HOA Administration. All rights reserved."),j()()(),V(66,"div",38)(67,"div",39)(68,"div",40)(69,"h2",41),Q(70,"Welcome to your community management portal"),j(),V(71,"p",42),Q(72,"Manage residents, QR Codes, and monthly dues all in one place."),j()()()()()()),n&2&&(se(21),Ce("formGroup",r.loginForm),se(10),Ce("ngIf",r.submitted&&r.f.email.errors),se(9),Ce("ngIf",r.submitted&&r.f.password.errors),se(18),Ce("disabled",r.loading),se(2),Ce("ngIf",r.loading))},dependencies:[hi,Ui,cC,iC,Ks,t0,Ed,Qv,n0,r0],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;margin:0;padding:0}.area[_ngcontent-%COMP%]{background:#082f49;background:-webkit-linear-gradient(to left,#ff7b44,#4c9fa2);width:100%;height:100vh;position:relative}.circles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;display:block;list-style:none;width:20px;height:20px;background:#fff3;animation:_ngcontent-%COMP%_animate 25s linear infinite;bottom:-150px}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:25%;width:80px;height:80px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:10%;width:20px;height:20px;animation-delay:2s;animation-duration:12s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:70%;width:20px;height:20px;animation-delay:4s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-delay:0s;animation-duration:18s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:65%;width:20px;height:20px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:75%;width:110px;height:110px;animation-delay:3s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:35%;width:150px;height:150px;animation-delay:7s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:50%;width:25px;height:25px;animation-delay:15s;animation-duration:45s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:20%;width:15px;height:15px;animation-delay:2s;animation-duration:35s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:85%;width:150px;height:150px;animation-delay:0s;animation-duration:11s}@keyframes _ngcontent-%COMP%_animate{0%{transform:translateY(0) rotate(0);opacity:1;border-radius:0}to{transform:translateY(-1000px) rotate(720deg);opacity:0;border-radius:50%}}.role-toggle[_ngcontent-%COMP%]{display:flex;background-color:#f3f4f6;border-radius:.75rem;padding:.25rem;position:relative;margin-bottom:1.5rem}.role-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.role-option[_ngcontent-%COMP%]{flex:1;text-align:center;padding:.75rem 0;cursor:pointer;position:relative;z-index:1;transition:all .3s ease;font-size:.875rem;font-weight:500;color:#6b7280;border-radius:.5rem}.role-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .role-option[_ngcontent-%COMP%]{color:#fff}.slider[_ngcontent-%COMP%]{position:absolute;height:calc(100% - .5rem);width:calc(50% - .5rem);left:.25rem;top:.25rem;background-color:#1e3a8a;border-radius:.5rem;transition:all .3s ease;z-index:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.role-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(3):checked ~ .slider[_ngcontent-%COMP%]{transform:translate(100%)}.role-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem;vertical-align:middle}.role-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1rem;width:1rem}']})};var ie=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(ie||{}),fC=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function hC(e){return Object.values(ie).includes(e)}var Hr=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(Hr||{}),Tn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Hr.SCAN_TYPE_CAMERA,Hr.SCAN_TYPE_FILE],e}();var Dd=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!fC.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,fC.get(t))},e}();var a0=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}();var pC=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(pC||{}),Ad=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:pC.UNKWOWN_ERROR}},e}();var Sd=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ur(e){return typeof e>"u"||e===null}function gC(e,t,n){return e>n?n:e<t?t:e}var Yi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}();var Je=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}();var l0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}();var c0=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(a),f=Object.keys(t),m=0,x=f;m<x.length;m++){var v=x[m];if(u.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}();var ut=Kd(yC());var u0=function(){function e(t,n,r){if(this.formatMap=new Map([[ie.QR_CODE,ut.BarcodeFormat.QR_CODE],[ie.AZTEC,ut.BarcodeFormat.AZTEC],[ie.CODABAR,ut.BarcodeFormat.CODABAR],[ie.CODE_39,ut.BarcodeFormat.CODE_39],[ie.CODE_93,ut.BarcodeFormat.CODE_93],[ie.CODE_128,ut.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,ut.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,ut.BarcodeFormat.MAXICODE],[ie.ITF,ut.BarcodeFormat.ITF],[ie.EAN_13,ut.BarcodeFormat.EAN_13],[ie.EAN_8,ut.BarcodeFormat.EAN_8],[ie.PDF_417,ut.BarcodeFormat.PDF_417],[ie.RSS_14,ut.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,ut.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,ut.BarcodeFormat.UPC_A],[ie.UPC_E,ut.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ut)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var a=this.createZXingFormats(t),u=new Map;u.set(ut.DecodeHintType.POSSIBLE_FORMATS,a),u.set(ut.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,a){try{r(n.decode(t))}catch(u){a(u)}})},e.prototype.decode=function(t){var n=new ut.MultiFormatReader(this.verbose,this.hints),r=new ut.HTMLCanvasElementLuminanceSource(t),a=new ut.BinaryBitmap(new ut.HybridBinarizer(r)),u=n.decode(a);return{text:u.text,format:Dd.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,a){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,a=t;r<a.length;r++){var u=a[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}();var WT=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},qT=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},d0=function(){function e(t,n,r){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return WT(this,void 0,void 0,function(){var n,r;return qT(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Dd.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,a=0,u=t;a<u.length;a++){var f=u[a],m=f.boundingBox.width*f.boundingBox.height;m>r&&(r=m,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,a=t;r<a.length;r++){var u=a[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,a){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}();var wC=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},vC=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},CC=function(){function e(t,n,r,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&d0.isSupported()?(this.primaryDecoder=new d0(t,r,a),this.secondaryDecoder=new u0(t,r,a)):this.primaryDecoder=new u0(t,r,a)}return e.prototype.decodeAsync=function(t){return wC(this,void 0,void 0,function(){var n;return vC(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return wC(this,void 0,void 0,function(){var n,r;return vC(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(r=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var a=r[n];t+=a}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}();var f0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=a[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Td=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},Md=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},xC=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),YT=function(e){f0(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var a={advanced:[r]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(xC),ZT=function(e){f0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(YT),XT=function(e){f0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(xC),QT=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new ZT(this.track)},e.prototype.torchFeature=function(){return new XT(this.track)},e}(),KT=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,a){return Td(this,void 0,void 0,function(){var u,f;return Md(this,function(m){switch(m.label){case 0:return u=new e(t,n,a),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:m.sent(),m.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Td(this,void 0,void 0,function(){return Md(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var a=t.mediaStream.getVideoTracks(),u=a.length,f=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++f,f>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new QT(this.getFirstTrackOrFail())},e}(),EC=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Td(this,void 0,void 0,function(){return Md(this,function(a){return[2,KT.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Td(this,void 0,void 0,function(){var n,r;return Md(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=a.sent(),[2,new e(r)]}})})},e}();var bC=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},IC=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},DC=function(){function e(){}return e.failIfNotSupported=function(){return bC(this,void 0,void 0,function(){return IC(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return bC(this,void 0,void 0,function(){return IC(this,function(n){return[2,EC.create(t)]})})},e}();var JT=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},eM=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},AC=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Yi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Yi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return JT(this,void 0,void 0,function(){var t,n,r,a,u,f,m;return eM(this,function(x){switch(x.label){case 0:return t=function(v){for(var A=v.getVideoTracks(),D=0,U=A;D<U.length;D++){var R=U[D];R.enabled=!1,R.stop(),v.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),a=[],u=0,f=r;u<f.length;u++)m=f[u],m.kind==="videoinput"&&a.push({id:m.deviceId,label:m.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(u){for(var f=[],m=0,x=u;m<x.length;m++){var v=x[m];v.kind==="video"&&f.push({id:v.id,label:v.label})}t(f)},a=MediaStreamTrack;a.getSources(r)})},e}();var Mt=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Mt||{}),tM=function(){function e(){this.state=Mt.NOT_STARTED,this.onGoingTransactionNewState=Mt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Mt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Mt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Mt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Mt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Mt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Mt.UNKNOWN:throw"Transition from unknown is not allowed";case Mt.NOT_STARTED:this.failIfNewStateIs(t,[Mt.PAUSED]);break;case Mt.SCANNING:break;case Mt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,a=n;r<a.length;r++){var u=a[r];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),nM=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Mt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Mt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Mt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Mt.PAUSED},e}();var SC=function(){function e(){}return e.create=function(){return new nM(new tM)},e}();var rM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=a[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zn=function(e){rM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Tn),iM=function(){function e(t,n){this.logger=n,this.fps=Zn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Zn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?c0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ur(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Vo=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r,a;typeof n=="boolean"?this.verbose=n===!0:n&&(a=n,this.verbose=a.verbose===!0,r=a.experimentalFeatures),this.logger=new Sd(this.verbose),this.qrcode=new CC(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=SC.create()}return e.prototype.start=function(t,n,r,a){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;a?f=a:f=this.verbose?this.logger.log:function(){};var m=iM.create(n,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=x,A=document.getElementById(this.elementId),D=A.clientWidth?A.clientWidth:Zn.DEFAULT_WIDTH;A.style.position="relative",this.shouldScan=!0,this.element=A;var U=this,R=this.stateManagerProxy.startTransition(Mt.SCANNING);return new Promise(function(G,Z){var W=v?m.videoConstraints:U.createVideoConstraints(t);if(!W){R.cancel(),Z("videoConstraints should be defined");return}var X={};(!v||m.aspectRatio)&&(X.aspectRatio=m.aspectRatio);var ge={onRenderSurfaceReady:function(Ye,De){U.setupUi(Ye,De,m),U.isScanning=!0,U.foreverScan(m,r,f)}};DC.failIfNotSupported().then(function(Ye){Ye.create(W).then(function(De){return De.render(u.element,X,ge).then(function(q){U.renderedCamera=q,R.execute(),G(null)}).catch(function(q){R.cancel(),Z(q)})}).catch(function(De){R.cancel(),Z(Yi.errorGettingUserMedia(De))})}).catch(function(Ye){R.cancel(),Z(Yi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Mt.PAUSED),this.showPausedState(),(ur(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Mt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Mt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var u=document.getElementById(Zn.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),r(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ur(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,u){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var m=f.width,x=f.height,v=document.getElementById(r.elementId),A=v.clientWidth?v.clientWidth:Zn.DEFAULT_WIDTH,D=Math.max(v.clientHeight?v.clientHeight:x,Zn.FILE_SCAN_MIN_HEIGHT),U=r.computeCanvasDrawConfig(m,x,A,D);if(n){var R=r.createCanvasElement(A,D,"qr-canvas-visible");R.style.display="inline-block",v.appendChild(R);var G=R.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=A,G.canvas.height=D,G.drawImage(f,0,0,m,x,U.x,U.y,U.width,U.height)}var Z=Zn.FILE_SCAN_HIDDEN_CANVAS_PADDING,W=Math.max(f.width,U.width),X=Math.max(f.height,U.height),ge=W+2*Z,Ye=X+2*Z,De=r.createCanvasElement(ge,Ye);v.appendChild(De);var q=De.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=ge,q.canvas.height=Ye,q.drawImage(f,0,0,m,x,Z,Z,W,X);try{r.qrcode.decodeRobustlyAsync(De).then(function(Te){a(a0.createFromQrcodeResult(Te))}).catch(u)}catch(Te){u("QR code parse error, error = ".concat(Te))}},f.onerror=u,f.onabort=u,f.onstalled=u,f.onsuspend=u,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return AC.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!c0.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],a=0,u=t.formatsToSupport;a<u.length;a++){var f=u[a];hC(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ur(t))return!0;if(!ur(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ur(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ur(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var a=this,u=r.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(t,n,u),m=function(v){if(v<Zn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Zn.MIN_QR_BOX_SIZE,"px.")},x=function(v){return v>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};m(f.width),m(f.height),f.width=x(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var a=ur(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&u.height<=n,m={x:0,y:0,width:t,height:n},x=f?this.getShadedRegionBounds(t,n,u):m,v=this.createCanvasElement(x.width,x.height),A={willReadFrequently:!0},D=v.getContext("2d",A);D.canvas.width=x.width,D.canvas.height=x.height,this.element.append(v),f&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=D,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Yi.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,a0.createFromQrcodeResult(a)),r.possiblyUpdateShaders(!0),!0}).catch(function(a){r.possiblyUpdateShaders(!1);var u=Yi.codeParseError(a);return n(u,Ad.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,r){var a=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),f=u.videoWidth/u.clientWidth,m=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,v=this.qrRegion.height*m,A=this.qrRegion.x*f,D=this.qrRegion.y*m;this.context.drawImage(u,A,D,x,v,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,r)},a.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(R){!R&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,r).finally(function(){U()})):U()}).catch(function(R){a.logger.logError("Error happend while scanning context",R),U()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",a={user:!0,environment:!0},u="exact",f=function(G){if(G in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var v=t.facingMode;if(typeof v=="string"){if(f(v))return{facingMode:v}}else if(typeof v=="object")if(u in v){if(f(v["".concat(u)]))return{facingMode:{exact:v["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var A=typeof v;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var D=t.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(u in D)return{deviceId:{exact:D["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var U=typeof D;throw"Invalid type of 'deviceId' = ".concat(U)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,n,r,a){if(t<=r&&n<=a){var u=(r-t)/2,f=(a-n)/2;return{x:u,y:f,width:t,height:n}}else{var m=t,x=n;return t>r&&(n=r/t*n,t=r),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Zn.BORDER_SHADER_MATCH_COLOR:Zn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var a=t,u=n,f=document.createElement("canvas");return f.style.width="".concat(a,"px"),f.style.height="".concat(u,"px"),f.style.display="none",f.id=ur(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,a){if(!(n-a.width<1||r-a.height<1)){var u=document.createElement("div");u.style.position="absolute";var f=(n-a.width)/2,m=(r-a.height)/2;if(u.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(Zn.SHADED_REGION_ELEMENT_ID),n-a.width<11||r-a.height<11)this.hasBorderShaders=!1;else{var x=5,v=40;this.insertShaderBorders(u,v,x,-x,null,0,!0),this.insertShaderBorders(u,v,x,-x,null,0,!1),this.insertShaderBorders(u,v,x,null,-x,0,!0),this.insertShaderBorders(u,v,x,null,-x,0,!1),this.insertShaderBorders(u,x,v+x,-x,null,-x,!0),this.insertShaderBorders(u,x,v+x,null,-x,-x,!0),this.insertShaderBorders(u,x,v+x,-x,null,-x,!1),this.insertShaderBorders(u,x,v+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,r,a,u,f,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Zn.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),a!==null&&(x.style.top="".concat(a,"px")),u!==null&&(x.style.bottom="".concat(u,"px")),m?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();var h0="data:image/svg+xml;base64,",_C=h0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",TC=h0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",p0=h0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",MC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var NC=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),RC=function(){function e(){this.data=NC.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=NC.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}();var oM=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=l0.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(a);var u=document.createElement("a");u.innerText=l0.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),sM=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=p0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=MC,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=p0,this.infoIcon.style.opacity="0.6")},e}(),OC=function(){function e(){var t=this;this.infoDiv=new oM,this.infoIcon=new sM(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}();var aM=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},lM=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},g0=function(){function e(){}return e.hasPermissions=function(){return aM(this,void 0,void 0,function(){var t,n,r,a;return lM(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),n=0,r=t;n<r.length;n++)if(a=r[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}();var yi=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Hr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Hr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Tn.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Tn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,a=t;r<a.length;r++){var u=a[r];if(!Tn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e}();var tn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}();var Mn=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(tn.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}();var FC=function(e,t,n,r){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?u(A.value):a(A.value).then(m,x)}v((r=r.apply(e,t||[])).next())})},PC=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,a&&(u=v[0]&2?a.return:v[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,v[1])).done)return u;switch(a=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],a=0}finally{r=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},kC=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return FC(this,void 0,void 0,function(){var t,n;return PC(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Je.torchOffButton():Je.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Je.torchOnFailedMessage():Je.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),LC=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Mn.createElement("button",tn.TORCH_BUTTON_ID),this.torchController=new kC(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Je.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(u){return FC(r,void 0,void 0,function(){return PC(this,function(f){switch(f.label){case 0:return[4,a.torchController.flipState()];case 1:return f.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(tn.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(tn.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(tn.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(tn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new kC(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Je.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,a){var u=new e(n,a);return u.render(t,r),u},e}();var BC=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Mn.createElement("button",tn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Mn.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var x=m.target;if(!(x.files&&x.files.length===0)){var v=x.files,A=v[0],D=A.name;u.setImageNameToButton(D),r(A)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(m){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var x=m.dataTransfer;if(x){var v=x.files;if(!v||v.length===0)return;for(var A=!1,D=0;D<v.length;++D){var U=v.item(D);if(U){var R=/image.*/;if(U.type.match(R)){A=!0;var G=U.name;u.setImageNameToButton(G),r(U),f.innerText=Je.dragAndDropMessage();break}}}A||(f.innerText=Je.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Je.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),a=t.length,u=t.substring(a-8,a);t="".concat(r,"....").concat(u)}var f=Je.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=Je.fileSelectionChooseImage()+" - "+Je.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var a=new e(t,n,r);return a},e}();var UC=function(){function e(t){this.selectElement=Mn.createElement("select",tn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var a=Je.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var u=1,f=0,m=this.cameras;f<m.length;f++){var x=m[f],v=x.id,A=x.label==null?v:x.label;(!A||A==="")&&(A=[Je.anonymousCameraPrefix(),u++].join(" "));var D=document.createElement("option");D.value=v,D.innerText=A,this.options.push(D),this.selectElement.appendChild(D)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var a=r[n];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}();var VC=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Mn.createElement("input",tn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Je.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Je.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,a){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}();var dr=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(dr||{});function cM(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function uM(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var dM=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new yi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Sd(this.verbose),this.persistedDataManager=new RC,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,f){if(t)t(u,f);else{if(r.lastMatchFound===u)return;r.lastMatchFound=u,r.setHeaderMessage(Je.lastMatch(u),dr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,f){n&&n(u,f)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new Vo(this.getScanRegionId(),uM(this.config,this.verbose))},e.prototype.pause=function(t){(ur(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,a){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),a(u)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Tn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Tn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Tn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Tn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Tn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Tn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Tn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),yi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),u=this.getDashboardId();a.id=u,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new OC;r.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Je.cameraPermissionRequesting());var u=function(){r||a.createPermissionButton(t,n)};Vo.getCameras().then(function(f){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),a.renderCameraSelection(f)):(a.setHeaderMessage(Je.noCameraFound(),dr.STATUS_WARNING),u())}).catch(function(f){a.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:u(),a.setHeaderMessage(f,dr.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,a=Mn.createElement("button",this.getCameraPermissionButtonId());a.innerText=Je.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,r.createCameraListUi(t,n,a)}),n.appendChild(a)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(yi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){g0.hasPermissions().then(function(a){a?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(a){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=yi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var a=document.createElement("div");a.style.textAlign="center",r.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,a),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=yi.isFileScanType(this.currentScanType),r=this,a=function(u){if(!r.html5Qrcode)throw"html5Qrcode not defined";yi.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Je.loadingImage()),r.html5Qrcode.scanFileV2(u,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,dr.STATUS_WARNING),r.qrCodeErrorCallback(f,Ad.createFrom(f))}))};this.fileSelectionUi=BC.create(t,n,a)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var u=VC.create(a,!1),f=function(Z){var W=Z.zoomFeature();if(W.isSupported()){u.setOnCameraZoomValueChangeCallback(function(ge){W.apply(ge)});var X=1;n.config.defaultZoomValueIfSupported&&(X=n.config.defaultZoomValueIfSupported),X=gC(X,W.min(),W.max()),u.setValues(W.min(),W.max(),X,W.step()),u.show()}},m=UC.create(a,t),x=document.createElement("span"),v=Mn.createElement("button",tn.CAMERA_START_BUTTON_ID);v.innerText=Je.scanButtonStartScanningText(),x.appendChild(v);var A=Mn.createElement("button",tn.CAMERA_STOP_BUTTON_ID);A.innerText=Je.scanButtonStopScanningText(),A.style.display="none",A.disabled=!0,x.appendChild(A);var D,U=function(Z){if(!Z.torchFeature().isSupported()){D&&D.hide();return}D?D.updateTorchCapability(Z.torchFeature()):D=LC.create(x,Z.torchFeature(),{display:"none",marginLeft:"5px"},function(W){r.setHeaderMessage(W,dr.STATUS_WARNING)}),D.show()};a.appendChild(x);var R=function(Z){Z||(v.style.display="none"),v.innerText=Je.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,Z&&(v.style.display="inline-block")};if(v.addEventListener("click",function(Z){v.innerText=Je.scanButtonScanningStarting(),m.disable(),v.disabled=!0,v.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var W=m.getValue();r.persistedDataManager.setLastUsedCameraId(W),r.html5Qrcode.start(W,cM(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(X){A.disabled=!1,A.style.display="inline-block",R(!1);var ge=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&U(ge),n.config.showZoomSliderIfSupported===!0&&f(ge)}).catch(function(X){r.showHideScanTypeSwapLink(!0),m.enable(),R(!0),r.setHeaderMessage(X,dr.STATUS_WARNING)})}),m.hasSingleItem()&&v.click(),A.addEventListener("click",function(Z){if(!r.html5Qrcode)throw"html5Qrcode not defined";A.disabled=!0,r.html5Qrcode.stop().then(function(W){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),m.enable(),v.disabled=!1,A.style.display="none",v.style.display="inline-block",D&&(D.reset(),D.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(W){A.disabled=!1,r.setHeaderMessage(W,dr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var G=r.persistedDataManager.getLastUsedCameraId();m.hasValue(G)?(m.setValue(G),v.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Je.textIfCameraScanSelected(),r=Je.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var f=Mn.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=yi.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,yi.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=Hr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=Hr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(f),a.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){g0.hasPermissions().then(function(r){if(r){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=dr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case dr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case dr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case dr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=_C,this.cameraScanImage.alt=Je.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=TC,this.fileScanImage.alt=Je.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return tn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return tn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();var Js=class e{constructor(t){this.http=t}baseUrl="https://hoamsapi.onrender.com/api";verifyPaymentByQRCode(t){return this.http.post(`${this.baseUrl}/monthlydues/verify-payment-by-qr`,t)}getMyScanHistory(){return this.http.get(`${this.baseUrl}/shared/scan/history`)}confirmGarbageCollection(t){return this.http.post(`${this.baseUrl}/monthlydues/confirm-garbage-collection`,{qrCodeData:t})}getGarbageCollectionStatus(t){return this.http.post(`${this.baseUrl}/garbage-collection`,{accountNumber:t})}static \u0275fac=function(n){return new(n||e)(xe(qa))};static \u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"})};var fM=e=>({"opacity-50 cursor-not-allowed":e});function hM(e,t){if(e&1){let n=xr();V(0,"div",22)(1,"button",23),Ct("click",function(){zn(n);let a=ot(3);return Gn(a.showPaymentDetails=!a.showPaymentDetails)}),V(2,"span"),Q(3),j(),jt(),V(4,"svg",24),ze(5,"path",25),j()()()}if(e&2){let n=ot(3);se(3),Wn(n.showPaymentDetails?"Hide Details":"View Details"),se(),Ps("rotate-180",n.showPaymentDetails)}}function pM(e,t){if(e&1&&(V(0,"span",34),Q(1),j()),e&2){let n=t.$implicit;se(),ar(" ",n," ")}}function gM(e,t){if(e&1&&(V(0,"div",30)(1,"h4",31),Q(2,"Paid Months:"),j(),V(3,"div",32),It(4,pM,2,1,"span",33),j()()),e&2){let n=ot(4);se(4),Ce("ngForOf",n.paymentDetails.paidMonths)}}function mM(e,t){if(e&1&&(V(0,"div",37),Q(1),j()),e&2){let n=ot(5);se(),ar(" ",n.eligibilityDetails.message," ")}}function yM(e,t){if(e&1&&(V(0,"span",40),Q(1),j()),e&2){let n=t.$implicit;se(),ar(" ",n," ")}}function wM(e,t){if(e&1&&(V(0,"div")(1,"div",38),Q(2,"Unpaid Months:"),j(),V(3,"div",32),It(4,yM,2,1,"span",39),j()()),e&2){let n=ot(5);se(4),Ce("ngForOf",n.eligibilityDetails.unpaidMonths)}}function vM(e,t){if(e&1&&(V(0,"div",35),It(1,mM,2,1,"div",36)(2,wM,5,1,"div",4),j()),e&2){let n=ot(4);se(),Ce("ngIf",n.eligibilityDetails.message),se(),Ce("ngIf",n.eligibilityDetails.unpaidMonths&&n.eligibilityDetails.unpaidMonths.length)}}function CM(e,t){if(e&1&&(V(0,"div",26)(1,"h3",27),Q(2,"Payment Details"),j(),V(3,"div",8)(4,"span",9),Q(5,"Current Month:"),j(),V(6,"span",10),Q(7),j()(),V(8,"div",8)(9,"span",9),Q(10,"Current Month Status:"),j(),V(11,"span",13),Q(12),j()(),It(13,gM,5,1,"div",28)(14,vM,3,2,"div",29),j()),e&2){let n=ot(3);se(7),Wn(n.paymentDetails.currentMonth),se(4),Ce("ngClass",n.paymentDetails.currentMonthPaid?"text-green-600":"text-red-600"),se(),ar(" ",n.paymentDetails.currentMonthPaid?"Paid":"Unpaid"," "),se(),Ce("ngIf",n.paymentDetails.paidMonths&&n.paymentDetails.paidMonths.length>0),se(),Ce("ngIf",!n.garbageCollectionEligible&&n.eligibilityDetails)}}function xM(e,t){e&1&&(V(0,"div",41),Q(1," Garbage collection already confirmed for today. "),j())}function EM(e,t){e&1&&(V(0,"div",42),Q(1," Garbage collection confirmed successfully! "),j())}function bM(e,t){e&1&&(V(0,"span"),Q(1,"Confirm Collection"),j())}function IM(e,t){e&1&&(V(0,"span"),Q(1,"Already Collected Today"),j())}function DM(e,t){e&1&&(V(0,"span",45),jt(),V(1,"svg",46),ze(2,"circle",47)(3,"path",48),j(),Q(4," Processing... "),j())}function AM(e,t){if(e&1){let n=xr();V(0,"button",43),Ct("click",function(){zn(n);let a=ot(3);return Gn(a.confirmGarbageCollection())}),It(1,bM,2,0,"span",4)(2,IM,2,0,"span",4)(3,DM,5,0,"span",44),j()}if(e&2){let n=ot(3);Ce("disabled",n.collectingGarbage||n.todayCollectionAlreadyConfirmed)("ngClass",Qy(5,fM,n.todayCollectionAlreadyConfirmed)),se(),Ce("ngIf",!n.collectingGarbage&&!n.todayCollectionAlreadyConfirmed),se(),Ce("ngIf",!n.collectingGarbage&&n.todayCollectionAlreadyConfirmed),se(),Ce("ngIf",n.collectingGarbage)}}function SM(e,t){if(e&1){let n=xr();Ou(0),V(1,"div",5)(2,"h2",6),Q(3,"Payment Verification"),j(),V(4,"div",7)(5,"div",8)(6,"span",9),Q(7,"Name:"),j(),V(8,"span",10),Q(9),j()(),V(10,"div",8)(11,"span",9),Q(12,"Block:"),j(),V(13,"span",10),Q(14),j()(),V(15,"div",8)(16,"span",9),Q(17,"Lot:"),j(),V(18,"span",10),Q(19),j()(),V(20,"div",11)(21,"span",12),Q(22,"Payment Status:"),j(),V(23,"span",13),Q(24),Jy(25,"titlecase"),j()(),V(26,"div",14)(27,"span",12),Q(28,"Collection:"),j(),V(29,"span",13),Q(30),j()(),It(31,hM,6,3,"div",15)(32,CM,15,5,"div",16)(33,xM,2,0,"div",17)(34,EM,2,0,"div",18),j(),V(35,"div",19)(36,"button",20),Ct("click",function(){zn(n);let a=ot(2);return Gn(a.resetScanner())}),Q(37," Scan "),j(),It(38,AM,4,7,"button",21),j()(),ku()}if(e&2){let n=ot(2);se(9),Wn(n.homeowner.name),se(5),Wn(n.homeowner.block),se(5),Wn(n.homeowner.lot),se(4),Ce("ngClass",n.paymentStatus==="paid"?"text-green-600":"text-red-600"),se(),ar(" ",ew(25,12,n.paymentStatus)," "),se(5),Ce("ngClass",n.garbageCollectionEligible?"text-green-600":"text-red-600"),se(),ar(" ",n.garbageCollectionEligible?"Eligible":"Not Eligible"," "),se(),Ce("ngIf",n.paymentDetails),se(),Ce("ngIf",n.paymentDetails&&n.showPaymentDetails),se(),Ce("ngIf",n.todayCollectionAlreadyConfirmed),se(),Ce("ngIf",n.collectionConfirmed),se(4),Ce("ngIf",n.garbageCollectionEligible&&!n.collectionConfirmed)}}function _M(e,t){e&1&&(V(0,"div",53)(1,"h3",54),Q(2,"Possible Reasons:"),j(),V(3,"ul",55)(4,"li"),Q(5,"Incorrect block or lot number"),j(),V(6,"li"),Q(7,"QR code may be outdated"),j(),V(8,"li"),Q(9,"Homeowner record may have been deleted"),j()(),V(10,"p",56),Q(11,"Suggestions:"),j(),V(12,"ul",57)(13,"li"),Q(14,"Verify the QR code details"),j(),V(15,"li"),Q(16,"Check with property management"),j(),V(17,"li"),Q(18,"Try scanning again"),j()()())}function TM(e,t){e&1&&(V(0,"div",53)(1,"h3",54),Q(2,"QR Code Issues:"),j(),V(3,"ul",55)(4,"li"),Q(5,"Ensure QR code is clear and fully visible"),j(),V(6,"li"),Q(7,"Check if QR code is damaged or distorted"),j(),V(8,"li"),Q(9,"Verify QR code was generated correctly"),j()(),V(10,"p",56),Q(11,"Suggestions:"),j(),V(12,"ul",57)(13,"li"),Q(14,"Request a new QR code"),j(),V(15,"li"),Q(16,"Clean the QR code surface"),j(),V(17,"li"),Q(18,"Ensure good lighting"),j()()())}function MM(e,t){e&1&&(V(0,"div",53)(1,"h3",54),Q(2,"System Issues:"),j(),V(3,"ul",55)(4,"li"),Q(5,"Temporary system unavailability"),j(),V(6,"li"),Q(7,"Network connectivity problem"),j(),V(8,"li"),Q(9,"Backend service interruption"),j()(),V(10,"p",56),Q(11,"Suggestions:"),j(),V(12,"ul",57)(13,"li"),Q(14,"Check your internet connection"),j(),V(15,"li"),Q(16,"Wait a few moments and try again"),j(),V(17,"li"),Q(18,"Contact technical support"),j()()())}function NM(e,t){if(e&1){let n=xr();Ou(0),V(1,"div",49)(2,"h2",50),Q(3,"Verification Error"),j(),V(4,"div")(5,"p",51),Q(6),j(),It(7,_M,19,0,"div",52)(8,TM,19,0,"div",52)(9,MM,19,0,"div",52),j(),V(10,"div",19)(11,"button",20),Ct("click",function(){zn(n);let a=ot(2);return Gn(a.resetScanner())}),Q(12," Try Again "),j()()(),ku()}if(e&2){let n=ot(2);se(6),Wn(n.errorMessage),se(),Ce("ngIf",n.errorMessage.includes("Homeowner not found")),se(),Ce("ngIf",n.errorMessage.includes("Invalid QR code")),se(),Ce("ngIf",n.errorMessage.includes("Server Error")||n.errorMessage.includes("Failed to confirm"))}}function RM(e,t){if(e&1&&(V(0,"div",3),It(1,SM,39,14,"ng-container",4)(2,NM,13,4,"ng-container",4),j()),e&2){let n=ot();se(),Ce("ngIf",n.homeowner&&!n.errorMessage),se(),Ce("ngIf",n.errorMessage)}}var El=class e{constructor(t){this.dataService=t}scanComplete=new Tt;html5QrCode=null;scanResult=!1;homeowner=null;paymentStatus="";errorMessage="";garbageCollectionEligible=!1;collectionConfirmed=!1;collectingGarbage=!1;rawQrCodeData="";eligibilityDetails=null;todayCollectionAlreadyConfirmed=!1;paymentDetails=null;showPaymentDetails=!1;ngOnInit(){this.initializeScanner()}initializeScanner(){if(!document.getElementById("reader")){this.errorMessage="Unable to find scanner element";return}this.html5QrCode=new Vo("reader"),Vo.getCameras().then(n=>{if(n&&n.length){let r=n.find(u=>u.label.toLowerCase().includes("back")||u.label.toLowerCase().includes("rear")),a=r?r.id:n[n.length-1].id;this.html5QrCode&&this.html5QrCode.start(a,{fps:10,qrbox:250},this.onScanSuccess.bind(this),this.onScanError.bind(this)).catch(u=>{this.errorMessage=`Camera start error: ${u}`,console.error("Camera start error",u)})}else this.errorMessage="No cameras found"}).catch(n=>{this.errorMessage=`Error accessing cameras: ${n}`,console.error("Camera access error",n)})}onScanSuccess(t){try{this.html5QrCode&&this.html5QrCode.stop(),console.log("Raw Scanned Text:",t),this.rawQrCodeData=t;let n;try{n=JSON.parse(t)}catch{let a=this.cleanQRCodeData(t);n=JSON.parse(a),this.rawQrCodeData=a}this.dataService.verifyPaymentByQRCode({qrCodeData:JSON.stringify(n)}).subscribe({next:r=>{this.scanResult=!0,this.homeowner=r.homeowner,this.paymentStatus=r.paymentStatus,this.garbageCollectionEligible=r.garbageCollectionEligible||!1,this.eligibilityDetails=r.eligibilityDetails||null,this.paymentDetails=r.paymentDetails||null,this.errorMessage="",this.collectionConfirmed=!1,this.homeowner&&this.homeowner.accountNumber&&this.checkTodayCollectionStatus(this.homeowner.accountNumber)},error:r=>{this.scanResult=!0,this.errorMessage=r.error?.message||"Error verifying payment",this.homeowner=null,this.garbageCollectionEligible=!1,this.eligibilityDetails=null,this.paymentDetails=null,console.error("Verification Error:",r)}})}catch(n){this.scanResult=!0,this.errorMessage="Invalid QR code format",this.garbageCollectionEligible=!1,this.eligibilityDetails=null,this.paymentDetails=null,console.error("QR Code Parsing Error:",n)}}checkTodayCollectionStatus(t){this.dataService.getGarbageCollectionStatus(t).subscribe({next:n=>{if(n.success&&n.garbageCollectionStatus){let r=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});this.todayCollectionAlreadyConfirmed=n.garbageCollectionStatus.currentMonthCollections.some(a=>a.includes(r))}},error:n=>{console.error("Error checking collection status:",n)}})}confirmGarbageCollection(){this.collectingGarbage=!0,this.dataService.confirmGarbageCollection(this.rawQrCodeData).subscribe({next:t=>{this.collectionConfirmed=!0,this.collectingGarbage=!1},error:t=>{this.collectingGarbage=!1,t.error?.alreadyCollected?(this.todayCollectionAlreadyConfirmed=!0,this.errorMessage="Garbage collection already confirmed for this homeowner today"):this.errorMessage=t.error?.message||"Failed to confirm garbage collection",console.error("Garbage Collection Error:",t)}})}cleanQRCodeData(t){let n=t.replace(/<!DOCTYPE.*?>/i,"").replace(/<\/?html.*?>/i,"").replace(/<\/?body.*?>/i,"").trim();return console.log("Cleaned QR Code Data:",n),n}resetScanner(t=!1){this.scanResult=!1,this.homeowner=null,this.paymentStatus="",this.errorMessage="",this.garbageCollectionEligible=!1,this.collectionConfirmed=!1,this.collectingGarbage=!1,this.rawQrCodeData="",this.eligibilityDetails=null,this.paymentDetails=null,this.todayCollectionAlreadyConfirmed=!1,this.showPaymentDetails=!1,t?this.scanComplete.emit():this.initializeScanner()}completeReset(){if(this.html5QrCode)try{this.html5QrCode.isScanning?this.html5QrCode.stop().then(()=>{this.html5QrCode=null,this.resetScanState()}).catch(n=>{console.error("Error stopping scanner:",n),this.html5QrCode=null,this.resetScanState()}):(this.html5QrCode=null,this.resetScanState())}catch(t){console.error("Error in completeReset:",t),this.html5QrCode=null,this.resetScanState()}else this.resetScanState()}resetScanState(){this.scanResult=!1,this.homeowner=null,this.paymentStatus="",this.errorMessage="",this.garbageCollectionEligible=!1,this.collectionConfirmed=!1,this.collectingGarbage=!1,this.rawQrCodeData="",this.eligibilityDetails=null,this.paymentDetails=null,this.todayCollectionAlreadyConfirmed=!1,this.showPaymentDetails=!1}onScanError(t){console.log(`Scan error: ${t}`)}ngOnDestroy(){if(this.html5QrCode){try{this.html5QrCode.isScanning&&this.html5QrCode.stop().catch(n=>{console.error("Error stopping scanner in ngOnDestroy:",n)})}catch(t){console.error("Error in ngOnDestroy:",t)}this.html5QrCode=null}}static \u0275fac=function(n){return new(n||e)(ve(Js))};static \u0275cmp=sr({type:e,selectors:[["app-scan"]],outputs:{scanComplete:"scanComplete"},decls:3,vars:1,consts:[[1,"flex","flex-col","items-center","w-full","max-w-lg","mx-auto"],["id","reader",1,"w-full"],["class","mt-5 w-full p-4 rounded-lg shadow-md",4,"ngIf"],[1,"mt-5","w-full","p-4","rounded-lg","shadow-md"],[4,"ngIf"],[1,"text-center"],[1,"text-xl","font-bold","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"flex","justify-between","py-2","px-2","mb-2","border-b"],[1,"font-semibold","text-gray-600"],[1,"text-gray-800"],[1,"flex","justify-between","py-2","px-2","mb-2","font-bold"],[1,"text-gray-600"],[3,"ngClass"],[1,"flex","justify-between","py-2","px-2","mb-2","font-bold","border-b"],["class","flex justify-center my-3",4,"ngIf"],["class","mt-2 border-t pt-3 transition-all duration-300",4,"ngIf"],["class","mt-3 bg-blue-100 text-blue-700 p-3 rounded-md font-semibold text-center",4,"ngIf"],["class","mt-3 bg-green-100 text-green-700 p-3 rounded-md font-semibold text-center",4,"ngIf"],[1,"flex","justify-center","gap-3","mt-5"],[1,"bg-blue-600","hover:bg-blue-700","text-white","py-2","px-4","rounded","transition","duration-300",3,"click"],["class","bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition duration-300 flex items-center justify-center",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex","justify-center","my-3"],[1,"flex","items-center","text-blue-600","hover:text-blue-800","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","ml-1"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],[1,"mt-2","border-t","pt-3","transition-all","duration-300"],[1,"text-lg","font-semibold","mb-2","text-left"],["class","mb-3",4,"ngIf"],["class","mt-3 bg-red-50 border border-red-200 rounded-lg p-3 text-left",4,"ngIf"],[1,"mb-3"],[1,"text-sm","font-medium","text-gray-700","mb-1","text-left"],[1,"flex","flex-wrap","gap-2"],["class","bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",4,"ngFor","ngForOf"],[1,"bg-green-100","text-green-800","text-xs","font-medium","px-2.5","py-0.5","rounded"],[1,"mt-3","bg-red-50","border","border-red-200","rounded-lg","p-3","text-left"],["class","text-sm font-medium text-red-700 mb-2",4,"ngIf"],[1,"text-sm","font-medium","text-red-700","mb-2"],[1,"text-sm","font-medium","text-red-700","mb-1"],["class","bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded",4,"ngFor","ngForOf"],[1,"bg-red-100","text-red-800","text-xs","font-medium","px-2.5","py-0.5","rounded"],[1,"mt-3","bg-blue-100","text-blue-700","p-3","rounded-md","font-semibold","text-center"],[1,"mt-3","bg-green-100","text-green-700","p-3","rounded-md","font-semibold","text-center"],[1,"bg-green-600","hover:bg-green-700","text-white","py-2","px-4","rounded","transition","duration-300","flex","items-center","justify-center",3,"click","disabled","ngClass"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-5"],[1,"text-xl","font-bold","mb-3","text-center"],[1,"text-red-700","font-bold","mb-4"],["class","bg-red-100 rounded-md p-4 mt-4",4,"ngIf"],[1,"bg-red-100","rounded-md","p-4","mt-4"],[1,"text-red-700","font-semibold","mb-2"],[1,"list-disc","pl-5","mb-2"],[1,"font-semibold"],[1,"list-disc","pl-5"]],template:function(n,r){n&1&&(V(0,"div",0),ze(1,"div",1),It(2,RM,3,2,"div",2),j()),n&2&&(se(2),Ce("ngIf",r.scanResult))},dependencies:[hi,ju,Hu,Ui,gw],encapsulation:2})};var m0=Kd(o0());function OM(e,t){e&1&&(V(0,"div",17),ze(1,"div",18),j())}function kM(e,t){if(e&1){let n=xr();V(0,"div",17)(1,"div",19),jt(),V(2,"svg",20),ze(3,"path",21),j(),pn(),V(4,"p"),Q(5),j(),V(6,"button",22),Ct("click",function(){zn(n);let a=ot();return Gn(a.loadScanHistory())}),Q(7," Try Again "),j()()()}if(e&2){let n=ot();se(5),Wn(n.error)}}function FM(e,t){e&1&&(V(0,"p"),Q(1,"No scan history available"),j())}function PM(e,t){e&1&&(V(0,"p"),Q(1,"No results match your search"),j())}function LM(e,t){if(e&1&&(V(0,"div",17)(1,"div",23),jt(),V(2,"svg",20),ze(3,"path",24),j(),It(4,FM,2,0,"p",25)(5,PM,2,0,"p",25),j()()),e&2){let n=ot();se(4),Ce("ngIf",n.scanHistory.length===0),se(),Ce("ngIf",n.scanHistory.length>0)}}function BM(e,t){if(e&1&&(V(0,"tr",32)(1,"td",33)(2,"div",34),Q(3),j()(),V(4,"td",33)(5,"span",35),Q(6),j()(),V(7,"td",36),Q(8),j()()),e&2){let n=t.$implicit,r=ot(2);se(3),Tp("Block ",n.block,", Lot ",n.lot,""),se(2),Ce("ngClass",r.getStatusClass(n.paymentStatus)),se(),ar(" ",n.paymentStatus," "),se(2),ar(" ",r.formatDate(n.scanTimestamp)," ")}}function UM(e,t){if(e&1&&(V(0,"div",26)(1,"table",27)(2,"thead",28)(3,"tr")(4,"th",29),Q(5,"Block/Lot "),j(),V(6,"th",29),Q(7,"Status "),j(),V(8,"th",29),Q(9,"Date/Time "),j()()(),V(10,"tbody",30),It(11,BM,9,5,"tr",31),j()()()),e&2){let n=ot();se(11),Ce("ngForOf",n.paginatedHistory)}}function VM(e,t){if(e&1){let n=xr();V(0,"div",37)(1,"div",38),Q(2," Showing "),V(3,"span",39),Q(4),j(),Q(5," to "),V(6,"span",39),Q(7),j(),Q(8," of "),V(9,"span",39),Q(10),j(),Q(11," results "),j(),V(12,"div",40)(13,"button",41),Ct("click",function(){zn(n);let a=ot();return Gn(a.changePage(a.currentPage-1))}),Q(14," Previous "),j(),V(15,"button",41),Ct("click",function(){zn(n);let a=ot();return Gn(a.changePage(a.currentPage+1))}),Q(16," Next "),j()()()}if(e&2){let n=ot();se(4),Wn((n.currentPage-1)*n.itemsPerPage+1),se(3),Wn(n.Math.min(n.currentPage*n.itemsPerPage,n.filteredHistory.length)),se(3),Wn(n.filteredHistory.length),se(3),Ce("disabled",n.currentPage===1)("ngClass",n.currentPage===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),se(2),Ce("disabled",n.currentPage===n.totalPages)("ngClass",n.currentPage===n.totalPages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50")}}var bl=class e{constructor(t){this.dataService=t}closeModal=new Tt;scanHistory=[];isLoading=!0;error=null;searchTerm="";Math=Math;currentPage=1;itemsPerPage=5;ngOnInit(){this.loadScanHistory()}loadScanHistory(){this.isLoading=!0,this.dataService.getMyScanHistory().subscribe({next:t=>{t.success?this.scanHistory=t.data:this.error="Failed to load scan history",this.isLoading=!1},error:t=>{this.error="An error occurred while fetching the scan history",this.isLoading=!1,console.error(t)}})}close(){this.closeModal.emit()}formatDate(t){return new Date(t).toLocaleString()}get filteredHistory(){if(!this.searchTerm.trim())return this.scanHistory;let t=this.searchTerm.toLowerCase().trim();return this.scanHistory.filter(n=>n.homeownerAccountNumber.toLowerCase().includes(t)||n.block.toLowerCase().includes(t)||n.lot.toLowerCase().includes(t))}get paginatedHistory(){let t=(this.currentPage-1)*this.itemsPerPage;return this.filteredHistory.slice(t,t+this.itemsPerPage)}get totalPages(){return Math.ceil(this.filteredHistory.length/this.itemsPerPage)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}getStatusClass(t){switch(t.toLowerCase()){case"paid":return"text-green-600";case"unpaid":return"text-red-600";default:return"text-gray-600"}}static \u0275fac=function(n){return new(n||e)(ve(Js))};static \u0275cmp=sr({type:e,selectors:[["app-history"]],outputs:{closeModal:"closeModal"},decls:20,vars:6,consts:[[1,"rounded-lg","shadow-lg","bg-white","overflow-hidden","flex","flex-col","max-h-[90vh]"],[1,"bg-sky-900","text-white","px-6","py-4","flex","justify-between","items-center"],[1,"text-xl","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-white","hover:text-gray-200","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-6","py-3","border-b"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by account, block, or lot...",1,"w-full","pl-10","pr-4","py-2","border","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["class","flex-1 flex justify-center items-center p-6",4,"ngIf"],["class","flex-1 overflow-auto",4,"ngIf"],["class","px-6 py-3 border-t flex items-center justify-between",4,"ngIf"],[1,"flex-1","flex","justify-center","items-center","p-6"],[1,"inline-block","h-8","w-8","animate-spin","rounded-full","border-4","border-solid","border-blue-600","border-r-transparent"],[1,"text-red-600","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-3","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],[1,"text-gray-500","text-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[4,"ngIf"],[1,"flex-1","overflow-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50","sticky","top-0"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","text-gray-900"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","capitalize",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-3","border-t","flex","items-center","justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex","space-x-2"],[1,"px-3","py-1","rounded-md","border",3,"click","disabled","ngClass"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"div",1)(2,"h2",2),jt(),V(3,"svg",3),ze(4,"path",4),j(),Q(5," Scan History "),j(),pn(),V(6,"button",5),Ct("click",function(){return r.close()}),jt(),V(7,"svg",6),ze(8,"path",7),j()()(),pn(),V(9,"div",8)(10,"div",9)(11,"div",10),jt(),V(12,"svg",11),ze(13,"path",12),j()(),pn(),V(14,"input",13),Np("ngModelChange",function(u){return Zy(r.searchTerm,u)||(r.searchTerm=u),u}),j()()(),It(15,OM,2,0,"div",14)(16,kM,8,1,"div",14)(17,LM,6,2,"div",14)(18,UM,12,1,"div",15)(19,VM,17,7,"div",16),j()),n&2&&(se(14),Mp("ngModel",r.searchTerm),se(),Ce("ngIf",r.isLoading),se(),Ce("ngIf",!r.isLoading&&r.error),se(),Ce("ngIf",!r.isLoading&&!r.error&&r.filteredHistory.length===0),se(),Ce("ngIf",!r.isLoading&&!r.error&&r.filteredHistory.length>0),se(),Ce("ngIf",!r.isLoading&&!r.error&&r.filteredHistory.length>r.itemsPerPage))},dependencies:[hi,ju,Hu,Ui,lC,Ks,Ed,e0],styles:[".rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0}th[_ngcontent-%COMP%]{font-weight:600}thead[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a}"]})};function jM(e,t){if(e&1){let n=xr();V(0,"div",22)(1,"div",23)(2,"div",24)(3,"h2",25),jt(),V(4,"svg",26),ze(5,"path",12),j(),Q(6," Scan QR Code "),j(),pn(),V(7,"button",27),Ct("click",function(){zn(n);let a=ot();return Gn(a.closeScannerModal())}),jt(),V(8,"svg",28),ze(9,"path",29),j()()(),pn(),V(10,"div",30)(11,"app-scan",31),Ct("scanComplete",function(){zn(n);let a=ot();return Gn(a.closeScannerModal())}),j()()()()}}function HM(e,t){if(e&1){let n=xr();V(0,"div",22)(1,"div",32)(2,"app-history",33),Ct("closeModal",function(){zn(n);let a=ot();return Gn(a.closeHistoryModal())}),j()()()}}var Nd=class e{constructor(t){this.authService=t}scanComponent;historyComponent;showScannerModal=!1;showHistoryModal=!1;openScannerModal(){this.showScannerModal=!0}openHistoryModal(){this.showHistoryModal=!0}closeScannerModal(){this.scanComponent&&this.scanComponent.completeReset(),this.showScannerModal=!1}closeHistoryModal(){this.showHistoryModal=!1}logout(){m0.default.fire({title:"Are you sure?",text:"You will be logged out of your account.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&(this.authService.logout(),m0.default.fire({icon:"success",title:"Logged Out Successfully",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}))})}static \u0275fac=function(n){return new(n||e)(ve(jr))};static \u0275cmp=sr({type:e,selectors:[["app-home"]],viewQuery:function(n,r){if(n&1&&(_p(El,5),_p(bl,5)),n&2){let a;Fu(a=Pu())&&(r.scanComponent=a.first),Fu(a=Pu())&&(r.historyComponent=a.first)}},decls:31,vars:2,consts:[[1,"min-h-screen","bg-gradient-to-b","from-sky-50","to-blue-100","flex","flex-col"],[1,"w-full","py-6","flex","justify-center"],[1,"container","px-4","flex","justify-center"],["src","hoa-removedbg.png","alt","Logo",1,"w-28","h-28","object-contain","filter","drop-shadow-md"],[1,"flex-1","flex","flex-col","items-center","justify-center","px-4"],[1,"w-full","max-w-md","bg-white","rounded-xl","shadow-lg","overflow-hidden"],[1,"bg-sky-900","py-5","px-6"],[1,"text-2xl","font-bold","text-white","text-center"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center","justify-center","space-x-3","bg-sky-600","hover:bg-sky-700","text-white","py-4","px-6","rounded-lg","transition","duration-300","shadow-md","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","group-hover:scale-110","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1v-2a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1z"],[1,"font-medium"],[1,"flex","items-center","justify-center","space-x-3","bg-blue-500","hover:bg-blue-600","text-white","py-4","px-6","rounded-lg","transition","duration-300","shadow-md","group",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"text-sm","text-gray-600","text-center"],[1,"mt-8","flex","items-center","space-x-2","bg-white","hover:bg-red-50","text-red-600","border","border-red-300","py-2","px-4","rounded-lg","transition","duration-300","shadow-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["class","fixed inset-0 flex justify-center items-center z-50 backdrop-blur-sm",4,"ngIf"],[1,"fixed","inset-0","flex","justify-center","items-center","z-50","backdrop-blur-sm"],[1,"bg-white","rounded-xl","w-11/12","max-w-lg","max-h-[90vh]","overflow-auto","shadow-2xl"],[1,"flex","justify-between","items-center","p-4","border-b"],[1,"text-xl","font-semibold","text-sky-900","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-2","text-sky-700"],[1,"p-2","rounded-full","hover:bg-gray-100","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4"],[3,"scanComplete"],[1,"w-11/12","max-w-4xl"],[3,"closeModal"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"header",1)(2,"div",2),ze(3,"img",3),j()(),V(4,"main",4)(5,"div",5)(6,"div",6)(7,"h1",7),Q(8,"Payment Verification"),j()(),V(9,"div",8)(10,"div",9)(11,"button",10),Ct("click",function(){return r.openScannerModal()}),jt(),V(12,"svg",11),ze(13,"path",12),j(),pn(),V(14,"span",13),Q(15,"Scan QR Code"),j()(),V(16,"button",14),Ct("click",function(){return r.openHistoryModal()}),jt(),V(17,"svg",11),ze(18,"path",15),j(),pn(),V(19,"span",13),Q(20,"Scan History"),j()()(),V(21,"div",16)(22,"p",17),Q(23," Scan QR codes to verify homeowner payments or view your scanning history. "),j()()()(),V(24,"button",18),Ct("click",function(){return r.logout()}),jt(),V(25,"svg",19),ze(26,"path",20),j(),pn(),V(27,"span"),Q(28,"Logout"),j()()(),It(29,jM,12,0,"div",21)(30,HM,3,0,"div",21),j()),n&2&&(se(29),Ce("ngIf",r.showScannerModal),se(),Ce("ngIf",r.showHistoryModal))},dependencies:[El,hi,Ui,bl],styles:['.backdrop-blur-sm[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(10px)}to{transform:translateY(0)}}[class*=fixed][_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}[class*=fixed][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}img[alt=Logo][_ngcontent-%COMP%]{transition:transform .3s ease}img[alt=Logo][_ngcontent-%COMP%]:hover{transform:scale(1.05)}button[_ngcontent-%COMP%]{position:relative;overflow:hidden}button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:5px;height:5px;background:#ffffff4d;opacity:0;border-radius:100%;transform:scale(1) translate(-50%);transform-origin:50% 50%}button[_ngcontent-%COMP%]:focus:not(:active):after{animation:_ngcontent-%COMP%_ripple 1s ease-out}@keyframes _ngcontent-%COMP%_ripple{0%{transform:scale(0);opacity:.5}20%{transform:scale(25);opacity:.3}to{opacity:0;transform:scale(40)}}']})};var HC=(e,t)=>{let n=J(jr),r=J($i);if(n.isAuthenticated()){let u=e.data.requiredRole;if(u){if(u==="superadmin"&&!n.isSuperAdmin())return r.navigate(["/auth/login"],{queryParams:{role:"superadmin"}}),!1;if(u==="admin"&&!n.isAdmin())return r.navigate(["/auth/login"],{queryParams:{role:"admin"}}),!1}return!0}let a="superadmin";return t.url.includes("/admin/")&&(a="admin"),r.navigate(["/auth/login"],{queryParams:{returnUrl:t.url,role:a}}),!1};var zC=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth/login",component:xl},{path:"home",component:Nd,canActivate:[HC]},{path:"**",component:xl}];var GC=(e,t)=>{let n=J(jr);if(e.url.includes("/auth/login")||e.url.includes("/refresh-token"))return t(e);let r=n.getToken();if(r){let a=e.clone({setHeaders:{Authorization:`Bearer ${r}`},withCredentials:!0});return t(a).pipe(mn(u=>u.status===401&&u.error?.code==="TOKEN_EXPIRED"?n.refreshToken().pipe(fn(f=>{let m=e.clone({setHeaders:{Authorization:`Bearer ${f}`}});return t(m)}),mn(f=>tr(()=>f))):tr(()=>u)))}return t(e)};var $C={providers:[nw({eventCoalescing:!0}),Sv(zC),Nw(Ow(),Rw([GC]))]};var Rd=class e{title="HOAMSSCAN";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=sr({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ze(0,"router-outlet")},dependencies:[Fg],encapsulation:2})};Gw(Rd,$C).catch(e=>console.error(e));
