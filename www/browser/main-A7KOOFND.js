var v2=Object.create;var kf=Object.defineProperty,C2=Object.defineProperties,x2=Object.getOwnPropertyDescriptor,E2=Object.getOwnPropertyDescriptors,b2=Object.getOwnPropertyNames,rm=Object.getOwnPropertySymbols,I2=Object.getPrototypeOf,om=Object.prototype.hasOwnProperty,D2=Object.prototype.propertyIsEnumerable;var im=(e,t,n)=>t in e?kf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t)=>{for(var n in t||={})om.call(t,n)&&im(e,n,t[n]);if(rm)for(var n of rm(t))D2.call(t,n)&&im(e,n,t[n]);return e},qe=(e,t)=>C2(e,E2(t));var sm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var A2=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of b2(t))!om.call(e,s)&&s!==n&&kf(e,s,{get:()=>t[s],enumerable:!(r=x2(t,s))||r.enumerable});return e};var Tc=(e,t,n)=>(n=e!=null?v2(I2(e)):{},A2(t||!e||!e.__esModule?kf(n,"default",{value:e,enumerable:!0}):n,e));var La=(e,t,n)=>new Promise((r,s)=>{var c=x=>{try{g(n.next(x))}catch(v){s(v)}},f=x=>{try{g(n.throw(x))}catch(v){s(v)}},g=x=>x.done?r(x.value):Promise.resolve(x.value).then(c,f);g((n=n.apply(e,t)).next())});var nf=sm((Zr,V0)=>{"use strict";(function(e,t){typeof Zr=="object"&&typeof V0<"u"?V0.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.Sweetalert2=t())})(Zr,function(){"use strict";function e(m,C,b){if(typeof m=="function"?m===C:m.has(C))return arguments.length<3?C:b;throw new TypeError("Private element is not present on this object")}function t(m,C){if(C.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(m,C){return m.get(e(m,C))}function r(m,C,b){t(m,C),C.set(m,b)}function s(m,C,b){return m.set(e(m,C),b),b}let c=100,f={},g=()=>{f.previousActiveElement instanceof HTMLElement?(f.previousActiveElement.focus(),f.previousActiveElement=null):document.body&&document.body.focus()},x=m=>new Promise(C=>{if(!m)return C();let b=window.scrollX,M=window.scrollY;f.restoreFocusTimeout=setTimeout(()=>{g(),C()},c),window.scrollTo(b,M)}),v="swal2-",D=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((m,C)=>(m[C]=v+C,m),{}),R=["success","warning","info","question","error"].reduce((m,C)=>(m[C]=v+C,m),{}),G="SweetAlert2:",X=m=>m.charAt(0).toUpperCase()+m.slice(1),W=m=>{console.warn(`${G} ${typeof m=="object"?m.join(" "):m}`)},Q=m=>{console.error(`${G} ${m}`)},ye=[],Ze=m=>{ye.includes(m)||(ye.push(m),W(m))},Se=function(m){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ze(`"${m}" is deprecated and will be removed in the next major release.${C?` Use "${C}" instead.`:""}`)},Y=m=>typeof m=="function"?m():m,Me=m=>m&&typeof m.toPromise=="function",K=m=>Me(m)?m.toPromise():Promise.resolve(m),Qr=m=>m&&Promise.resolve(m)===m,st=()=>document.body.querySelector(`.${D.container}`),we=m=>{let C=st();return C?C.querySelector(m):null},Ne=m=>we(`.${m}`),ve=()=>Ne(D.popup),H=()=>Ne(D.icon),jt=()=>Ne(D["icon-content"]),_e=()=>Ne(D.title),Kr=()=>Ne(D["html-container"]),dr=()=>Ne(D.image),Jn=()=>Ne(D["progress-steps"]),to=()=>Ne(D["validation-message"]),gt=()=>we(`.${D.actions} .${D.confirm}`),Dn=()=>we(`.${D.actions} .${D.cancel}`),Dt=()=>we(`.${D.actions} .${D.deny}`),Xl=()=>Ne(D["input-label"]),fe=()=>we(`.${D.loader}`),Ai=()=>Ne(D.actions),Ft=()=>Ne(D.footer),br=()=>Ne(D["timer-progress-bar"]),Jr=()=>Ne(D.close),un=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,no=()=>{let m=ve();if(!m)return[];let C=m.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(C).sort((ne,Be)=>{let Qe=parseInt(ne.getAttribute("tabindex")||"0"),St=parseInt(Be.getAttribute("tabindex")||"0");return Qe>St?1:Qe<St?-1:0}),M=m.querySelectorAll(un),B=Array.from(M).filter(ne=>ne.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(B))].filter(ne=>dn(ne))},Xe=()=>mt(document.body,D.shown)&&!mt(document.body,D["toast-shown"])&&!mt(document.body,D["no-backdrop"]),Ir=()=>{let m=ve();return m?mt(m,D.toast):!1},fr=()=>{let m=ve();return m?m.hasAttribute("data-loading"):!1},Wt=(m,C)=>{if(m.textContent="",C){let M=new DOMParser().parseFromString(C,"text/html"),B=M.querySelector("head");B&&Array.from(B.childNodes).forEach(Be=>{m.appendChild(Be)});let ne=M.querySelector("body");ne&&Array.from(ne.childNodes).forEach(Be=>{Be instanceof HTMLVideoElement||Be instanceof HTMLAudioElement?m.appendChild(Be.cloneNode(!0)):m.appendChild(Be)})}},mt=(m,C)=>{if(!C)return!1;let b=C.split(/\s+/);for(let M=0;M<b.length;M++)if(!m.classList.contains(b[M]))return!1;return!0},xa=(m,C)=>{Array.from(m.classList).forEach(b=>{!Object.values(D).includes(b)&&!Object.values(R).includes(b)&&!Object.values(C.showClass||{}).includes(b)&&m.classList.remove(b)})},be=(m,C,b)=>{if(xa(m,C),!C.customClass)return;let M=C.customClass[b];if(M){if(typeof M!="string"&&!M.forEach){W(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof M}"`);return}$e(m,M)}},ei=(m,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return m.querySelector(`.${D.popup} > .${D[C]}`);case"checkbox":return m.querySelector(`.${D.popup} > .${D.checkbox} input`);case"radio":return m.querySelector(`.${D.popup} > .${D.radio} input:checked`)||m.querySelector(`.${D.popup} > .${D.radio} input:first-child`);case"range":return m.querySelector(`.${D.popup} > .${D.range} input`);default:return m.querySelector(`.${D.popup} > .${D.input}`)}},le=m=>{if(m.focus(),m.type!=="file"){let C=m.value;m.value="",m.value=C}},ro=(m,C,b)=>{!m||!C||(typeof C=="string"&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(M=>{Array.isArray(m)?m.forEach(B=>{b?B.classList.add(M):B.classList.remove(M)}):b?m.classList.add(M):m.classList.remove(M)}))},$e=(m,C)=>{ro(m,C,!0)},sn=(m,C)=>{ro(m,C,!1)},er=(m,C)=>{let b=Array.from(m.children);for(let M=0;M<b.length;M++){let B=b[M];if(B instanceof HTMLElement&&mt(B,C))return B}},qt=(m,C,b)=>{b===`${parseInt(b)}`&&(b=parseInt(b)),b||parseInt(b)===0?m.style.setProperty(C,typeof b=="number"?`${b}px`:b):m.style.removeProperty(C)},Pt=function(m){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";m&&(m.style.display=C)},vt=m=>{m&&(m.style.display="none")},Yt=function(m){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";m&&new MutationObserver(()=>{Dr(m,m.innerHTML,C)}).observe(m,{childList:!0,subtree:!0})},Ea=(m,C,b,M)=>{let B=m.querySelector(C);B&&B.style.setProperty(b,M)},Dr=function(m,C){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";C?Pt(m,b):vt(m)},dn=m=>!!(m&&(m.offsetWidth||m.offsetHeight||m.getClientRects().length)),Rt=()=>!dn(gt())&&!dn(Dt())&&!dn(Dn()),ee=m=>m.scrollHeight>m.clientHeight,qo=m=>{let C=window.getComputedStyle(m),b=parseFloat(C.getPropertyValue("animation-duration")||"0"),M=parseFloat(C.getPropertyValue("transition-duration")||"0");return b>0||M>0},it=function(m){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=br();b&&dn(b)&&(C&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${m/1e3}s linear`,b.style.width="0%"},10))},xt=()=>{let m=br();if(!m)return;let C=parseInt(window.getComputedStyle(m).width);m.style.removeProperty("transition"),m.style.width="100%";let b=parseInt(window.getComputedStyle(m).width),M=C/b*100;m.style.width=`${M}%`},io=()=>typeof window>"u"||typeof document>"u",ba=`
 <div aria-labelledby="${D.title}" aria-describedby="${D["html-container"]}" class="${D.popup}" tabindex="-1">
   <button type="button" class="${D.close}"></button>
   <ul class="${D["progress-steps"]}"></ul>
   <div class="${D.icon}"></div>
   <img class="${D.image}" />
   <h2 class="${D.title}" id="${D.title}"></h2>
   <div class="${D["html-container"]}" id="${D["html-container"]}"></div>
   <input class="${D.input}" id="${D.input}" />
   <input type="file" class="${D.file}" />
   <div class="${D.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${D.select}" id="${D.select}"></select>
   <div class="${D.radio}"></div>
   <label class="${D.checkbox}">
     <input type="checkbox" id="${D.checkbox}" />
     <span class="${D.label}"></span>
   </label>
   <textarea class="${D.textarea}" id="${D.textarea}"></textarea>
   <div class="${D["validation-message"]}" id="${D["validation-message"]}"></div>
   <div class="${D.actions}">
     <div class="${D.loader}"></div>
     <button type="button" class="${D.confirm}"></button>
     <button type="button" class="${D.deny}"></button>
     <button type="button" class="${D.cancel}"></button>
   </div>
   <div class="${D.footer}"></div>
   <div class="${D["timer-progress-bar-container"]}">
     <div class="${D["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Ql=()=>{let m=st();return m?(m.remove(),sn([document.documentElement,document.body],[D["no-backdrop"],D["toast-shown"],D["has-column"]]),!0):!1},Ve=()=>{f.currentInstance.resetValidationMessage()},Yo=()=>{let m=ve(),C=er(m,D.input),b=er(m,D.file),M=m.querySelector(`.${D.range} input`),B=m.querySelector(`.${D.range} output`),ne=er(m,D.select),Be=m.querySelector(`.${D.checkbox} input`),Qe=er(m,D.textarea);C.oninput=Ve,b.onchange=Ve,ne.onchange=Ve,Be.onchange=Ve,Qe.oninput=Ve,M.oninput=()=>{Ve(),B.value=M.value},M.onchange=()=>{Ve(),B.value=M.value}},Kl=m=>typeof m=="string"?document.querySelector(m):m,Jl=m=>{let C=ve();C.setAttribute("role",m.toast?"alert":"dialog"),C.setAttribute("aria-live",m.toast?"polite":"assertive"),m.toast||C.setAttribute("aria-modal","true")},Vn=m=>{window.getComputedStyle(m).direction==="rtl"&&$e(st(),D.rtl)},Ia=m=>{let C=Ql();if(io()){Q("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=D.container,C&&$e(b,D["no-transition"]),Wt(b,ba),b.dataset.swal2Theme=m.theme;let M=Kl(m.target);M.appendChild(b),Jl(m),Vn(M),Yo()},hr=(m,C)=>{m instanceof HTMLElement?C.appendChild(m):typeof m=="object"?Si(m,C):m&&Wt(C,m)},Si=(m,C)=>{m.jquery?Zo(C,m):Wt(C,m.toString())},Zo=(m,C)=>{if(m.textContent="",0 in C)for(let b=0;b in C;b++)m.appendChild(C[b].cloneNode(!0));else m.appendChild(C.cloneNode(!0))},tr=(m,C)=>{let b=Ai(),M=fe();!b||!M||(!C.showConfirmButton&&!C.showDenyButton&&!C.showCancelButton?vt(b):Pt(b),be(b,C,"actions"),mf(b,M,C),Wt(M,C.loaderHtml||""),be(M,C,"loader"))};function mf(m,C,b){let M=gt(),B=Dt(),ne=Dn();!M||!B||!ne||(oo(M,"confirm",b),oo(B,"deny",b),oo(ne,"cancel",b),ti(M,B,ne,b),b.reverseButtons&&(b.toast?(m.insertBefore(ne,M),m.insertBefore(B,M)):(m.insertBefore(ne,C),m.insertBefore(B,C),m.insertBefore(M,C))))}function ti(m,C,b,M){if(!M.buttonsStyling){sn([m,C,b],D.styled);return}$e([m,C,b],D.styled),M.confirmButtonColor&&(m.style.backgroundColor=M.confirmButtonColor,$e(m,D["default-outline"])),M.denyButtonColor&&(C.style.backgroundColor=M.denyButtonColor,$e(C,D["default-outline"])),M.cancelButtonColor&&(b.style.backgroundColor=M.cancelButtonColor,$e(b,D["default-outline"]))}function oo(m,C,b){let M=X(C);Dr(m,b[`show${M}Button`],"inline-block"),Wt(m,b[`${C}ButtonText`]||""),m.setAttribute("aria-label",b[`${C}ButtonAriaLabel`]||""),m.className=D[C],be(m,b,`${C}Button`)}let jn=(m,C)=>{let b=Jr();b&&(Wt(b,C.closeButtonHtml||""),be(b,C,"closeButton"),Dr(b,C.showCloseButton),b.setAttribute("aria-label",C.closeButtonAriaLabel||""))},ni=(m,C)=>{let b=st();b&&(_i(b,C.backdrop),oe(b,C.position),Ti(b,C.grow),be(b,C,"container"))};function _i(m,C){typeof C=="string"?m.style.background=C:C||$e([document.documentElement,document.body],D["no-backdrop"])}function oe(m,C){C&&(C in D?$e(m,D[C]):(W('The "position" parameter is not valid, defaulting to "center"'),$e(m,D.center)))}function Ti(m,C){C&&$e(m,D[`grow-${C}`])}var at={innerParams:new WeakMap,domCache:new WeakMap};let Hn=["input","file","range","select","radio","checkbox","textarea"],yf=(m,C)=>{let b=ve();if(!b)return;let M=at.innerParams.get(m),B=!M||C.input!==M.input;Hn.forEach(ne=>{let Be=er(b,D[ne]);Be&&(ec(ne,C.inputAttributes),Be.className=D[ne],B&&vt(Be))}),C.input&&(B&&wf(C),vf(C))},wf=m=>{if(!m.input)return;if(!Et[m.input]){Q(`Unexpected type of input! Expected ${Object.keys(Et).join(" | ")}, got "${m.input}"`);return}let C=tc(m.input);if(!C)return;let b=Et[m.input](C,m);Pt(C),m.inputAutoFocus&&setTimeout(()=>{le(b)})},Xo=m=>{for(let C=0;C<m.attributes.length;C++){let b=m.attributes[C].name;["id","type","value","style"].includes(b)||m.removeAttribute(b)}},ec=(m,C)=>{let b=ve();if(!b)return;let M=ei(b,m);if(M){Xo(M);for(let B in C)M.setAttribute(B,C[B])}},vf=m=>{if(!m.input)return;let C=tc(m.input);C&&be(C,m,"input")},Da=(m,C)=>{!m.placeholder&&C.inputPlaceholder&&(m.placeholder=C.inputPlaceholder)},so=(m,C,b)=>{if(b.inputLabel){let M=document.createElement("label"),B=D["input-label"];M.setAttribute("for",m.id),M.className=B,typeof b.customClass=="object"&&$e(M,b.customClass.inputLabel),M.innerText=b.inputLabel,C.insertAdjacentElement("beforebegin",M)}},tc=m=>{let C=ve();if(C)return er(C,D[m]||D.input)},zn=(m,C)=>{["string","number"].includes(typeof C)?m.value=`${C}`:Qr(C)||W(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},Et={};Et.text=Et.email=Et.password=Et.number=Et.tel=Et.url=Et.search=Et.date=Et["datetime-local"]=Et.time=Et.week=Et.month=(m,C)=>(zn(m,C.inputValue),so(m,m,C),Da(m,C),m.type=C.input,m),Et.file=(m,C)=>(so(m,m,C),Da(m,C),m),Et.range=(m,C)=>{let b=m.querySelector("input"),M=m.querySelector("output");return zn(b,C.inputValue),b.type=C.input,zn(M,C.inputValue),so(b,m,C),m},Et.select=(m,C)=>{if(m.textContent="",C.inputPlaceholder){let b=document.createElement("option");Wt(b,C.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,m.appendChild(b)}return so(m,m,C),m},Et.radio=m=>(m.textContent="",m),Et.checkbox=(m,C)=>{let b=ei(ve(),"checkbox");b.value="1",b.checked=!!C.inputValue;let M=m.querySelector("span");return Wt(M,C.inputPlaceholder||C.inputLabel),b},Et.textarea=(m,C)=>{zn(m,C.inputValue),Da(m,C),so(m,m,C);let b=M=>parseInt(window.getComputedStyle(M).marginLeft)+parseInt(window.getComputedStyle(M).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let M=parseInt(window.getComputedStyle(ve()).width),B=()=>{if(!document.body.contains(m))return;let ne=m.offsetWidth+b(m);ne>M?ve().style.width=`${ne}px`:qt(ve(),"width",C.width)};new MutationObserver(B).observe(m,{attributes:!0,attributeFilter:["style"]})}}),m};let Ar=(m,C)=>{let b=Kr();b&&(Yt(b),be(b,C,"htmlContainer"),C.html?(hr(C.html,b),Pt(b,"block")):C.text?(b.textContent=C.text,Pt(b,"block")):vt(b),yf(m,C))},Aa=(m,C)=>{let b=Ft();b&&(Yt(b),Dr(b,C.footer,"block"),C.footer&&hr(C.footer,b),be(b,C,"footer"))},$=(m,C)=>{let b=at.innerParams.get(m),M=H();if(!M)return;if(b&&C.icon===b.icon){et(M,C),nc(M,C);return}if(!C.icon&&!C.iconHtml){vt(M);return}if(C.icon&&Object.keys(R).indexOf(C.icon)===-1){Q(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),vt(M);return}Pt(M),et(M,C),nc(M,C),$e(M,C.showClass&&C.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ct)},nc=(m,C)=>{for(let[b,M]of Object.entries(R))C.icon!==b&&sn(m,M);$e(m,C.icon&&R[C.icon]),tt(m,C),Ct(),be(m,C,"icon")},Ct=()=>{let m=ve();if(!m)return;let C=window.getComputedStyle(m).getPropertyValue("background-color"),b=m.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let M=0;M<b.length;M++)b[M].style.backgroundColor=C},Mi=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Cf=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,et=(m,C)=>{if(!C.icon&&!C.iconHtml)return;let b=m.innerHTML,M="";C.iconHtml?M=He(C.iconHtml):C.icon==="success"?(M=Mi,b=b.replace(/ style=".*?"/g,"")):C.icon==="error"?M=Cf:C.icon&&(M=He({question:"?",warning:"!",info:"i"}[C.icon])),b.trim()!==M.trim()&&Wt(m,M)},tt=(m,C)=>{if(C.iconColor){m.style.color=C.iconColor,m.style.borderColor=C.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ea(m,b,"background-color",C.iconColor);Ea(m,".swal2-success-ring","border-color",C.iconColor)}},He=m=>`<div class="${D["icon-content"]}">${m}</div>`,Sa=(m,C)=>{let b=dr();if(b){if(!C.imageUrl){vt(b);return}Pt(b,""),b.setAttribute("src",C.imageUrl),b.setAttribute("alt",C.imageAlt||""),qt(b,"width",C.imageWidth),qt(b,"height",C.imageHeight),b.className=D.image,be(b,C,"image")}},ao=!1,Qo=0,Lt=0,pr=0,rc=0,At=m=>{m.addEventListener("mousedown",Jo),document.body.addEventListener("mousemove",Sr),m.addEventListener("mouseup",ot),m.addEventListener("touchstart",Jo),document.body.addEventListener("touchmove",Sr),m.addEventListener("touchend",ot)},Ko=m=>{m.removeEventListener("mousedown",Jo),document.body.removeEventListener("mousemove",Sr),m.removeEventListener("mouseup",ot),m.removeEventListener("touchstart",Jo),document.body.removeEventListener("touchmove",Sr),m.removeEventListener("touchend",ot)},Jo=m=>{let C=ve();if(m.target===C||H().contains(m.target)){ao=!0;let b=Zt(m);Qo=b.clientX,Lt=b.clientY,pr=parseInt(C.style.insetInlineStart)||0,rc=parseInt(C.style.insetBlockStart)||0,$e(C,"swal2-dragging")}},Sr=m=>{let C=ve();if(ao){let{clientX:b,clientY:M}=Zt(m);C.style.insetInlineStart=`${pr+(b-Qo)}px`,C.style.insetBlockStart=`${rc+(M-Lt)}px`}},ot=()=>{let m=ve();ao=!1,sn(m,"swal2-dragging")},Zt=m=>{let C=0,b=0;return m.type.startsWith("mouse")?(C=m.clientX,b=m.clientY):m.type.startsWith("touch")&&(C=m.touches[0].clientX,b=m.touches[0].clientY),{clientX:C,clientY:b}},F=(m,C)=>{let b=st(),M=ve();if(!(!b||!M)){if(C.toast){qt(b,"width",C.width),M.style.width="100%";let B=fe();B&&M.insertBefore(B,H())}else qt(M,"width",C.width);qt(M,"padding",C.padding),C.color&&(M.style.color=C.color),C.background&&(M.style.background=C.background),vt(to()),_(M,C),C.draggable&&!C.toast?($e(M,D.draggable),At(M)):(sn(M,D.draggable),Ko(M))}},_=(m,C)=>{let b=C.showClass||{};m.className=`${D.popup} ${dn(m)?b.popup:""}`,C.toast?($e([document.documentElement,document.body],D["toast-shown"]),$e(m,D.toast)):$e(m,D.modal),be(m,C,"popup"),typeof C.customClass=="string"&&$e(m,C.customClass),C.icon&&$e(m,D[`icon-${C.icon}`])},he=(m,C)=>{let b=Jn();if(!b)return;let{progressSteps:M,currentProgressStep:B}=C;if(!M||M.length===0||B===void 0){vt(b);return}Pt(b),b.textContent="",B>=M.length&&W("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.forEach((ne,Be)=>{let Qe=Xt(ne);if(b.appendChild(Qe),Be===B&&$e(Qe,D["active-progress-step"]),Be!==M.length-1){let St=An(C);b.appendChild(St)}})},Xt=m=>{let C=document.createElement("li");return $e(C,D["progress-step"]),Wt(C,m),C},An=m=>{let C=document.createElement("li");return $e(C,D["progress-step-line"]),m.progressStepsDistance&&qt(C,"width",m.progressStepsDistance),C},xf=(m,C)=>{let b=_e();b&&(Yt(b),Dr(b,C.title||C.titleText,"block"),C.title&&hr(C.title,b),C.titleText&&(b.innerText=C.titleText),be(b,C,"title"))},es=(m,C)=>{F(m,C),ni(m,C),he(m,C),$(m,C),Sa(m,C),xf(m,C),jn(m,C),Ar(m,C),tr(m,C),Aa(m,C);let b=ve();typeof C.didRender=="function"&&b&&C.didRender(b),f.eventEmitter.emit("didRender",b)},Gn=()=>dn(ve()),pe=()=>{var m;return(m=gt())===null||m===void 0?void 0:m.click()},ic=()=>{var m;return(m=Dt())===null||m===void 0?void 0:m.click()},oc=()=>{var m;return(m=Dn())===null||m===void 0?void 0:m.click()},Ni=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ts=m=>{m.keydownTarget&&m.keydownHandlerAdded&&(m.keydownTarget.removeEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!1)},ns=(m,C,b)=>{ts(m),C.toast||(m.keydownHandler=M=>co(C,M,b),m.keydownTarget=C.keydownListenerCapture?window:ve(),m.keydownListenerCapture=C.keydownListenerCapture,m.keydownTarget.addEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!0)},lo=(m,C)=>{var b;let M=no();if(M.length){m=m+C,m===M.length?m=0:m===-1&&(m=M.length-1),M[m].focus();return}(b=ve())===null||b===void 0||b.focus()},sc=["ArrowRight","ArrowDown"],Ef=["ArrowLeft","ArrowUp"],co=(m,C,b)=>{m&&(C.isComposing||C.keyCode===229||(m.stopKeydownPropagation&&C.stopPropagation(),C.key==="Enter"?_r(C,m):C.key==="Tab"?Ce(C):[...sc,...Ef].includes(C.key)?bf(C.key):C.key==="Escape"&&Re(C,m,b)))},_r=(m,C)=>{if(!Y(C.allowEnterKey))return;let b=ei(ve(),C.input);if(m.target&&b&&m.target instanceof HTMLElement&&m.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(C.input))return;pe(),m.preventDefault()}},Ce=m=>{let C=m.target,b=no(),M=-1;for(let B=0;B<b.length;B++)if(C===b[B]){M=B;break}m.shiftKey?lo(M,-1):lo(M,1),m.stopPropagation(),m.preventDefault()},bf=m=>{let C=Ai(),b=gt(),M=Dt(),B=Dn();if(!C||!b||!M||!B)return;let ne=[b,M,B];if(document.activeElement instanceof HTMLElement&&!ne.includes(document.activeElement))return;let Be=sc.includes(m)?"nextElementSibling":"previousElementSibling",Qe=document.activeElement;if(Qe){for(let St=0;St<C.children.length;St++){if(Qe=Qe[Be],!Qe)return;if(Qe instanceof HTMLButtonElement&&dn(Qe))break}Qe instanceof HTMLButtonElement&&Qe.focus()}},Re=(m,C,b)=>{Y(C.allowEscapeKey)&&(m.preventDefault(),b(Ni.esc))};var bt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let If=()=>{let m=st();Array.from(document.body.children).forEach(b=>{b.contains(m)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},rs=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")||""),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},_a=typeof window<"u"&&!!window.GestureEvent,ri=()=>{if(_a&&!mt(document.body,D.iosfix)){let m=document.body.scrollTop;document.body.style.top=`${m*-1}px`,$e(document.body,D.iosfix),Df()}},Df=()=>{let m=st();if(!m)return;let C;m.ontouchstart=b=>{C=uo(b)},m.ontouchmove=b=>{C&&(b.preventDefault(),b.stopPropagation())}},uo=m=>{let C=m.target,b=st(),M=Kr();return!b||!M||ac(m)||fo(m)?!1:C===b||!ee(b)&&C instanceof HTMLElement&&C.tagName!=="INPUT"&&C.tagName!=="TEXTAREA"&&!(ee(M)&&M.contains(C))},ac=m=>m.touches&&m.touches.length&&m.touches[0].touchType==="stylus",fo=m=>m.touches&&m.touches.length>1,lc=()=>{if(mt(document.body,D.iosfix)){let m=parseInt(document.body.style.top,10);sn(document.body,D.iosfix),document.body.style.top="",document.body.scrollTop=m*-1}},ho=()=>{let m=document.createElement("div");m.className=D["scrollbar-measure"],document.body.appendChild(m);let C=m.getBoundingClientRect().width-m.clientWidth;return document.body.removeChild(m),C},Ri=null,fn=m=>{Ri===null&&(document.body.scrollHeight>window.innerHeight||m==="scroll")&&(Ri=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ri+ho()}px`)},cc=()=>{Ri!==null&&(document.body.style.paddingRight=`${Ri}px`,Ri=null)};function Ta(m,C,b,M){Ir()?fc(m,M):(x(b).then(()=>fc(m,M)),ts(f)),_a?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Xe()&&(cc(),lc(),rs()),Af()}function Af(){sn([document.documentElement,document.body],[D.shown,D["height-auto"],D["no-backdrop"],D["toast-shown"]])}function Tr(m){m=dc(m);let C=bt.swalPromiseResolve.get(this),b=Sf(this);this.isAwaitingPromise?m.isDismissed||(nt(this),C(m)):b&&C(m)}let Sf=m=>{let C=ve();if(!C)return!1;let b=at.innerParams.get(m);if(!b||mt(C,b.hideClass.popup))return!1;sn(C,b.showClass.popup),$e(C,b.hideClass.popup);let M=st();return sn(M,b.showClass.backdrop),$e(M,b.hideClass.backdrop),is(m,C,b),!0};function uc(m){let C=bt.swalPromiseReject.get(this);nt(this),C&&C(m)}let nt=m=>{m.isAwaitingPromise&&(delete m.isAwaitingPromise,at.innerParams.get(m)||m._destroy())},dc=m=>typeof m>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},m),is=(m,C,b)=>{var M;let B=st(),ne=qo(C);typeof b.willClose=="function"&&b.willClose(C),(M=f.eventEmitter)===null||M===void 0||M.emit("willClose",C),ne?Mr(m,C,B,b.returnFocus,b.didClose):Ta(m,B,b.returnFocus,b.didClose)},Mr=(m,C,b,M,B)=>{f.swalCloseEventFinishedCallback=Ta.bind(null,m,b,M,B);let ne=function(Be){if(Be.target===C){var Qe;(Qe=f.swalCloseEventFinishedCallback)===null||Qe===void 0||Qe.call(f),delete f.swalCloseEventFinishedCallback,C.removeEventListener("animationend",ne),C.removeEventListener("transitionend",ne)}};C.addEventListener("animationend",ne),C.addEventListener("transitionend",ne)},fc=(m,C)=>{setTimeout(()=>{var b;typeof C=="function"&&C.bind(m.params)(),(b=f.eventEmitter)===null||b===void 0||b.emit("didClose"),m._destroy&&m._destroy()})},L=m=>{let C=ve();if(C||new _c,C=ve(),!C)return;let b=fe();Ir()?vt(H()):ke(C,m),Pt(b),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},ke=(m,C)=>{let b=Ai(),M=fe();!b||!M||(!C&&dn(gt())&&(C=gt()),Pt(b),C&&(vt(C),M.setAttribute("data-button-to-replace",C.className),b.insertBefore(M,C)),$e([m,b],D.loading))},Qt=(m,C)=>{C.input==="select"||C.input==="radio"?Mf(m,C):["text","email","number","tel","textarea"].some(b=>b===C.input)&&(Me(C.inputValue)||Qr(C.inputValue))&&(L(gt()),pc(m,C))},Ma=(m,C)=>{let b=m.getInput();if(!b)return null;switch(C.input){case"checkbox":return hc(b);case"radio":return _f(b);case"file":return Tf(b);default:return C.inputAutoTrim?b.value.trim():b.value}},hc=m=>m.checked?1:0,_f=m=>m.checked?m.value:null,Tf=m=>m.files&&m.files.length?m.getAttribute("multiple")!==null?m.files:m.files[0]:null,Mf=(m,C)=>{let b=ve();if(!b)return;let M=B=>{C.input==="select"?Bt(b,gr(B),C):C.input==="radio"&&Na(b,gr(B),C)};Me(C.inputOptions)||Qr(C.inputOptions)?(L(gt()),K(C.inputOptions).then(B=>{m.hideLoading(),M(B)})):typeof C.inputOptions=="object"?M(C.inputOptions):Q(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof C.inputOptions}`)},pc=(m,C)=>{let b=m.getInput();b&&(vt(b),K(C.inputValue).then(M=>{b.value=C.input==="number"?`${parseFloat(M)||0}`:`${M}`,Pt(b),b.focus(),m.hideLoading()}).catch(M=>{Q(`Error in inputValue promise: ${M}`),b.value="",Pt(b),b.focus(),m.hideLoading()}))};function Bt(m,C,b){let M=er(m,D.select);if(!M)return;let B=(ne,Be,Qe)=>{let St=document.createElement("option");St.value=Qe,Wt(St,Be),St.selected=po(Qe,b.inputValue),ne.appendChild(St)};C.forEach(ne=>{let Be=ne[0],Qe=ne[1];if(Array.isArray(Qe)){let St=document.createElement("optgroup");St.label=Be,St.disabled=!1,M.appendChild(St),Qe.forEach(fs=>B(St,fs[1],fs[0]))}else B(M,Qe,Be)}),M.focus()}function Na(m,C,b){let M=er(m,D.radio);if(!M)return;C.forEach(ne=>{let Be=ne[0],Qe=ne[1],St=document.createElement("input"),fs=document.createElement("label");St.type="radio",St.name=D.radio,St.value=Be,po(Be,b.inputValue)&&(St.checked=!0);let Of=document.createElement("span");Wt(Of,Qe),Of.className=D.label,fs.appendChild(St),fs.appendChild(Of),M.appendChild(fs)});let B=M.querySelectorAll("input");B.length&&B[0].focus()}let gr=m=>{let C=[];return m instanceof Map?m.forEach((b,M)=>{let B=b;typeof B=="object"&&(B=gr(B)),C.push([M,B])}):Object.keys(m).forEach(b=>{let M=m[b];typeof M=="object"&&(M=gr(M)),C.push([b,M])}),C},po=(m,C)=>!!C&&C.toString()===m.toString(),os=m=>{let C=at.innerParams.get(m);m.disableButtons(),C.input?gc(m,"confirm"):ka(m,!0)},ut=m=>{let C=at.innerParams.get(m);m.disableButtons(),C.returnInputValueOnDeny?gc(m,"deny"):Ra(m,!1)},me=(m,C)=>{m.disableButtons(),C(Ni.cancel)},gc=(m,C)=>{let b=at.innerParams.get(m);if(!b.input){Q(`The "input" parameter is needed to be set when using returnInputValueOn${X(C)}`);return}let M=m.getInput(),B=Ma(m,b);b.inputValidator?ht(m,B,C):M&&!M.checkValidity()?(m.enableButtons(),m.showValidationMessage(b.validationMessage||M.validationMessage)):C==="deny"?Ra(m,B):ka(m,B)},ht=(m,C,b)=>{let M=at.innerParams.get(m);m.disableInput(),Promise.resolve().then(()=>K(M.inputValidator(C,M.validationMessage))).then(ne=>{m.enableButtons(),m.enableInput(),ne?m.showValidationMessage(ne):b==="deny"?Ra(m,C):ka(m,C)})},Ra=(m,C)=>{let b=at.innerParams.get(m||void 0);b.showLoaderOnDeny&&L(Dt()),b.preDeny?(m.isAwaitingPromise=!0,Promise.resolve().then(()=>K(b.preDeny(C,b.validationMessage))).then(B=>{B===!1?(m.hideLoading(),nt(m)):m.close({isDenied:!0,value:typeof B>"u"?C:B})}).catch(B=>mc(m||void 0,B))):m.close({isDenied:!0,value:C})},Oa=(m,C)=>{m.close({isConfirmed:!0,value:C})},mc=(m,C)=>{m.rejectPromise(C)},ka=(m,C)=>{let b=at.innerParams.get(m||void 0);b.showLoaderOnConfirm&&L(),b.preConfirm?(m.resetValidationMessage(),m.isAwaitingPromise=!0,Promise.resolve().then(()=>K(b.preConfirm(C,b.validationMessage))).then(B=>{dn(to())||B===!1?(m.hideLoading(),nt(m)):Oa(m,typeof B>"u"?C:B)}).catch(B=>mc(m||void 0,B))):Oa(m,C)};function Oi(){let m=at.innerParams.get(this);if(!m)return;let C=at.domCache.get(this);vt(C.loader),Ir()?m.icon&&Pt(H()):yc(C),sn([C.popup,C.actions],D.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}let yc=m=>{let C=m.popup.getElementsByClassName(m.loader.getAttribute("data-button-to-replace"));C.length?Pt(C[0],"inline-block"):Rt()&&vt(m.actions)};function ss(){let m=at.innerParams.get(this),C=at.domCache.get(this);return C?ei(C.popup,m.input):null}function Fa(m,C,b){let M=at.domCache.get(m);C.forEach(B=>{M[B].disabled=b})}function Pa(m,C){let b=ve();if(!(!b||!m))if(m.type==="radio"){let M=b.querySelectorAll(`[name="${D.radio}"]`);for(let B=0;B<M.length;B++)M[B].disabled=C}else m.disabled=C}function wc(){Fa(this,["confirmButton","denyButton","cancelButton"],!1)}function ii(){Fa(this,["confirmButton","denyButton","cancelButton"],!0)}function as(){Pa(this.getInput(),!1)}function vc(){Pa(this.getInput(),!0)}function ki(m){let C=at.domCache.get(this),b=at.innerParams.get(this);Wt(C.validationMessage,m),C.validationMessage.className=D["validation-message"],b.customClass&&b.customClass.validationMessage&&$e(C.validationMessage,b.customClass.validationMessage),Pt(C.validationMessage);let M=this.getInput();M&&(M.setAttribute("aria-invalid","true"),M.setAttribute("aria-describedby",D["validation-message"]),le(M),$e(M,D.inputerror))}function Cc(){let m=at.domCache.get(this);m.validationMessage&&vt(m.validationMessage);let C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),sn(C,D.inputerror))}let wn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ls=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Sn={allowEnterKey:void 0},xc=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$n=m=>Object.prototype.hasOwnProperty.call(wn,m),Ec=m=>ls.indexOf(m)!==-1,cs=m=>Sn[m],Nf=m=>{$n(m)||W(`Unknown parameter "${m}"`)},bc=m=>{xc.includes(m)&&W(`The parameter "${m}" is incompatible with toasts`)},nr=m=>{let C=cs(m);C&&Se(m,C)},Ic=m=>{m.backdrop===!1&&m.allowOutsideClick&&W('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),m.theme&&!["light","dark","auto","borderless"].includes(m.theme)&&W(`Invalid theme "${m.theme}". Expected "light", "dark", "auto", or "borderless"`);for(let C in m)Nf(C),m.toast&&bc(C),nr(C)};function us(m){let C=st(),b=ve(),M=at.innerParams.get(this);if(!b||mt(b,M.hideClass.popup)){W("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let B=go(m),ne=Object.assign({},M,B);Ic(ne),C.dataset.swal2Theme=ne.theme,es(this,ne),at.innerParams.set(this,ne),Object.defineProperties(this,{params:{value:Object.assign({},this.params,m),writable:!1,enumerable:!0}})}let go=m=>{let C={};return Object.keys(m).forEach(b=>{Ec(b)?C[b]=m[b]:W(`Invalid parameter to update: ${b}`)}),C};function We(){let m=at.domCache.get(this),C=at.innerParams.get(this);if(!C){w(this);return}m.popup&&f.swalCloseEventFinishedCallback&&(f.swalCloseEventFinishedCallback(),delete f.swalCloseEventFinishedCallback),typeof C.didDestroy=="function"&&C.didDestroy(),f.eventEmitter.emit("didDestroy"),ds(this)}let ds=m=>{w(m),delete m.params,delete f.keydownHandler,delete f.keydownTarget,delete f.currentInstance},w=m=>{m.isAwaitingPromise?(i(at,m),m.isAwaitingPromise=!0):(i(bt,m),i(at,m),delete m.isAwaitingPromise,delete m.disableButtons,delete m.enableButtons,delete m.getInput,delete m.disableInput,delete m.enableInput,delete m.hideLoading,delete m.disableLoading,delete m.showValidationMessage,delete m.resetValidationMessage,delete m.close,delete m.closePopup,delete m.closeModal,delete m.closeToast,delete m.rejectPromise,delete m.update,delete m._destroy)},i=(m,C)=>{for(let b in m)m[b].delete(C)};var o=Object.freeze({__proto__:null,_destroy:We,close:Tr,closeModal:Tr,closePopup:Tr,closeToast:Tr,disableButtons:ii,disableInput:vc,disableLoading:Oi,enableButtons:wc,enableInput:as,getInput:ss,handleAwaitingPromise:nt,hideLoading:Oi,rejectPromise:uc,resetValidationMessage:Cc,showValidationMessage:ki,update:us});let a=(m,C,b)=>{m.toast?l(m,C,b):(h(C),p(C),y(m,C,b))},l=(m,C,b)=>{C.popup.onclick=()=>{m&&(u(m)||m.timer||m.input)||b(Ni.close)}},u=m=>!!(m.showConfirmButton||m.showDenyButton||m.showCancelButton||m.showCloseButton),d=!1,h=m=>{m.popup.onmousedown=()=>{m.container.onmouseup=function(C){m.container.onmouseup=()=>{},C.target===m.container&&(d=!0)}}},p=m=>{m.container.onmousedown=C=>{C.target===m.container&&C.preventDefault(),m.popup.onmouseup=function(b){m.popup.onmouseup=()=>{},(b.target===m.popup||b.target instanceof HTMLElement&&m.popup.contains(b.target))&&(d=!0)}}},y=(m,C,b)=>{C.container.onclick=M=>{if(d){d=!1;return}M.target===C.container&&Y(m.allowOutsideClick)&&b(Ni.backdrop)}},E=m=>typeof m=="object"&&m.jquery,I=m=>m instanceof Element||E(m),S=m=>{let C={};return typeof m[0]=="object"&&!I(m[0])?Object.assign(C,m[0]):["title","html","icon"].forEach((b,M)=>{let B=m[M];typeof B=="string"||I(B)?C[b]=B:B!==void 0&&Q(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof B}`)}),C};function T(){for(var m=arguments.length,C=new Array(m),b=0;b<m;b++)C[b]=arguments[b];return new this(...C)}function N(m){class C extends this{_main(M,B){return super._main(M,Object.assign({},m,B))}}return C}let O=()=>f.timeout&&f.timeout.getTimerLeft(),k=()=>{if(f.timeout)return xt(),f.timeout.stop()},P=()=>{if(f.timeout){let m=f.timeout.start();return it(m),m}},Z=()=>{let m=f.timeout;return m&&(m.running?k():P())},te=m=>{if(f.timeout){let C=f.timeout.increase(m);return it(C,!0),C}},z=()=>!!(f.timeout&&f.timeout.isRunning()),Fe=!1,Ie={};function hn(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ie[m]=this,Fe||(document.body.addEventListener("click",Wn),Fe=!0)}let Wn=m=>{for(let C=m.target;C&&C!==document;C=C.parentNode)for(let b in Ie){let M=C.getAttribute(b);if(M){Ie[b].fire({template:M});return}}};class pn{constructor(){this.events={}}_getHandlersByEventName(C){return typeof this.events[C]>"u"&&(this.events[C]=[]),this.events[C]}on(C,b){let M=this._getHandlersByEventName(C);M.includes(b)||M.push(b)}once(C,b){var M=this;let B=function(){M.removeListener(C,B);for(var ne=arguments.length,Be=new Array(ne),Qe=0;Qe<ne;Qe++)Be[Qe]=arguments[Qe];b.apply(M,Be)};this.on(C,B)}emit(C){for(var b=arguments.length,M=new Array(b>1?b-1:0),B=1;B<b;B++)M[B-1]=arguments[B];this._getHandlersByEventName(C).forEach(ne=>{try{ne.apply(this,M)}catch(Be){console.error(Be)}})}removeListener(C,b){let M=this._getHandlersByEventName(C),B=M.indexOf(b);B>-1&&M.splice(B,1)}removeAllListeners(C){this.events[C]!==void 0&&(this.events[C].length=0)}reset(){this.events={}}}f.eventEmitter=new pn;var Fi=Object.freeze({__proto__:null,argsToParams:S,bindClickHandler:hn,clickCancel:oc,clickConfirm:pe,clickDeny:ic,enableLoading:L,fire:T,getActions:Ai,getCancelButton:Dn,getCloseButton:Jr,getConfirmButton:gt,getContainer:st,getDenyButton:Dt,getFocusableElements:no,getFooter:Ft,getHtmlContainer:Kr,getIcon:H,getIconContent:jt,getImage:dr,getInputLabel:Xl,getLoader:fe,getPopup:ve,getProgressSteps:Jn,getTimerLeft:O,getTimerProgressBar:br,getTitle:_e,getValidationMessage:to,increaseTimer:te,isDeprecatedParameter:cs,isLoading:fr,isTimerRunning:z,isUpdatableParameter:Ec,isValidParameter:$n,isVisible:Gn,mixin:N,off:(m,C)=>{if(!m){f.eventEmitter.reset();return}C?f.eventEmitter.removeListener(m,C):f.eventEmitter.removeAllListeners(m)},on:(m,C)=>{f.eventEmitter.on(m,C)},once:(m,C)=>{f.eventEmitter.once(m,C)},resumeTimer:P,showLoading:L,stopTimer:k,toggleTimer:Z});class Pi{constructor(C,b){this.callback=C,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(C){let b=this.running;return b&&this.stop(),this.remaining+=C,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Dc=["swal-title","swal-html","swal-footer"],Rf=m=>{let C=typeof m.template=="string"?document.querySelector(m.template):m.template;if(!C)return{};let b=C.content;return r2(b),Object.assign(Xx(b),Qx(b),Kx(b),Jx(b),e2(b),t2(b),n2(b,Dc))},Xx=m=>{let C={};return Array.from(m.querySelectorAll("swal-param")).forEach(M=>{mo(M,["name","value"]);let B=M.getAttribute("name"),ne=M.getAttribute("value");!B||!ne||(typeof wn[B]=="boolean"?C[B]=ne!=="false":typeof wn[B]=="object"?C[B]=JSON.parse(ne):C[B]=ne)}),C},Qx=m=>{let C={};return Array.from(m.querySelectorAll("swal-function-param")).forEach(M=>{let B=M.getAttribute("name"),ne=M.getAttribute("value");!B||!ne||(C[B]=new Function(`return ${ne}`)())}),C},Kx=m=>{let C={};return Array.from(m.querySelectorAll("swal-button")).forEach(M=>{mo(M,["type","color","aria-label"]);let B=M.getAttribute("type");!B||!["confirm","cancel","deny"].includes(B)||(C[`${B}ButtonText`]=M.innerHTML,C[`show${X(B)}Button`]=!0,M.hasAttribute("color")&&(C[`${B}ButtonColor`]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(C[`${B}ButtonAriaLabel`]=M.getAttribute("aria-label")))}),C},Jx=m=>{let C={},b=m.querySelector("swal-image");return b&&(mo(b,["src","width","height","alt"]),b.hasAttribute("src")&&(C.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(C.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(C.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(C.imageAlt=b.getAttribute("alt")||void 0)),C},e2=m=>{let C={},b=m.querySelector("swal-icon");return b&&(mo(b,["type","color"]),b.hasAttribute("type")&&(C.icon=b.getAttribute("type")),b.hasAttribute("color")&&(C.iconColor=b.getAttribute("color")),C.iconHtml=b.innerHTML),C},t2=m=>{let C={},b=m.querySelector("swal-input");b&&(mo(b,["type","label","placeholder","value"]),C.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(C.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(C.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(C.inputValue=b.getAttribute("value")));let M=Array.from(m.querySelectorAll("swal-input-option"));return M.length&&(C.inputOptions={},M.forEach(B=>{mo(B,["value"]);let ne=B.getAttribute("value");if(!ne)return;let Be=B.innerHTML;C.inputOptions[ne]=Be})),C},n2=(m,C)=>{let b={};for(let M in C){let B=C[M],ne=m.querySelector(B);ne&&(mo(ne,[]),b[B.replace(/^swal-/,"")]=ne.innerHTML.trim())}return b},r2=m=>{let C=Dc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(m.children).forEach(b=>{let M=b.tagName.toLowerCase();C.includes(M)||W(`Unrecognized element <${M}>`)})},mo=(m,C)=>{Array.from(m.attributes).forEach(b=>{C.indexOf(b.name)===-1&&W([`Unrecognized attribute "${b.name}" on <${m.tagName.toLowerCase()}>.`,`${C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."}`])})},tm=10,i2=m=>{let C=st(),b=ve();typeof m.willOpen=="function"&&m.willOpen(b),f.eventEmitter.emit("willOpen",b);let B=window.getComputedStyle(document.body).overflowY;a2(C,b,m),setTimeout(()=>{o2(C,b)},tm),Xe()&&(s2(C,m.scrollbarPadding,B),If()),!Ir()&&!f.previousActiveElement&&(f.previousActiveElement=document.activeElement),typeof m.didOpen=="function"&&setTimeout(()=>m.didOpen(b)),f.eventEmitter.emit("didOpen",b),sn(C,D["no-transition"])},Ac=m=>{let C=ve();if(m.target!==C)return;let b=st();C.removeEventListener("animationend",Ac),C.removeEventListener("transitionend",Ac),b.style.overflowY="auto"},o2=(m,C)=>{qo(C)?(m.style.overflowY="hidden",C.addEventListener("animationend",Ac),C.addEventListener("transitionend",Ac)):m.style.overflowY="auto"},s2=(m,C,b)=>{ri(),C&&b!=="hidden"&&fn(b),setTimeout(()=>{m.scrollTop=0})},a2=(m,C,b)=>{$e(m,b.showClass.backdrop),b.animation?(C.style.setProperty("opacity","0","important"),Pt(C,"grid"),setTimeout(()=>{$e(C,b.showClass.popup),C.style.removeProperty("opacity")},tm)):Pt(C,"grid"),$e([document.documentElement,document.body],D.shown),b.heightAuto&&b.backdrop&&!b.toast&&$e([document.documentElement,document.body],D["height-auto"])};var nm={email:(m,C)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(m)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(m,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(m)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function l2(m){m.inputValidator||(m.input==="email"&&(m.inputValidator=nm.email),m.input==="url"&&(m.inputValidator=nm.url))}function c2(m){(!m.target||typeof m.target=="string"&&!document.querySelector(m.target)||typeof m.target!="string"&&!m.target.appendChild)&&(W('Target parameter is not valid, defaulting to "body"'),m.target="body")}function u2(m){l2(m),m.showLoaderOnConfirm&&!m.preConfirm&&W(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),c2(m),typeof m.title=="string"&&(m.title=m.title.split(`
`).join("<br />")),Ia(m)}let Nr;var Sc=new WeakMap;class Ut{constructor(){if(r(this,Sc,void 0),typeof window>"u")return;Nr=this;for(var C=arguments.length,b=new Array(C),M=0;M<C;M++)b[M]=arguments[M];let B=Object.freeze(this.constructor.argsToParams(b));this.params=B,this.isAwaitingPromise=!1,s(Sc,this,this._main(Nr.params))}_main(C){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ic(Object.assign({},b,C)),f.currentInstance){let ne=bt.swalPromiseResolve.get(f.currentInstance),{isAwaitingPromise:Be}=f.currentInstance;f.currentInstance._destroy(),Be||ne({isDismissed:!0}),Xe()&&rs()}f.currentInstance=Nr;let M=f2(C,b);u2(M),Object.freeze(M),f.timeout&&(f.timeout.stop(),delete f.timeout),clearTimeout(f.restoreFocusTimeout);let B=h2(Nr);return es(Nr,M),at.innerParams.set(Nr,M),d2(Nr,B,M)}then(C){return n(Sc,this).then(C)}finally(C){return n(Sc,this).finally(C)}}let d2=(m,C,b)=>new Promise((M,B)=>{let ne=Be=>{m.close({isDismissed:!0,dismiss:Be})};bt.swalPromiseResolve.set(m,M),bt.swalPromiseReject.set(m,B),C.confirmButton.onclick=()=>{os(m)},C.denyButton.onclick=()=>{ut(m)},C.cancelButton.onclick=()=>{me(m,ne)},C.closeButton.onclick=()=>{ne(Ni.close)},a(b,C,ne),ns(f,b,ne),Qt(m,b),i2(b),p2(f,b,ne),g2(C,b),setTimeout(()=>{C.container.scrollTop=0})}),f2=(m,C)=>{let b=Rf(m),M=Object.assign({},wn,C,b,m);return M.showClass=Object.assign({},wn.showClass,M.showClass),M.hideClass=Object.assign({},wn.hideClass,M.hideClass),M.animation===!1&&(M.showClass={backdrop:"swal2-noanimation"},M.hideClass={}),M},h2=m=>{let C={popup:ve(),container:st(),actions:Ai(),confirmButton:gt(),denyButton:Dt(),cancelButton:Dn(),loader:fe(),closeButton:Jr(),validationMessage:to(),progressSteps:Jn()};return at.domCache.set(m,C),C},p2=(m,C,b)=>{let M=br();vt(M),C.timer&&(m.timeout=new Pi(()=>{b("timer"),delete m.timeout},C.timer),C.timerProgressBar&&(Pt(M),be(M,C,"timerProgressBar"),setTimeout(()=>{m.timeout&&m.timeout.running&&it(C.timer)})))},g2=(m,C)=>{if(!C.toast){if(!Y(C.allowEnterKey)){Se("allowEnterKey"),w2();return}m2(m)||y2(m,C)||lo(-1,1)}},m2=m=>{let C=Array.from(m.popup.querySelectorAll("[autofocus]"));for(let b of C)if(b instanceof HTMLElement&&dn(b))return b.focus(),!0;return!1},y2=(m,C)=>C.focusDeny&&dn(m.denyButton)?(m.denyButton.focus(),!0):C.focusCancel&&dn(m.cancelButton)?(m.cancelButton.focus(),!0):C.focusConfirm&&dn(m.confirmButton)?(m.confirmButton.focus(),!0):!1,w2=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let m=new Date,C=localStorage.getItem("swal-initiation");C?(m.getTime()-Date.parse(C))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let b=document.createElement("audio");b.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",b.loop=!0,document.body.appendChild(b),setTimeout(()=>{b.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${m}`)}Ut.prototype.disableButtons=ii,Ut.prototype.enableButtons=wc,Ut.prototype.getInput=ss,Ut.prototype.disableInput=vc,Ut.prototype.enableInput=as,Ut.prototype.hideLoading=Oi,Ut.prototype.disableLoading=Oi,Ut.prototype.showValidationMessage=ki,Ut.prototype.resetValidationMessage=Cc,Ut.prototype.close=Tr,Ut.prototype.closePopup=Tr,Ut.prototype.closeModal=Tr,Ut.prototype.closeToast=Tr,Ut.prototype.rejectPromise=uc,Ut.prototype.update=us,Ut.prototype._destroy=We,Object.assign(Ut,Fi),Object.keys(o).forEach(m=>{Ut[m]=function(){return Nr&&Nr[m]?Nr[m](...arguments):null}}),Ut.DismissReason=Ni,Ut.version="11.17.2";let _c=Ut;return _c.default=_c,_c});typeof Zr<"u"&&Zr.Sweetalert2&&(Zr.swal=Zr.sweetAlert=Zr.Swal=Zr.SweetAlert=Zr.Sweetalert2);typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var bx=sm((uf,Ex)=>{"use strict";(function(e,t){typeof uf=="object"&&typeof Ex<"u"?t(uf):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ZXing={}))})(uf,function(e){"use strict";function t(w){return w==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,i){w.__proto__=i}||function(w,i){for(var o in i)i.hasOwnProperty(o)&&(w[o]=i[o])};function r(w,i){n(w,i);function o(){this.constructor=w}w.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function s(w,i){var o=Object.setPrototypeOf;o?o(w,i):w.__proto__=i}function c(w,i){i===void 0&&(i=w.constructor);var o=Error.captureStackTrace;o&&o(w,i)}var f=function(w){r(i,w);function i(o){var a=this.constructor,l=w.call(this,o)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),s(l,a.prototype),c(l),l}return i}(Error);let g=(()=>{class w extends f{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}return w.kind="Exception",w})(),x=(()=>{class w extends g{}return w.kind="ArgumentException",w})(),v=(()=>{class w extends g{}return w.kind="IllegalArgumentException",w})();class A{constructor(i){if(this.binarizer=i,i===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,a,l){let u=this.binarizer.getLuminanceSource().crop(i,o,a,l);return new A(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){let i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let D=(()=>{class w extends g{static getChecksumInstance(){return new w}}return w.kind="ChecksumException",w})();class U{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(i,o,a,l,u){for(;u--;)a[l++]=i[o++]}static currentTimeMillis(){return Date.now()}}let G=(()=>{class w extends g{}return w.kind="IndexOutOfBoundsException",w})(),X=(()=>{class w extends G{constructor(o=void 0,a=void 0){super(a),this.index=o,this.message=a}}return w.kind="ArrayIndexOutOfBoundsException",w})();class W{static fill(i,o){for(let a=0,l=i.length;a<l;a++)i[a]=o}static fillWithin(i,o,a,l){W.rangeCheck(i.length,o,a);for(let u=o;u<a;u++)i[u]=l}static rangeCheck(i,o,a){if(o>a)throw new v("fromIndex("+o+") > toIndex("+a+")");if(o<0)throw new X(o);if(a>i)throw new X(a)}static asList(...i){return i}static create(i,o,a){return Array.from({length:i}).map(u=>Array.from({length:o}).fill(a))}static createInt32Array(i,o,a){return Array.from({length:i}).map(u=>Int32Array.from({length:o}).fill(a))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let a=0,l=i.length;a<l;a++)if(i[a]!==o[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(let a of i)o=31*o+a;return o}static fillUint8Array(i,o){for(let a=0;a!==i.length;a++)i[a]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){let a=new Uint8Array(o);return a.set(i),a}return i.slice(0,o)}static copyOfRange(i,o,a){let l=a-o,u=new Int32Array(l);return R.arraycopy(i,o,u,0,l),u}static binarySearch(i,o,a){a===void 0&&(a=W.numberComparator);let l=0,u=i.length-1;for(;l<=u;){let d=u+l>>1,h=a(o,i[d]);if(h>0)l=d+1;else if(h<0)u=d-1;else return d}return-l-1}static numberComparator(i,o){return i-o}}class Q{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let a=31;return o=i<<16,o!==0&&(a-=16,i=o),o=i<<8,o!==0&&(a-=8,i=o),o=i<<4,o!==0&&(a-=4,i=o),o=i<<2,o!==0&&(a-=2,i=o),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=ye.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){let o=ye.makeArray(i);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){let o=this.size;if(i>=o)return o;let a=this.bits,l=Math.floor(i/32),u=a[l];u&=~((1<<(i&31))-1);let d=a.length;for(;u===0;){if(++l===d)return o;u=a[l]}let h=l*32+Q.numberOfTrailingZeros(u);return h>o?o:h}getNextUnset(i){let o=this.size;if(i>=o)return o;let a=this.bits,l=Math.floor(i/32),u=~a[l];u&=~((1<<(i&31))-1);let d=a.length;for(;u===0;){if(++l===d)return o;u=~a[l]}let h=l*32+Q.numberOfTrailingZeros(u);return h>o?o:h}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new v;if(o===i)return;o--;let a=Math.floor(i/32),l=Math.floor(o/32),u=this.bits;for(let d=a;d<=l;d++){let h=d>a?0:i&31,y=(2<<(d<l?31:o&31))-(1<<h);u[d]|=y}}clear(){let i=this.bits.length,o=this.bits;for(let a=0;a<i;a++)o[a]=0}isRange(i,o,a){if(o<i||i<0||o>this.size)throw new v;if(o===i)return!0;o--;let l=Math.floor(i/32),u=Math.floor(o/32),d=this.bits;for(let h=l;h<=u;h++){let p=h>l?0:i&31,E=(2<<(h<u?31:o&31))-(1<<p)&4294967295;if((d[h]&E)!==(a?E:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let a=o;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){let o=i.size;this.ensureCapacity(this.size+o);for(let a=0;a<o;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new v("Sizes don't match");let o=this.bits;for(let a=0,l=o.length;a<l;a++)o[a]^=i.bits[a]}toBytes(i,o,a,l){for(let u=0;u<l;u++){let d=0;for(let h=0;h<8;h++)this.get(i)&&(d|=1<<7-h),i++;o[a+u]=d}}getBitArray(){return this.bits}reverse(){let i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),a=o+1,l=this.bits;for(let u=0;u<a;u++){let d=l[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[o-u]=d}if(this.size!==a*32){let u=a*32-this.size,d=i[0]>>>u;for(let h=1;h<a;h++){let p=i[h];d|=p<<32-u,i[h-1]=d,d=p>>>u}i[a-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof ye))return!1;let o=i;return this.size===o.size&&W.equals(this.bits,o.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let i="";for(let o=0,a=this.size;o<a;o++)(o&7)===0&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new ye(this.size,this.bits.slice())}}var Ze=function(w){return w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",w}(Ze||{}),Se=Ze;let Y=(()=>{class w extends g{static getFormatInstance(){return new w}}return w.kind="FormatException",w})();var Me=function(w){return w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR",w}(Me||{});class K{constructor(i,o,a,...l){this.valueIdentifier=i,this.name=a,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=l,K.VALUE_IDENTIFIER_TO_ECI.set(i,this),K.NAME_TO_ECI.set(a,this);let u=this.values;for(let d=0,h=u.length;d!==h;d++){let p=u[d];K.VALUES_TO_ECI.set(p,this)}for(let d of l)K.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new Y("incorect value");let o=K.VALUES_TO_ECI.get(i);if(o===void 0)throw new Y("incorect value");return o}static getCharacterSetECIByName(i){let o=K.NAME_TO_ECI.get(i);if(o===void 0)throw new Y("incorect value");return o}equals(i){if(!(i instanceof K))return!1;let o=i;return this.getName()===o.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Me.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Me.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Me.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Me.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Me.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Me.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Me.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Me.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Me.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Me.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Me.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Me.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Me.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Me.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Me.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Me.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Me.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Me.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Me.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Me.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Me.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Me.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Me.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Me.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Me.Big5,28,"Big5"),K.GB18030=new K(Me.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Me.EUC_KR,30,"EUC_KR","EUC-KR");let Qr=(()=>{class w extends g{}return w.kind="UnsupportedOperationException",w})();class st{static decode(i,o){let a=this.encodingName(o);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!st.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){let a=this.encodingName(o);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof K?i:K.getCharacterSetECIByName(i)}static decodeFallback(i,o){let a=this.encodingCharacterSet(o);if(st.isDecodeFallbackSupported(a)){let l="";for(let u=0,d=i.length;u<d;u++){let h=i[u].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(a.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Qr(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(K.UTF8)||i.equals(K.ISO8859_1)||i.equals(K.ASCII)}static encodeFallback(i){let a=btoa(unescape(encodeURIComponent(i))).split(""),l=[];for(let u=0;u<a.length;u++)l.push(a[u].charCodeAt(0));return new Uint8Array(l)}}class we{static castAsNonUtf8Char(i,o=null){let a=o?o.getName():this.ISO88591;return st.decode(new Uint8Array([i]),a)}static guessEncoding(i,o){if(o!=null&&o.get(Se.CHARACTER_SET)!==void 0)return o.get(Se.CHARACTER_SET).toString();let a=i.length,l=!0,u=!0,d=!0,h=0,p=0,y=0,E=0,I=0,S=0,T=0,N=0,O=0,k=0,P=0,Z=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let te=0;te<a&&(l||u||d);te++){let z=i[te]&255;d&&(h>0?(z&128)===0?d=!1:h--:(z&128)!==0&&((z&64)===0?d=!1:(h++,(z&32)===0?p++:(h++,(z&16)===0?y++:(h++,(z&8)===0?E++:d=!1))))),l&&(z>127&&z<160?l=!1:z>159&&(z<192||z===215||z===247)&&P++),u&&(I>0?z<64||z===127||z>252?u=!1:I--:z===128||z===160||z>239?u=!1:z>160&&z<224?(S++,N=0,T++,T>O&&(O=T)):z>127?(I++,T=0,N++,N>k&&(k=N)):(T=0,N=0))}return d&&h>0&&(d=!1),u&&I>0&&(u=!1),d&&(Z||p+y+E>0)?we.UTF8:u&&(we.ASSUME_SHIFT_JIS||O>=3||k>=3)?we.SHIFT_JIS:l&&u?O===2&&S===2||P*10>=a?we.SHIFT_JIS:we.ISO88591:l?we.ISO88591:u?we.SHIFT_JIS:d?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let a=-1;function l(d,h,p,y,E,I){if(d==="%%")return"%";if(o[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let S=E?parseInt(E.substr(1)):void 0,T;switch(I){case"s":T=o[a];break;case"c":T=o[a][0];break;case"f":T=parseFloat(o[a]).toFixed(d);break;case"p":T=parseFloat(o[a]).toPrecision(d);break;case"e":T=parseFloat(o[a]).toExponential(d);break;case"x":T=parseInt(o[a]).toString(S||16);break;case"d":T=parseFloat(parseInt(o[a],S||10).toPrecision(d)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let N=parseInt(p),O=p&&p[0]+""=="0"?"0":" ";for(;T.length<N;)T=h!==void 0?T+O:O+T;return T}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,l)}static getBytes(i,o){return st.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}we.SHIFT_JIS=K.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=K.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=K.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class Ne{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=we.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,a){for(let l=o;o<o+a;l++)this.append(i[l]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class ve{constructor(i,o,a,l){if(this.width=i,this.height=o,this.rowSize=a,this.bits=l,o==null&&(o=i),this.height=o,i<1||o<1)throw new v("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){let o=i.length,a=i[0].length,l=new ve(a,o);for(let u=0;u<o;u++){let d=i[u];for(let h=0;h<a;h++)d[h]&&l.set(h,u)}return l}static parseFromString(i,o,a){if(i===null)throw new v("stringRepresentation cannot be null");let l=new Array(i.length),u=0,d=0,h=-1,p=0,y=0;for(;y<i.length;)if(i.charAt(y)===`
`||i.charAt(y)==="\r"){if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new v("row lengths do not match");d=u,p++}y++}else if(i.substring(y,y+o.length)===o)y+=o.length,l[u]=!0,u++;else if(i.substring(y,y+a.length)===a)y+=a.length,l[u]=!1,u++;else throw new v("illegal character encountered: "+i.substring(y));if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new v("row lengths do not match");p++}let E=new ve(h,p);for(let I=0;I<u;I++)l[I]&&E.set(Math.floor(I%h),Math.floor(I/h));return E}get(i,o){let a=o*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,o){let a=o*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,o){let a=o*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,o){let a=o*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new v("input matrix dimensions do not match");let o=new ye(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let u=0,d=this.height;u<d;u++){let h=u*a,p=i.getRow(u,o).getBitArray();for(let y=0;y<a;y++)l[h+y]^=p[y]}}clear(){let i=this.bits,o=i.length;for(let a=0;a<o;a++)i[a]=0}setRegion(i,o,a,l){if(o<0||i<0)throw new v("Left and top must be nonnegative");if(l<1||a<1)throw new v("Height and width must be at least 1");let u=i+a,d=o+l;if(d>this.height||u>this.width)throw new v("The region must fit inside the matrix");let h=this.rowSize,p=this.bits;for(let y=o;y<d;y++){let E=y*h;for(let I=i;I<u;I++)p[E+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new ye(this.width):o.clear();let a=this.rowSize,l=this.bits,u=i*a;for(let d=0;d<a;d++)o.setBulk(d*32,l[u+d]);return o}setRow(i,o){R.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){let i=this.getWidth(),o=this.getHeight(),a=new ye(i),l=new ye(i);for(let u=0,d=Math.floor((o+1)/2);u<d;u++)a=this.getRow(u,a),l=this.getRow(o-1-u,l),a.reverse(),l.reverse(),this.setRow(u,l),this.setRow(o-1-u,a)}getEnclosingRectangle(){let i=this.width,o=this.height,a=this.rowSize,l=this.bits,u=i,d=o,h=-1,p=-1;for(let y=0;y<o;y++)for(let E=0;E<a;E++){let I=l[y*a+E];if(I!==0){if(y<d&&(d=y),y>p&&(p=y),E*32<u){let S=0;for(;(I<<31-S&4294967295)===0;)S++;E*32+S<u&&(u=E*32+S)}if(E*32+31>h){let S=31;for(;!(I>>>S);)S--;E*32+S>h&&(h=E*32+S)}}}return h<u||p<d?null:Int32Array.from([u,d,h-u+1,p-d+1])}getTopLeftOnBit(){let i=this.rowSize,o=this.bits,a=0;for(;a<o.length&&o[a]===0;)a++;if(a===o.length)return null;let l=a/i,u=a%i*32,d=o[a],h=0;for(;(d<<31-h&4294967295)===0;)h++;return u+=h,Int32Array.from([u,l])}getBottomRightOnBit(){let i=this.rowSize,o=this.bits,a=o.length-1;for(;a>=0&&o[a]===0;)a--;if(a<0)return null;let l=Math.floor(a/i),u=Math.floor(a%i)*32,d=o[a],h=31;for(;!(d>>>h);)h--;return u+=h,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ve))return!1;let o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&W.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+W.hashCode(this.bits),i}toString(i="X ",o="  ",a=`
`){return this.buildToString(i,o,a)}buildToString(i,o,a){let l=new Ne;for(let u=0,d=this.height;u<d;u++){for(let h=0,p=this.width;h<p;h++)l.append(this.get(h,u)?i:o);l.append(a)}return l.toString()}clone(){return new ve(this.width,this.height,this.rowSize,this.bits.slice())}}let H=(()=>{class w extends g{static getNotFoundInstance(){return new w}}return w.kind="NotFoundException",w})();class jt extends U{constructor(i){super(i),this.luminances=jt.EMPTY,this.buckets=new Int32Array(jt.LUMINANCE_BUCKETS)}getBlackRow(i,o){let a=this.getLuminanceSource(),l=a.getWidth();o==null||o.getSize()<l?o=new ye(l):o.clear(),this.initArrays(l);let u=a.getRow(i,this.luminances),d=this.buckets;for(let p=0;p<l;p++)d[(u[p]&255)>>jt.LUMINANCE_SHIFT]++;let h=jt.estimateBlackPoint(d);if(l<3)for(let p=0;p<l;p++)(u[p]&255)<h&&o.set(p);else{let p=u[0]&255,y=u[1]&255;for(let E=1;E<l-1;E++){let I=u[E+1]&255;(y*4-p-I)/2<h&&o.set(E),p=y,y=I}}return o}getBlackMatrix(){let i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight(),l=new ve(o,a);this.initArrays(o);let u=this.buckets;for(let p=1;p<5;p++){let y=Math.floor(a*p/5),E=i.getRow(y,this.luminances),I=Math.floor(o*4/5);for(let S=Math.floor(o/5);S<I;S++){let T=E[S]&255;u[T>>jt.LUMINANCE_SHIFT]++}}let d=jt.estimateBlackPoint(u),h=i.getMatrix();for(let p=0;p<a;p++){let y=p*o;for(let E=0;E<o;E++)(h[y+E]&255)<d&&l.set(E,p)}return l}createBinarizer(i){return new jt(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));let o=this.buckets;for(let a=0;a<jt.LUMINANCE_BUCKETS;a++)o[a]=0}static estimateBlackPoint(i){let o=i.length,a=0,l=0,u=0;for(let E=0;E<o;E++)i[E]>u&&(l=E,u=i[E]),i[E]>a&&(a=i[E]);let d=0,h=0;for(let E=0;E<o;E++){let I=E-l,S=i[E]*I*I;S>h&&(d=E,h=S)}if(l>d){let E=l;l=d,d=E}if(d-l<=o/16)throw new H;let p=d-1,y=-1;for(let E=d-1;E>l;E--){let I=E-l,S=I*I*(d-E)*(a-i[E]);S>y&&(p=E,y=S)}return p<<jt.LUMINANCE_SHIFT}}jt.LUMINANCE_BITS=5,jt.LUMINANCE_SHIFT=8-jt.LUMINANCE_BITS,jt.LUMINANCE_BUCKETS=1<<jt.LUMINANCE_BITS,jt.EMPTY=Uint8ClampedArray.from([0]);class _e extends jt{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let i=this.getLuminanceSource(),o=i.getWidth(),a=i.getHeight();if(o>=_e.MINIMUM_DIMENSION&&a>=_e.MINIMUM_DIMENSION){let l=i.getMatrix(),u=o>>_e.BLOCK_SIZE_POWER;(o&_e.BLOCK_SIZE_MASK)!==0&&u++;let d=a>>_e.BLOCK_SIZE_POWER;(a&_e.BLOCK_SIZE_MASK)!==0&&d++;let h=_e.calculateBlackPoints(l,u,d,o,a),p=new ve(o,a);_e.calculateThresholdForBlock(l,u,d,o,a,h,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new _e(i)}static calculateThresholdForBlock(i,o,a,l,u,d,h){let p=u-_e.BLOCK_SIZE,y=l-_e.BLOCK_SIZE;for(let E=0;E<a;E++){let I=E<<_e.BLOCK_SIZE_POWER;I>p&&(I=p);let S=_e.cap(E,2,a-3);for(let T=0;T<o;T++){let N=T<<_e.BLOCK_SIZE_POWER;N>y&&(N=y);let O=_e.cap(T,2,o-3),k=0;for(let Z=-2;Z<=2;Z++){let te=d[S+Z];k+=te[O-2]+te[O-1]+te[O]+te[O+1]+te[O+2]}let P=k/25;_e.thresholdBlock(i,N,I,P,l,h)}}}static cap(i,o,a){return i<o?o:i>a?a:i}static thresholdBlock(i,o,a,l,u,d){for(let h=0,p=a*u+o;h<_e.BLOCK_SIZE;h++,p+=u)for(let y=0;y<_e.BLOCK_SIZE;y++)(i[p+y]&255)<=l&&d.set(o+y,a+h)}static calculateBlackPoints(i,o,a,l,u){let d=u-_e.BLOCK_SIZE,h=l-_e.BLOCK_SIZE,p=new Array(a);for(let y=0;y<a;y++){p[y]=new Int32Array(o);let E=y<<_e.BLOCK_SIZE_POWER;E>d&&(E=d);for(let I=0;I<o;I++){let S=I<<_e.BLOCK_SIZE_POWER;S>h&&(S=h);let T=0,N=255,O=0;for(let P=0,Z=E*l+S;P<_e.BLOCK_SIZE;P++,Z+=l){for(let te=0;te<_e.BLOCK_SIZE;te++){let z=i[Z+te]&255;T+=z,z<N&&(N=z),z>O&&(O=z)}if(O-N>_e.MIN_DYNAMIC_RANGE)for(P++,Z+=l;P<_e.BLOCK_SIZE;P++,Z+=l)for(let te=0;te<_e.BLOCK_SIZE;te++)T+=i[Z+te]&255}let k=T>>_e.BLOCK_SIZE_POWER*2;if(O-N<=_e.MIN_DYNAMIC_RANGE&&(k=N/2,y>0&&I>0)){let P=(p[y-1][I]+2*p[y][I-1]+p[y-1][I-1])/4;N<P&&(k=P)}p[y][I]=k}}return p}}_e.BLOCK_SIZE_POWER=3,_e.BLOCK_SIZE=1<<_e.BLOCK_SIZE_POWER,_e.BLOCK_SIZE_MASK=_e.BLOCK_SIZE-1,_e.MINIMUM_DIMENSION=_e.BLOCK_SIZE*5,_e.MIN_DYNAMIC_RANGE=24;class Kr{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,a,l){throw new Qr("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Qr("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Qr("This luminance source does not support rotation by 45 degrees.")}toString(){let i=new Uint8ClampedArray(this.width),o=new Ne;for(let a=0;a<this.height;a++){let l=this.getRow(a,i);for(let u=0;u<this.width;u++){let d=l[u]&255,h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",o.append(h)}o.append(`
`)}return o.toString()}}class dr extends Kr{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){let a=this.delegate.getRow(i,o),l=this.getWidth();for(let u=0;u<l;u++)a[u]=255-(a[u]&255);return a}getMatrix(){let i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(o);for(let l=0;l<o;l++)a[l]=255-(i[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,a,l){return new dr(this.delegate.crop(i,o,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new dr(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new dr(this.delegate.rotateCounterClockwise45())}}class Jn extends Kr{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Jn.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){let o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Jn.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,a){let l=new Uint8ClampedArray(o*a);for(let u=0,d=0,h=i.length;u<h;u+=4,d++){let p;if(i[u+3]===0)p=255;else{let E=i[u],I=i[u+1],S=i[u+2];p=306*E+601*I+117*S+512>>10}l[d]=p}return l}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);let a=this.getWidth(),l=i*a;return o===null?o=this.buffer.slice(l,l+a):(o.length<a&&(o=new Uint8ClampedArray(a)),o.set(this.buffer.slice(l,l+a))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,a,l){return super.crop(i,o,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){let o=this.getTempCanvasElement(),a=o.getContext("2d"),l=i*Jn.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*d),p=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*d);return o.width=h,o.height=p,a.translate(h/2,p/2),a.rotate(l),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=Jn.makeBufferFromCanvasImageData(o),this}invert(){return new dr(this)}}Jn.DEGREE_TO_RADIANS=Math.PI/180;class to{constructor(i,o,a){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var gt=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(w,i,o,a){function l(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function h(E){try{y(a.next(E))}catch(I){d(I)}}function p(E){try{y(a.throw(E))}catch(I){d(I)}}function y(E){E.done?u(E.value):l(E.value).then(h,p)}y((a=a.apply(w,i||[])).next())})};class Dn{constructor(i,o=500,a){this.reader=i,this.timeBetweenScansMillis=o,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return gt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(let a of i){let l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;let u=a.deviceId||a.id,d=a.label||`Video device ${o.length+1}`,h=a.groupId,p={deviceId:u,label:d,kind:l,groupId:h};o.push(p)}return o})}getVideoInputDevices(){return gt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new to(o.deviceId,o.label))})}findDeviceById(i){return gt(this,void 0,void 0,function*(){let o=yield this.listVideoInputDevices();return o?o.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return gt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return gt(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};let l={video:a};return yield this.decodeOnceFromConstraints(l,o)})}decodeOnceFromConstraints(i,o){return gt(this,void 0,void 0,function*(){let a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,o)})}decodeOnceFromStream(i,o){return gt(this,void 0,void 0,function*(){this.reset();let a=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,o,a){return gt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,a)})}decodeFromVideoDevice(i,o,a){return gt(this,void 0,void 0,function*(){let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};let u={video:l};return yield this.decodeFromConstraints(u,o,a)})}decodeFromConstraints(i,o,a){return gt(this,void 0,void 0,function*(){let l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(l,o,a)})}decodeFromStream(i,o,a){return gt(this,void 0,void 0,function*(){this.reset();let l=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return gt(this,void 0,void 0,function*(){let a=this.prepareVideoElement(o);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((o,a)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return gt(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){let a=document.getElementById(i);if(!a)throw new x(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==o.toLowerCase())throw new x(`element with id '${i}' must be an ${o} element`);return a}decodeFromImage(i,o){if(!i&&!o)throw new x("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new x("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,a){if(i===void 0&&o===void 0)throw new x("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new x("An image element must be provided.");this.reset();let o=this.prepareImageElement(i);this.imageElement=o;let a;return this.isImageLoaded(o)?a=this.decodeOnce(o,!1,!0):a=this._decodeOnLoadImage(o),a}decodeFromVideoElement(i){let o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){let a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,o)}_decodeFromVideoElementSetup(i){if(!i)throw new x("A video element must be provided.");this.reset();let o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();let o=this.prepareImageElement();this.imageElement=o;let a=this._decodeOnLoadImage(o);return o.src=i,a}decodeFromVideoUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();let o=this.prepareVideoElement(),a=this.decodeFromVideoElement(o);return o.src=i,a}decodeFromVideoUrlContinuously(i,o){if(!i)throw new x("An URL must be provided.");this.reset();let a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,o);return a.src=i,l}_decodeOnLoadImage(i){return new Promise((o,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return gt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return gt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,a=!0){this._stopAsyncDecode=!1;let l=(u,d)=>{if(this._stopAsyncDecode){d(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let h=this.decode(i);u(h)}catch(h){let p=o&&h instanceof H,E=(h instanceof D||h instanceof Y)&&a;if(p||E)return setTimeout(l,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>l(u,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;let a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let l=this.decode(i);o(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){o(null,l);let u=l instanceof D||l instanceof Y,d=l instanceof H;(u||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){let o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,a){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,a=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){let o=this.getCaptureCanvasContext(i);this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);let a=this.getCaptureCanvas(i),l=new Jn(a),u=new _e(l);return new A(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){let a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){let o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let o=document.createElement("canvas"),a,l;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,l=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,l=i.naturalHeight||i.height)),o.style.width=a+"px",o.style.height=l+"px",o.width=a,o.height=l,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Dt{constructor(i,o,a=o==null?0:8*o.length,l,u,d=R.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=a,this.resultPoints=l,this.format=u,this.timestamp=d,this.text=i,this.rawBytes=o,a==null?this.numBits=o==null?0:8*o.length:this.numBits=a,this.resultPoints=l,this.format=u,this.resultMetadata=null,d==null?this.timestamp=R.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){let o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){let a=new Array(o.length+i.length);R.arraycopy(o,0,a,0,o.length),R.arraycopy(i,0,a,o.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xl=function(w){return w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",w}(Xl||{}),fe=Xl,Ai=function(w){return w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",w}(Ai||{}),Ft=Ai;class br{constructor(i,o,a,l,u=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Jr{exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class un{constructor(i,o){if(o.length===0)throw new v;this.field=i;let a=o.length;if(a>1&&o[0]===0){let l=1;for(;l<a&&o[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),R.arraycopy(o,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);let o=this.coefficients,a;if(i===1){a=0;for(let d=0,h=o.length;d!==h;d++){let p=o[d];a=Jr.addOrSubtract(a,p)}return a}a=o[0];let l=o.length,u=this.field;for(let d=1;d<l;d++)a=Jr.addOrSubtract(u.multiply(i,a),o[d]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){let d=o;o=a,a=d}let l=new Int32Array(a.length),u=a.length-o.length;R.arraycopy(a,0,l,0,u);for(let d=u;d<a.length;d++)l[d]=Jr.addOrSubtract(o[d-u],a[d]);return new un(this.field,l)}multiply(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();let o=this.coefficients,a=o.length,l=i.coefficients,u=l.length,d=new Int32Array(a+u-1),h=this.field;for(let p=0;p<a;p++){let y=o[p];for(let E=0;E<u;E++)d[p+E]=Jr.addOrSubtract(d[p+E],h.multiply(y,l[E]))}return new un(h,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;let o=this.coefficients.length,a=this.field,l=new Int32Array(o),u=this.coefficients;for(let d=0;d<o;d++)l[d]=a.multiply(u[d],i);return new un(a,l)}multiplyByMonomial(i,o){if(i<0)throw new v;if(o===0)return this.field.getZero();let a=this.coefficients,l=a.length,u=new Int32Array(l+i),d=this.field;for(let h=0;h<l;h++)u[h]=d.multiply(a[h],o);return new un(d,u)}divide(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new v("Divide by 0");let o=this.field,a=o.getZero(),l=this,u=i.getCoefficient(i.getDegree()),d=o.inverse(u);for(;l.getDegree()>=i.getDegree()&&!l.isZero();){let h=l.getDegree()-i.getDegree(),p=o.multiply(l.getCoefficient(l.getDegree()),d),y=i.multiplyByMonomial(h,p),E=o.buildMonomial(h,p);a=a.addOrSubtract(E),l=l.addOrSubtract(y)}return[a,l]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),o===0||a!==1){let l=this.field.log(a);l===0?i+="1":l===1?i+="a":(i+="a^",i+=l)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}let no=(()=>{class w extends g{}return w.kind="ArithmeticException",w})();class Xe extends Jr{constructor(i,o,a){super(),this.primitive=i,this.size=o,this.generatorBase=a;let l=new Int32Array(o),u=1;for(let h=0;h<o;h++)l[h]=u,u*=2,u>=o&&(u^=i,u&=o-1);this.expTable=l;let d=new Int32Array(o);for(let h=0;h<o-1;h++)d[l[h]]=h;this.logTable=d,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new v;if(o===0)return this.zero;let a=new Int32Array(i+1);return a[0]=o,new un(this,a)}inverse(i){if(i===0)throw new no;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Xe.AZTEC_DATA_12=new Xe(4201,4096,1),Xe.AZTEC_DATA_10=new Xe(1033,1024,1),Xe.AZTEC_DATA_6=new Xe(67,64,1),Xe.AZTEC_PARAM=new Xe(19,16,1),Xe.QR_CODE_FIELD_256=new Xe(285,256,0),Xe.DATA_MATRIX_FIELD_256=new Xe(301,256,1),Xe.AZTEC_DATA_8=Xe.DATA_MATRIX_FIELD_256,Xe.MAXICODE_FIELD_64=Xe.AZTEC_DATA_6;let Ir=(()=>{class w extends g{}return w.kind="ReedSolomonException",w})(),fr=(()=>{class w extends g{}return w.kind="IllegalStateException",w})();class Wt{constructor(i){this.field=i}decode(i,o){let a=this.field,l=new un(a,i),u=new Int32Array(o),d=!0;for(let T=0;T<o;T++){let N=l.evaluateAt(a.exp(T+a.getGeneratorBase()));u[u.length-1-T]=N,N!==0&&(d=!1)}if(d)return;let h=new un(a,u),p=this.runEuclideanAlgorithm(a.buildMonomial(o,1),h,o),y=p[0],E=p[1],I=this.findErrorLocations(y),S=this.findErrorMagnitudes(E,I);for(let T=0;T<I.length;T++){let N=i.length-1-a.log(I[T]);if(N<0)throw new Ir("Bad error location");i[N]=Xe.addOrSubtract(i[N],S[T])}}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){let T=i;i=o,o=T}let l=this.field,u=i,d=o,h=l.getZero(),p=l.getOne();for(;d.getDegree()>=(a/2|0);){let T=u,N=h;if(u=d,h=p,u.isZero())throw new Ir("r_{i-1} was zero");d=T;let O=l.getZero(),k=u.getCoefficient(u.getDegree()),P=l.inverse(k);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let Z=d.getDegree()-u.getDegree(),te=l.multiply(d.getCoefficient(d.getDegree()),P);O=O.addOrSubtract(l.buildMonomial(Z,te)),d=d.addOrSubtract(u.multiplyByMonomial(Z,te))}if(p=O.multiply(h).addOrSubtract(N),d.getDegree()>=u.getDegree())throw new fr("Division algorithm failed to reduce polynomial?")}let y=p.getCoefficient(0);if(y===0)throw new Ir("sigmaTilde(0) was zero");let E=l.inverse(y),I=p.multiplyScalar(E),S=d.multiplyScalar(E);return[I,S]}findErrorLocations(i){let o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);let a=new Int32Array(o),l=0,u=this.field;for(let d=1;d<u.getSize()&&l<o;d++)i.evaluateAt(d)===0&&(a[l]=u.inverse(d),l++);if(l!==o)throw new Ir("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,o){let a=o.length,l=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){let h=u.inverse(o[d]),p=1;for(let y=0;y<a;y++)if(d!==y){let E=u.multiply(o[y],h),I=(E&1)===0?E|1:E&-2;p=u.multiply(p,I)}l[d]=u.multiply(i.evaluateAt(h),u.inverse(p)),u.getGeneratorBase()!==0&&(l[d]=u.multiply(l[d],h))}return l}}var mt=function(w){return w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY",w}(mt||{});let xa=(()=>{class w{decode(o){this.ddata=o;let a=o.getBits(),l=this.extractBits(a),u=this.correctBits(l),d=w.convertBoolArrayToByteArray(u),h=w.getEncodedData(u),p=new br(d,h,null,null);return p.setNumBits(u.length),p}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let a=o.length,l=mt.UPPER,u=mt.UPPER,d="",h=0;for(;h<a;)if(u===mt.BINARY){if(a-h<5)break;let p=w.readCode(o,h,5);if(h+=5,p===0){if(a-h<11)break;p=w.readCode(o,h,11)+31,h+=11}for(let y=0;y<p;y++){if(a-h<8){h=a;break}let E=w.readCode(o,h,8);d+=we.castAsNonUtf8Char(E),h+=8}u=l}else{let p=u===mt.DIGIT?4:5;if(a-h<p)break;let y=w.readCode(o,h,p);h+=p;let E=w.getCharacter(u,y);E.startsWith("CTRL_")?(l=u,u=w.getTable(E.charAt(5)),E.charAt(6)==="L"&&(l=u)):(d+=E,u=l)}return d}static getTable(o){switch(o){case"L":return mt.LOWER;case"P":return mt.PUNCT;case"M":return mt.MIXED;case"D":return mt.DIGIT;case"B":return mt.BINARY;case"U":default:return mt.UPPER}}static getCharacter(o,a){switch(o){case mt.UPPER:return w.UPPER_TABLE[a];case mt.LOWER:return w.LOWER_TABLE[a];case mt.MIXED:return w.MIXED_TABLE[a];case mt.PUNCT:return w.PUNCT_TABLE[a];case mt.DIGIT:return w.DIGIT_TABLE[a];default:throw new fr("Bad table")}}correctBits(o){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=Xe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=Xe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=Xe.AZTEC_DATA_10):(l=12,a=Xe.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=o.length/l;if(d<u)throw new Y;let h=o.length%l,p=new Int32Array(d);for(let T=0;T<d;T++,h+=l)p[T]=w.readCode(o,h,l);try{new Wt(a).decode(p,d-u)}catch(T){throw new Y(T)}let y=(1<<l)-1,E=0;for(let T=0;T<u;T++){let N=p[T];if(N===0||N===y)throw new Y;(N===1||N===y-1)&&E++}let I=new Array(u*l-E),S=0;for(let T=0;T<u;T++){let N=p[T];if(N===1||N===y-1)I.fill(N>1,S,S+l-1),S+=l-1;else for(let O=l-1;O>=0;--O)I[S++]=(N&1<<O)!==0}return I}extractBits(o){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,d=new Int32Array(u),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let p=0;p<d.length;p++)d[p]=p;else{let p=u+1+2*Q.truncDivision(Q.truncDivision(u,2)-1,15),y=u/2,E=Q.truncDivision(p,2);for(let I=0;I<y;I++){let S=I+Q.truncDivision(I,15);d[y-I-1]=E-S-1,d[y+I]=E+S+1}}for(let p=0,y=0;p<l;p++){let E=(l-p)*4+(a?9:12),I=p*2,S=u-1-I;for(let T=0;T<E;T++){let N=T*2;for(let O=0;O<2;O++)h[y+N+O]=o.get(d[I+O],d[I+T]),h[y+2*E+N+O]=o.get(d[I+T],d[S-O]),h[y+4*E+N+O]=o.get(d[S-O],d[S-T]),h[y+6*E+N+O]=o.get(d[S-T],d[I+O])}y+=E*8}return h}static readCode(o,a,l){let u=0;for(let d=a;d<a+l;d++)u<<=1,o[d]&&(u|=1);return u}static readByte(o,a){let l=o.length-a;return l>=8?w.readCode(o,a,8):w.readCode(o,a,l)<<8-l}static convertBoolArrayToByteArray(o){let a=new Uint8Array((o.length+7)/8);for(let l=0;l<a.length;l++)a[l]=w.readByte(o,8*l);return a}totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}return w.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],w.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],w.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],w.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],w.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],w})();class be{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,a,l){let u=i-a,d=o-l;return Math.sqrt(u*u+d*d)}static sum(i){let o=0;for(let a=0,l=i.length;a!==l;a++){let u=i[a];o+=u}return o}}class ei{static floatToIntBits(i){return i}}ei.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof le){let o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*ei.floatToIntBits(this.x)+ei.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){let o=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),l=this.distance(i[0],i[2]),u,d,h;if(a>=o&&a>=l?(d=i[0],u=i[1],h=i[2]):l>=a&&l>=o?(d=i[1],u=i[0],h=i[2]):(d=i[2],u=i[0],h=i[1]),this.crossProductZ(u,d,h)<0){let p=u;u=h,h=p}i[0]=u,i[1]=d,i[2]=h}static distance(i,o){return be.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,a){let l=o.x,u=o.y;return(a.x-l)*(i.y-u)-(a.y-u)*(i.x-l)}}class ro{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class $e extends ro{constructor(i,o,a,l,u){super(i,o),this.compact=a,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let sn=(()=>{class w{constructor(o,a,l,u){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),a==null&&(a=w.INIT_SIZE),l==null&&(l=o.getWidth()/2|0),u==null&&(u=o.getHeight()/2|0);let d=a/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let o=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,d=!1,h=!0,p=!1,y=!1,E=!1,I=!1,S=!1,T=this.width,N=this.height;for(;h;){h=!1;let O=!0;for(;(O||!y)&&a<T;)O=this.containsBlackPoint(l,u,a,!1),O?(a++,h=!0,y=!0):y||a++;if(a>=T){d=!0;break}let k=!0;for(;(k||!E)&&u<N;)k=this.containsBlackPoint(o,a,u,!0),k?(u++,h=!0,E=!0):E||u++;if(u>=N){d=!0;break}let P=!0;for(;(P||!I)&&o>=0;)P=this.containsBlackPoint(l,u,o,!1),P?(o--,h=!0,I=!0):I||o--;if(o<0){d=!0;break}let Z=!0;for(;(Z||!S)&&l>=0;)Z=this.containsBlackPoint(o,a,l,!0),Z?(l--,h=!0,S=!0):S||l--;if(l<0){d=!0;break}h&&(p=!0)}if(!d&&p){let O=a-o,k=null;for(let z=1;k===null&&z<O;z++)k=this.getBlackPointOnSegment(o,u-z,o+z,u);if(k==null)throw new H;let P=null;for(let z=1;P===null&&z<O;z++)P=this.getBlackPointOnSegment(o,l+z,o+z,l);if(P==null)throw new H;let Z=null;for(let z=1;Z===null&&z<O;z++)Z=this.getBlackPointOnSegment(a,l+z,a-z,l);if(Z==null)throw new H;let te=null;for(let z=1;te===null&&z<O;z++)te=this.getBlackPointOnSegment(a,u-z,a-z,u);if(te==null)throw new H;return this.centerEdges(te,k,Z,P)}else throw new H}getBlackPointOnSegment(o,a,l,u){let d=be.round(be.distance(o,a,l,u)),h=(l-o)/d,p=(u-a)/d,y=this.image;for(let E=0;E<d;E++){let I=be.round(o+E*h),S=be.round(a+E*p);if(y.get(I,S))return new le(I,S)}return null}centerEdges(o,a,l,u){let d=o.getX(),h=o.getY(),p=a.getX(),y=a.getY(),E=l.getX(),I=l.getY(),S=u.getX(),T=u.getY(),N=w.CORR;return d<this.width/2?[new le(S-N,T+N),new le(p+N,y+N),new le(E-N,I-N),new le(d+N,h-N)]:[new le(S+N,T+N),new le(p+N,y-N),new le(E-N,I+N),new le(d-N,h-N)]}containsBlackPoint(o,a,l,u){let d=this.image;if(u){for(let h=o;h<=a;h++)if(d.get(h,l))return!0}else for(let h=o;h<=a;h++)if(d.get(l,h))return!0;return!1}}return w.INIT_SIZE=10,w.CORR=1,w})();class er{static checkAndNudgePoints(i,o){let a=i.getWidth(),l=i.getHeight(),u=!0;for(let d=0;d<o.length&&u;d+=2){let h=Math.floor(o[d]),p=Math.floor(o[d+1]);if(h<-1||h>a||p<-1||p>l)throw new H;u=!1,h===-1?(o[d]=0,u=!0):h===a&&(o[d]=a-1,u=!0),p===-1?(o[d+1]=0,u=!0):p===l&&(o[d+1]=l-1,u=!0)}u=!0;for(let d=o.length-2;d>=0&&u;d-=2){let h=Math.floor(o[d]),p=Math.floor(o[d+1]);if(h<-1||h>a||p<-1||p>l)throw new H;u=!1,h===-1?(o[d]=0,u=!0):h===a&&(o[d]=a-1,u=!0),p===-1?(o[d+1]=0,u=!0):p===l&&(o[d+1]=l-1,u=!0)}}}class qt{constructor(i,o,a,l,u,d,h,p,y){this.a11=i,this.a21=o,this.a31=a,this.a12=l,this.a22=u,this.a32=d,this.a13=h,this.a23=p,this.a33=y}static quadrilateralToQuadrilateral(i,o,a,l,u,d,h,p,y,E,I,S,T,N,O,k){let P=qt.quadrilateralToSquare(i,o,a,l,u,d,h,p);return qt.squareToQuadrilateral(y,E,I,S,T,N,O,k).times(P)}transformPoints(i){let o=i.length,a=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,p=this.a23,y=this.a31,E=this.a32,I=this.a33;for(let S=0;S<o;S+=2){let T=i[S],N=i[S+1],O=u*T+p*N+I;i[S]=(a*T+d*N+y)/O,i[S+1]=(l*T+h*N+E)/O}}transformPointsWithValues(i,o){let a=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,p=this.a23,y=this.a31,E=this.a32,I=this.a33,S=i.length;for(let T=0;T<S;T++){let N=i[T],O=o[T],k=u*N+p*O+I;i[T]=(a*N+d*O+y)/k,o[T]=(l*N+h*O+E)/k}}static squareToQuadrilateral(i,o,a,l,u,d,h,p){let y=i-a+u-h,E=o-l+d-p;if(y===0&&E===0)return new qt(a-i,u-a,i,l-o,d-l,o,0,0,1);{let I=a-u,S=h-u,T=l-d,N=p-d,O=I*N-S*T,k=(y*N-S*E)/O,P=(I*E-y*T)/O;return new qt(a-i+k*a,h-i+P*h,i,l-o+k*l,p-o+P*p,o,k,P,1)}}static quadrilateralToSquare(i,o,a,l,u,d,h,p){return qt.squareToQuadrilateral(i,o,a,l,u,d,h,p).buildAdjoint()}buildAdjoint(){return new qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new qt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Pt extends er{sampleGrid(i,o,a,l,u,d,h,p,y,E,I,S,T,N,O,k,P,Z,te){let z=qt.quadrilateralToQuadrilateral(l,u,d,h,p,y,E,I,S,T,N,O,k,P,Z,te);return this.sampleGridWithTransform(i,o,a,z)}sampleGridWithTransform(i,o,a,l){if(o<=0||a<=0)throw new H;let u=new ve(o,a),d=new Float32Array(2*o);for(let h=0;h<a;h++){let p=d.length,y=h+.5;for(let E=0;E<p;E+=2)d[E]=E/2+.5,d[E+1]=y;l.transformPoints(d),er.checkAndNudgePoints(i,d);try{for(let E=0;E<p;E+=2)i.get(Math.floor(d[E]),Math.floor(d[E+1]))&&u.set(E/2,h)}catch{throw new H}}return u}}class vt{static setGridSampler(i){vt.gridSampler=i}static getInstance(){return vt.gridSampler}}vt.gridSampler=new Pt;class Yt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ea{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),a=this.getBullsEyeCorners(o);if(i){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new $e(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new H;let o=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(a,o);let l=0;for(let d=0;d<4;d++){let h=a[(this.shift+d)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,o){let a=0;i.forEach((l,u,d)=>{let h=(l>>o-2<<1)+(l&1);a=(a<<3)+h}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(Q.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new H}getCorrectedParameterData(i,o){let a,l;o?(a=7,l=2):(a=10,l=4);let u=a-l,d=new Int32Array(a);for(let p=a-1;p>=0;--p)d[p]=i&15,i>>=4;try{new Wt(Xe.AZTEC_PARAM).decode(d,u)}catch{throw new H}let h=0;for(let p=0;p<l;p++)h=(h<<4)+d[p];return h}getBullsEyeCorners(i){let o=i,a=i,l=i,u=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(o,d,1,-1),S=this.getFirstDifferent(a,d,1,1),T=this.getFirstDifferent(l,d,-1,1),N=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(N,I)*this.nbCenterLayers/(this.distancePoint(u,o)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(I,S,T,N))break}o=I,a=S,l=T,u=N,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let h=new le(o.getX()+.5,o.getY()-.5),p=new le(a.getX()+.5,a.getY()+.5),y=new le(l.getX()-.5,l.getY()+.5),E=new le(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,p,y,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,a,l;try{let h=new sn(this.image).detect();i=h[0],o=h[1],a=h[2],l=h[3]}catch{let p=this.image.getWidth()/2,y=this.image.getHeight()/2;i=this.getFirstDifferent(new Yt(p+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Yt(p+7,y+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Yt(p-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Yt(p-7,y-7),!1,-1,-1).toResultPoint()}let u=be.round((i.getX()+l.getX()+o.getX()+a.getX())/4),d=be.round((i.getY()+l.getY()+o.getY()+a.getY())/4);try{let h=new sn(this.image,15,u,d).detect();i=h[0],o=h[1],a=h[2],l=h[3]}catch{i=this.getFirstDifferent(new Yt(u+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Yt(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Yt(u-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Yt(u-7,d-7),!1,-1,-1).toResultPoint()}return u=be.round((i.getX()+l.getX()+o.getX()+a.getX())/4),d=be.round((i.getY()+l.getY()+o.getY()+a.getY())/4),new Yt(u,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,a,l,u){let d=vt.getInstance(),h=this.getDimension(),p=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return d.sampleGrid(i,h,h,p,p,y,p,y,y,p,y,o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(i,o,a){let l=0,u=this.distanceResultPoint(i,o),d=u/a,h=i.getX(),p=i.getY(),y=d*(o.getX()-i.getX())/u,E=d*(o.getY()-i.getY())/u;for(let I=0;I<a;I++)this.image.get(be.round(h+I*y),be.round(p+I*E))&&(l|=1<<a-I-1);return l}isWhiteOrBlackRectangle(i,o,a,l){let u=3;i=new Yt(i.getX()-u,i.getY()+u),o=new Yt(o.getX()-u,o.getY()-u),a=new Yt(a.getX()+u,a.getY()-u),l=new Yt(l.getX()+u,l.getY()+u);let d=this.getColor(l,i);if(d===0)return!1;let h=this.getColor(i,o);return h!==d||(h=this.getColor(o,a),h!==d)?!1:(h=this.getColor(a,l),h===d)}getColor(i,o){let a=this.distancePoint(i,o),l=(o.getX()-i.getX())/a,u=(o.getY()-i.getY())/a,d=0,h=i.getX(),p=i.getY(),y=this.image.get(i.getX(),i.getY()),E=Math.ceil(a);for(let S=0;S<E;S++)h+=l,p+=u,this.image.get(be.round(h),be.round(p))!==y&&d++;let I=d/a;return I>.1&&I<.9?0:I<=.1===y?1:-1}getFirstDifferent(i,o,a,l){let u=i.getX()+a,d=i.getY()+l;for(;this.isValid(u,d)&&this.image.get(u,d)===o;)u+=a,d+=l;for(u-=a,d-=l;this.isValid(u,d)&&this.image.get(u,d)===o;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===o;)d+=l;return d-=l,new Yt(u,d)}expandSquare(i,o,a){let l=a/(2*o),u=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),h=(i[0].getX()+i[2].getX())/2,p=(i[0].getY()+i[2].getY())/2,y=new le(h+l*u,p+l*d),E=new le(h-l*u,p-l*d);u=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),h=(i[1].getX()+i[3].getX())/2,p=(i[1].getY()+i[3].getY())/2;let I=new le(h+l*u,p+l*d),S=new le(h-l*u,p-l*d);return[y,I,E,S]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=be.round(i.getX()),a=be.round(i.getY());return this.isValid(o,a)}distancePoint(i,o){return be.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return be.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class Dr{decode(i,o=null){let a=null,l=new Ea(i.getBlackMatrix()),u=null,d=null;try{let E=l.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(o,u),d=new xa().decode(E)}catch(E){a=E}if(d==null)try{let E=l.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(o,u),d=new xa().decode(E)}catch(E){throw a??E}let h=new Dt(d.getText(),d.getRawBytes(),d.getNumBits(),u,fe.AZTEC,R.currentTimeMillis()),p=d.getByteSegments();p!=null&&h.putMetadata(Ft.BYTE_SEGMENTS,p);let y=d.getECLevel();return y!=null&&h.putMetadata(Ft.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(i,o){if(i!=null){let a=i.get(Se.NEED_RESULT_POINT_CALLBACK);a!=null&&o.forEach((l,u,d)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class dn extends Dn{constructor(i=500){super(new Dr,i)}}class Rt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Se.TRY_HARDER)===!0&&i.isRotateSupported()){let u=i.rotateCounterClockwise(),d=this.doDecode(u,o),h=d.getResultMetadata(),p=270;h!==null&&h.get(Ft.ORIENTATION)===!0&&(p=p+h.get(Ft.ORIENTATION)%360),d.putMetadata(Ft.ORIENTATION,p);let y=d.getResultPoints();if(y!==null){let E=u.getHeight();for(let I=0;I<y.length;I++)y[I]=new le(E-y[I].getY()-1,y[I].getX())}return d}else throw new H}}reset(){}doDecode(i,o){let a=i.getWidth(),l=i.getHeight(),u=new ye(a),d=o&&o.get(Se.TRY_HARDER)===!0,h=Math.max(1,l>>(d?8:5)),p;d?p=l:p=15;let y=Math.trunc(l/2);for(let E=0;E<p;E++){let I=Math.trunc((E+1)/2),S=(E&1)===0,T=y+h*(S?I:-I);if(T<0||T>=l)break;try{u=i.getBlackRow(T,u)}catch{continue}for(let N=0;N<2;N++){if(N===1&&(u.reverse(),o&&o.get(Se.NEED_RESULT_POINT_CALLBACK)===!0)){let O=new Map;o.forEach((k,P)=>O.set(P,k)),O.delete(Se.NEED_RESULT_POINT_CALLBACK),o=O}try{let O=this.decodeRow(T,u,o);if(N===1){O.putMetadata(Ft.ORIENTATION,180);let k=O.getResultPoints();k!==null&&(k[0]=new le(a-k[0].getX()-1,k[0].getY()),k[1]=new le(a-k[1].getX()-1,k[1].getY()))}return O}catch{}}}throw new H}static recordPattern(i,o,a){let l=a.length;for(let y=0;y<l;y++)a[y]=0;let u=i.getSize();if(o>=u)throw new H;let d=!i.get(o),h=0,p=o;for(;p<u;){if(i.get(p)!==d)a[h]++;else{if(++h===l)break;a[h]=1,d=!d}p++}if(!(h===l||h===l-1&&p===u))throw new H}static recordPatternInReverse(i,o,a){let l=a.length,u=i.get(o);for(;o>0&&l>=0;)i.get(--o)!==u&&(l--,u=!u);if(l>=0)throw new H;Rt.recordPattern(i,o+1,a)}static patternMatchVariance(i,o,a){let l=i.length,u=0,d=0;for(let y=0;y<l;y++)u+=i[y],d+=o[y];if(u<d)return Number.POSITIVE_INFINITY;let h=u/d;a*=h;let p=0;for(let y=0;y<l;y++){let E=i[y],I=o[y]*h,S=E>I?E-I:I-E;if(S>a)return Number.POSITIVE_INFINITY;p+=S}return p/u}}class ee extends Rt{static findStartPattern(i){let o=i.getSize(),a=i.getNextSet(0),l=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,h=!1,p=6;for(let y=a;y<o;y++)if(i.get(y)!==h)u[l]++;else{if(l===p-1){let E=ee.MAX_AVG_VARIANCE,I=-1;for(let S=ee.CODE_START_A;S<=ee.CODE_START_C;S++){let T=Rt.patternMatchVariance(u,ee.CODE_PATTERNS[S],ee.MAX_INDIVIDUAL_VARIANCE);T<E&&(E=T,I=S)}if(I>=0&&i.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,I]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,h=!h}throw new H}static decodeCode(i,o,a){Rt.recordPattern(i,a,o);let l=ee.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<ee.CODE_PATTERNS.length;d++){let h=ee.CODE_PATTERNS[d],p=this.patternMatchVariance(o,h,ee.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=d)}if(u>=0)return u;throw new H}decodeRow(i,o,a){let l=a&&a.get(Se.ASSUME_GS1)===!0,u=ee.findStartPattern(o),d=u[2],h=0,p=new Uint8Array(20);p[h++]=d;let y;switch(d){case ee.CODE_START_A:y=ee.CODE_CODE_A;break;case ee.CODE_START_B:y=ee.CODE_CODE_B;break;case ee.CODE_START_C:y=ee.CODE_CODE_C;break;default:throw new Y}let E=!1,I=!1,S="",T=u[0],N=u[1],O=Int32Array.from([0,0,0,0,0,0]),k=0,P=0,Z=d,te=0,z=!0,Fe=!1,Ie=!1;for(;!E;){let Pi=I;switch(I=!1,k=P,P=ee.decodeCode(o,O,N),p[h++]=P,P!==ee.CODE_STOP&&(z=!0),P!==ee.CODE_STOP&&(te++,Z+=te*P),T=N,N+=O.reduce((Dc,Rf)=>Dc+Rf,0),P){case ee.CODE_START_A:case ee.CODE_START_B:case ee.CODE_START_C:throw new Y}switch(y){case ee.CODE_CODE_A:if(P<64)Ie===Fe?S+=String.fromCharCode(32+P):S+=String.fromCharCode(32+P+128),Ie=!1;else if(P<96)Ie===Fe?S+=String.fromCharCode(P-64):S+=String.fromCharCode(P+64),Ie=!1;else switch(P!==ee.CODE_STOP&&(z=!1),P){case ee.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_FNC_2:case ee.CODE_FNC_3:break;case ee.CODE_FNC_4_A:!Fe&&Ie?(Fe=!0,Ie=!1):Fe&&Ie?(Fe=!1,Ie=!1):Ie=!0;break;case ee.CODE_SHIFT:I=!0,y=ee.CODE_CODE_B;break;case ee.CODE_CODE_B:y=ee.CODE_CODE_B;break;case ee.CODE_CODE_C:y=ee.CODE_CODE_C;break;case ee.CODE_STOP:E=!0;break}break;case ee.CODE_CODE_B:if(P<96)Ie===Fe?S+=String.fromCharCode(32+P):S+=String.fromCharCode(32+P+128),Ie=!1;else switch(P!==ee.CODE_STOP&&(z=!1),P){case ee.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_FNC_2:case ee.CODE_FNC_3:break;case ee.CODE_FNC_4_B:!Fe&&Ie?(Fe=!0,Ie=!1):Fe&&Ie?(Fe=!1,Ie=!1):Ie=!0;break;case ee.CODE_SHIFT:I=!0,y=ee.CODE_CODE_A;break;case ee.CODE_CODE_A:y=ee.CODE_CODE_A;break;case ee.CODE_CODE_C:y=ee.CODE_CODE_C;break;case ee.CODE_STOP:E=!0;break}break;case ee.CODE_CODE_C:if(P<100)P<10&&(S+="0"),S+=P;else switch(P!==ee.CODE_STOP&&(z=!1),P){case ee.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case ee.CODE_CODE_A:y=ee.CODE_CODE_A;break;case ee.CODE_CODE_B:y=ee.CODE_CODE_B;break;case ee.CODE_STOP:E=!0;break}break}Pi&&(y=y===ee.CODE_CODE_A?ee.CODE_CODE_B:ee.CODE_CODE_A)}let hn=N-T;if(N=o.getNextUnset(N),!o.isRange(N,Math.min(o.getSize(),N+(N-T)/2),!1))throw new H;if(Z-=te*k,Z%103!==k)throw new D;let Wn=S.length;if(Wn===0)throw new H;Wn>0&&z&&(y===ee.CODE_CODE_C?S=S.substring(0,Wn-2):S=S.substring(0,Wn-1));let pn=(u[1]+u[0])/2,dt=T+hn/2,tn=p.length,_n=new Uint8Array(tn);for(let Pi=0;Pi<tn;Pi++)_n[Pi]=p[Pi];let Fi=[new le(pn,i),new le(dt,i)];return new Dt(S,_n,0,Fi,fe.CODE_128,new Date().getTime())}}ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ee.MAX_AVG_VARIANCE=.25,ee.MAX_INDIVIDUAL_VARIANCE=.7,ee.CODE_SHIFT=98,ee.CODE_CODE_C=99,ee.CODE_CODE_B=100,ee.CODE_CODE_A=101,ee.CODE_FNC_1=102,ee.CODE_FNC_2=97,ee.CODE_FNC_3=96,ee.CODE_FNC_4_A=101,ee.CODE_FNC_4_B=100,ee.CODE_START_A=103,ee.CODE_START_B=104,ee.CODE_START_C=105,ee.CODE_STOP=106;let qo=(()=>{class w extends Rt{constructor(o=!1,a=!1){super(),this.usingCheckDigit=o,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=w.findAsteriskPattern(a,u),h=a.getNextSet(d[1]),p=a.getSize(),y,E;do{w.recordPattern(a,h,u);let k=w.toNarrowWidePattern(u);if(k<0)throw new H;y=w.patternToChar(k),this.decodeRowResult+=y,E=h;for(let P of u)h+=P;h=a.getNextSet(h)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let k of u)I+=k;let S=h-E-I;if(h!==p&&S*2<I)throw new H;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,P=0;for(let Z=0;Z<k;Z++)P+=w.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(k)!==w.ALPHABET_STRING.charAt(P%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new H;let T;this.extendedMode?T=w.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let N=(d[1]+d[0])/2,O=E+I/2;return new Dt(T,null,0,[new le(N,o),new le(O,o)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,a){let l=o.getSize(),u=o.getNextSet(0),d=0,h=u,p=!1,y=a.length;for(let E=u;E<l;E++)if(o.get(E)!==p)a[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(a)===w.ASTERISK_ENCODING&&o.isRange(Math.max(0,h-Math.floor((E-h)/2)),h,!1))return[h,E];h+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,p=!p}throw new H}static toNarrowWidePattern(o){let a=o.length,l=0,u;do{let d=2147483647;for(let y of o)y<d&&y>l&&(d=y);l=d,u=0;let h=0,p=0;for(let y=0;y<a;y++){let E=o[y];E>l&&(p|=1<<a-1-y,u++,h+=E)}if(u===3){for(let y=0;y<a&&u>0;y++){let E=o[y];if(E>l&&(u--,E*2>=h))return-1}return p}}while(u>3);return-1}static patternToChar(o){for(let a=0;a<w.CHARACTER_ENCODINGS.length;a++)if(w.CHARACTER_ENCODINGS[a]===o)return w.ALPHABET_STRING.charAt(a);if(o===w.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(o){let a=o.length,l="";for(let u=0;u<a;u++){let d=o.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=o.charAt(u+1),p="\0";switch(d){case"+":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)+32);else throw new Y;break;case"$":if(h>="A"&&h<="Z")p=String.fromCharCode(h.charCodeAt(0)-64);else throw new Y;break;case"%":if(h>="A"&&h<="E")p=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")p=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")p=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")p="\0";else if(h==="V")p="@";else if(h==="W")p="`";else if(h==="X"||h==="Y"||h==="Z")p="\x7F";else throw new Y;break;case"/":if(h>="A"&&h<="O")p=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")p=":";else throw new Y;break}l+=p,u++}else l+=d}return l}}return w.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",w.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],w.ASTERISK_ENCODING=148,w})();class it extends Rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,a){let l=this.decodeStart(o),u=this.decodeEnd(o),d=new Ne;it.decodeMiddle(o,l[1],u[0],d);let h=d.toString(),p=null;a!=null&&(p=a.get(Se.ALLOWED_LENGTHS)),p==null&&(p=it.DEFAULT_ALLOWED_LENGTHS);let y=h.length,E=!1,I=0;for(let N of p){if(y===N){E=!0;break}N>I&&(I=N)}if(!E&&y>I&&(E=!0),!E)throw new Y;let S=[new le(l[1],i),new le(u[0],i)];return new Dt(h,null,0,S,fe.ITF,new Date().getTime())}static decodeMiddle(i,o,a,l){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);o<a;){Rt.recordPattern(i,o,u);for(let y=0;y<5;y++){let E=2*y;d[y]=u[E],h[y]=u[E+1]}let p=it.decodeDigit(d);l.append(p.toString()),p=this.decodeDigit(h),l.append(p.toString()),u.forEach(function(y){o+=y})}}decodeStart(i){let o=it.skipWhiteSpace(i),a=it.findGuardPattern(i,o,it.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,o){let a=this.narrowLineWidth*10;a=a<o?a:o;for(let l=o-1;a>0&&l>=0&&!i.get(l);l--)a--;if(a!==0)throw new H}static skipWhiteSpace(i){let o=i.getSize(),a=i.getNextSet(0);if(a===o)throw new H;return a}decodeEnd(i){i.reverse();try{let o=it.skipWhiteSpace(i),a;try{a=it.findGuardPattern(i,o,it.END_PATTERN_REVERSED[0])}catch(u){u instanceof H&&(a=it.findGuardPattern(i,o,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let l=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-l,a}finally{i.reverse()}}static findGuardPattern(i,o,a){let l=a.length,u=new Int32Array(l),d=i.getSize(),h=!1,p=0,y=o;u.fill(0);for(let E=o;E<d;E++)if(i.get(E)!==h)u[p]++;else{if(p===l-1){if(Rt.patternMatchVariance(u,a,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[y,E];y+=u[0]+u[1],R.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,h=!h}throw new H}static decodeDigit(i){let o=it.MAX_AVG_VARIANCE,a=-1,l=it.PATTERNS.length;for(let u=0;u<l;u++){let d=it.PATTERNS[u],h=Rt.patternMatchVariance(i,d,it.MAX_INDIVIDUAL_VARIANCE);h<o?(o=h,a=u):h===o&&(a=-1)}if(a>=0)return a%10;throw new H}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends Rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,a,l=0,u=Int32Array.from([0,0,0]);for(;!o;){u=Int32Array.from([0,0,0]),a=xt.findGuardPattern(i,l,!1,this.START_END_PATTERN,u);let d=a[0];l=a[1];let h=d-(l-d);h>=0&&(o=i.isRange(h,d,!1))}return a}static checkChecksum(i){return xt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let a=parseInt(i.charAt(o-1),10);return xt.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let l=o-1;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;a+=u}a*=3;for(let l=o-2;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;a+=u}return(1e3-a)%10}static decodeEnd(i,o){return xt.findGuardPattern(i,o,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,a,l){return this.findGuardPattern(i,o,a,l,new Int32Array(l.length))}static findGuardPattern(i,o,a,l,u){let d=i.getSize();o=a?i.getNextUnset(o):i.getNextSet(o);let h=0,p=o,y=l.length,E=a;for(let I=o;I<d;I++)if(i.get(I)!==E)u[h]++;else{if(h===y-1){if(Rt.patternMatchVariance(u,l,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([p,I]);p+=u[0]+u[1];let S=u.slice(2,u.length-1);for(let T=0;T<h-1;T++)u[T]=S[T];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,E=!E}throw new H}static decodeDigit(i,o,a,l){this.recordPattern(i,a,o);let u=this.MAX_AVG_VARIANCE,d=-1,h=l.length;for(let p=0;p<h;p++){let y=l[p],E=Rt.patternMatchVariance(o,y,xt.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,d=p)}if(d>=0)return d;throw new H}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class io{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(o,a,l),d=l.toString(),h=io.parseExtensionString(d),p=[new le((a[0]+a[1])/2,i),new le(u,i)],y=new Dt(d,null,0,p,fe.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(i,o,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1],h=0;for(let y=0;y<5&&d<u;y++){let E=xt.decodeDigit(i,l,d,xt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let I of l)d+=I;E>=10&&(h|=1<<4-y),y!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==5)throw new H;let p=this.determineCheckDigit(h);if(io.extensionChecksum(a.toString())!==p)throw new H;return d}static extensionChecksum(i){let o=i.length,a=0;for(let l=o-2;l>=0;l-=2)a+=i.charAt(l).charCodeAt(0)-48;a*=3;for(let l=o-1;l>=0;l-=2)a+=i.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new H}static parseExtensionString(i){if(i.length!==5)return null;let o=io.parseExtension5String(i);return o==null?null:new Map([[Ft.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="\xA3";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let a=parseInt(i.substring(1)),l=(a/100).toString(),u=a%100,d=u<10?"0"+u:u.toString();return o+l+"."+d}}class ba{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,a){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(o,a,l),d=l.toString(),h=ba.parseExtensionString(d),p=[new le((a[0]+a[1])/2,i),new le(u,i)],y=new Dt(d,null,0,p,fe.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(i,o,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1],h=0;for(let p=0;p<2&&d<u;p++){let y=xt.decodeDigit(i,l,d,xt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let E of l)d+=E;y>=10&&(h|=1<<1-p),p!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(a.length!==2)throw new H;if(parseInt(a.toString())%4!==h)throw new H;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[Ft.ISSUE_NUMBER,parseInt(i)]])}}class Ql{static decodeRow(i,o,a){let l=xt.findGuardPattern(o,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new io().decodeRow(i,o,l)}catch{return new ba().decodeRow(i,o,l)}}}Ql.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ve extends xt{constructor(){super(),this.decodeRowStringBuffer="",Ve.L_AND_G_PATTERNS=Ve.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Ve.L_PATTERNS[i-10],a=new Int32Array(o.length);for(let l=0;l<o.length;l++)a[l]=o[o.length-l-1];Ve.L_AND_G_PATTERNS[i]=a}}decodeRow(i,o,a){let l=Ve.findStartGuardPattern(o),u=a==null?null:a.get(Se.NEED_RESULT_POINT_CALLBACK);if(u!=null){let z=new le((l[0]+l[1])/2,i);u.foundPossibleResultPoint(z)}let d=this.decodeMiddle(o,l,this.decodeRowStringBuffer),h=d.rowOffset,p=d.resultString;if(u!=null){let z=new le(h,i);u.foundPossibleResultPoint(z)}let y=this.decodeEnd(o,h);if(u!=null){let z=new le((y[0]+y[1])/2,i);u.foundPossibleResultPoint(z)}let E=y[1],I=E+(E-y[0]);if(I>=o.getSize()||!o.isRange(E,I,!1))throw new H;let S=p.toString();if(S.length<8)throw new Y;if(!Ve.checkChecksum(S))throw new D;let T=(l[1]+l[0])/2,N=(y[1]+y[0])/2,O=this.getBarcodeFormat(),k=[new le(T,i),new le(N,i)],P=new Dt(S,null,0,k,O,new Date().getTime()),Z=0;try{let z=Ql.decodeRow(i,o,y[1]);P.putMetadata(Ft.UPC_EAN_EXTENSION,z.getText()),P.putAllMetadata(z.getResultMetadata()),P.addResultPoints(z.getResultPoints()),Z=z.getText().length}catch{}let te=a==null?null:a.get(Se.ALLOWED_EAN_EXTENSIONS);if(te!=null){let z=!1;for(let Fe in te)if(Z.toString()===Fe){z=!0;break}if(!z)throw new H}return P}decodeEnd(i,o){return Ve.findGuardPattern(i,o,!1,Ve.START_END_PATTERN,new Int32Array(Ve.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ve.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let a=parseInt(i.charAt(o-1),10);return Ve.getStandardUPCEANChecksum(i.substring(0,o-1))===a}static getStandardUPCEANChecksum(i){let o=i.length,a=0;for(let l=o-1;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;a+=u}a*=3;for(let l=o-2;l>=0;l-=2){let u=i.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;a+=u}return(1e3-a)%10}}let Yo=(()=>{class w extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),h=a[1],p=0;for(let E=0;E<6&&h<d;E++){let I=Ve.decodeDigit(o,u,h,Ve.L_AND_G_PATTERNS);l+=String.fromCharCode(48+I%10);for(let S of u)h+=S;I>=10&&(p|=1<<5-E)}l=w.determineFirstDigit(l,p),h=Ve.findGuardPattern(o,h,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&h<d;E++){let I=Ve.decodeDigit(o,u,h,Ve.L_PATTERNS);l+=String.fromCharCode(48+I);for(let S of u)h+=S}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(o,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return o=String.fromCharCode(48+l)+o,o;throw new H}}return w.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],w})();class Kl extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1];for(let p=0;p<4&&d<u;p++){let y=Ve.decodeDigit(i,l,d,Ve.L_PATTERNS);a+=String.fromCharCode(48+y);for(let E of l)d+=E}d=Ve.findGuardPattern(i,d,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<u;p++){let y=Ve.decodeDigit(i,l,d,Ve.L_PATTERNS);a+=String.fromCharCode(48+y);for(let E of l)d+=E}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return fe.EAN_8}}class Jl extends Ve{constructor(){super(...arguments),this.ean13Reader=new Yo}getBarcodeFormat(){return fe.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,a))}decodeMiddle(i,o,a){return this.ean13Reader.decodeMiddle(i,o,a)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let a=new Dt(o.substring(1),null,null,i.getResultPoints(),fe.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new H}reset(){this.ean13Reader.reset()}}class Vn extends Ve{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,a){let l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=o[1],h=0;for(let y=0;y<6&&d<u;y++){let E=Vn.decodeDigit(i,l,d,Vn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let I of l)d+=I;E>=10&&(h|=1<<5-y)}let p=Vn.determineNumSysAndCheckDigit(a,h);return{rowOffset:d,resultString:p}}decodeEnd(i,o){return Vn.findGuardPatternWithoutCounters(i,o,!0,Vn.MIDDLE_END_PATTERN)}checkChecksum(i){return Ve.checkChecksum(Vn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let u=String.fromCharCode(48+a),d=String.fromCharCode(48+l);return u+i+d}throw H.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(i){let o=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new Ne;a.append(i.charAt(0));let l=o[5];switch(l){case 0:case 1:case 2:a.appendChars(o,0,2),a.append(l),a.append("0000"),a.appendChars(o,2,3);break;case 3:a.appendChars(o,0,3),a.append("00000"),a.appendChars(o,3,2);break;case 4:a.appendChars(o,0,4),a.append("00000"),a.append(o[4]);break;default:a.appendChars(o,0,5),a.append("0000"),a.append(l);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}Vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ia extends Rt{constructor(i){super();let o=i==null?null:i.get(Se.POSSIBLE_FORMATS),a=[];t(o)?(a.push(new Yo),a.push(new Jl),a.push(new Kl),a.push(new Vn)):(o.indexOf(fe.EAN_13)>-1&&a.push(new Yo),o.indexOf(fe.UPC_A)>-1&&a.push(new Jl),o.indexOf(fe.EAN_8)>-1&&a.push(new Kl),o.indexOf(fe.UPC_E)>-1&&a.push(new Vn)),this.readers=a}decodeRow(i,o,a){for(let l of this.readers)try{let u=l.decodeRow(i,o,a),d=u.getBarcodeFormat()===fe.EAN_13&&u.getText().charAt(0)==="0",h=a==null?null:a.get(Se.POSSIBLE_FORMATS),p=h==null||h.includes(fe.UPC_A);if(d&&p){let y=u.getRawBytes(),E=new Dt(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),fe.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch{}throw new H}reset(){for(let i of this.readers)i.reset()}}let hr=(()=>{class w extends Rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,a){for(let l=0;l<a.length;l++)if(Rt.patternMatchVariance(o,a[l],w.MAX_INDIVIDUAL_VARIANCE)<w.MAX_AVG_VARIANCE)return l;throw new H}static count(o){return be.sum(new Int32Array(o))}static increment(o,a){let l=0,u=a[0];for(let d=1;d<o.length;d++)a[d]>u&&(u=a[d],l=d);o[l]++}static decrement(o,a){let l=0,u=a[0];for(let d=1;d<o.length;d++)a[d]<u&&(u=a[d],l=d);o[l]--}static isFinderPattern(o){let a=o[0]+o[1],l=a+o[2]+o[3],u=a/l;if(u>=w.MIN_FINDER_PATTERN_RATIO&&u<=w.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let p of o)p>h&&(h=p),p<d&&(d=p);return h<10*d}return!1}}return w.MAX_AVG_VARIANCE=.2,w.MAX_INDIVIDUAL_VARIANCE=.45,w.MIN_FINDER_PATTERN_RATIO=9.5/12,w.MAX_FINDER_PATTERN_RATIO=12.5/14,w})();class Si{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Si))return!1;let o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zo{constructor(i,o,a,l,u){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new le(a,u)),this.resultPoints.push(new le(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Zo))return!1;let o=i;return this.value===o.value}hashCode(){return this.value}}class tr{constructor(){}static getRSSvalue(i,o,a){let l=0;for(let p of i)l+=p;let u=0,d=0,h=i.length;for(let p=0;p<h-1;p++){let y;for(y=1,d|=1<<p;y<i[p];y++,d&=~(1<<p)){let E=tr.combins(l-y-1,h-p-2);if(a&&d===0&&l-y-(h-p-1)>=h-p-1&&(E-=tr.combins(l-y-(h-p),h-p-2)),h-p-1>1){let I=0;for(let S=l-y-(h-p-2);S>o;S--)I+=tr.combins(l-y-S-1,h-p-3);E-=I*(h-1-p)}else l-y>o&&E--;u+=E}l-=y}return u}static combins(i,o){let a,l;i-o>o?(l=o,a=i-o):(l=i-o,a=o);let u=1,d=1;for(let h=i;h>a;h--)u*=h,d<=l&&(u/=d,d++);for(;d<=l;)u/=d,d++;return u}}class mf{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let a=12*o,l=new ye(a),u=0,h=i[0].getRightChar().getValue();for(let p=11;p>=0;--p)(h&1<<p)!=0&&l.set(u),u++;for(let p=1;p<i.length;++p){let y=i[p],E=y.getLeftChar().getValue();for(let I=11;I>=0;--I)(E&1<<I)!=0&&l.set(u),u++;if(y.getRightChar()!=null){let I=y.getRightChar().getValue();for(let S=11;S>=0;--S)(I&1<<S)!=0&&l.set(u),u++}}return l}}class ti{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class oo{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}let jn=(()=>{class w extends oo{constructor(o,a){super(o),this.value=a}getValue(){return this.value}isFNC1(){return this.value===w.FNC1}}return w.FNC1="$",w})();class ni extends oo{constructor(i,o,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let _i=(()=>{class w extends oo{constructor(o,a,l){if(super(o),a<0||a>10||l<0||l>10)throw new Y;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===w.FNC1}isSecondDigitFNC1(){return this.secondDigit===w.FNC1}isAnyFNC1(){return this.firstDigit===w.FNC1||this.secondDigit===w.FNC1}}return w.FNC1=10,w})();class oe{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new H;let o=i.substring(0,2);for(let u of oe.TWO_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(2,u[2],i):oe.processFixedAI(2,u[1],i);if(i.length<3)throw new H;let a=i.substring(0,3);for(let u of oe.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(3,u[2],i):oe.processFixedAI(3,u[1],i);for(let u of oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,u[2],i):oe.processFixedAI(4,u[1],i);if(i.length<4)throw new H;let l=i.substring(0,4);for(let u of oe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,u[2],i):oe.processFixedAI(4,u[1],i);throw new H}static processFixedAI(i,o,a){if(a.length<i)throw new H;let l=a.substring(0,i);if(a.length<i+o)throw new H;let u=a.substring(i,i+o),d=a.substring(i+o),h="("+l+")"+u,p=oe.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}static processVariableAI(i,o,a){let l=a.substring(0,i),u;a.length<i+o?u=a.length:u=i+o;let d=a.substring(i,u),h=a.substring(u),p="("+l+")"+d,y=oe.parseFieldsInGeneralPurpose(h);return y==null?p:p+y}}oe.VARIABLE_LENGTH=[],oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",oe.VARIABLE_LENGTH,20],["22",oe.VARIABLE_LENGTH,29],["30",oe.VARIABLE_LENGTH,8],["37",oe.VARIABLE_LENGTH,8],["90",oe.VARIABLE_LENGTH,30],["91",oe.VARIABLE_LENGTH,30],["92",oe.VARIABLE_LENGTH,30],["93",oe.VARIABLE_LENGTH,30],["94",oe.VARIABLE_LENGTH,30],["95",oe.VARIABLE_LENGTH,30],["96",oe.VARIABLE_LENGTH,30],["97",oe.VARIABLE_LENGTH,3],["98",oe.VARIABLE_LENGTH,30],["99",oe.VARIABLE_LENGTH,30]],oe.THREE_DIGIT_DATA_LENGTH=[["240",oe.VARIABLE_LENGTH,30],["241",oe.VARIABLE_LENGTH,30],["242",oe.VARIABLE_LENGTH,6],["250",oe.VARIABLE_LENGTH,30],["251",oe.VARIABLE_LENGTH,30],["253",oe.VARIABLE_LENGTH,17],["254",oe.VARIABLE_LENGTH,20],["400",oe.VARIABLE_LENGTH,30],["401",oe.VARIABLE_LENGTH,30],["402",17],["403",oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",oe.VARIABLE_LENGTH,20],["421",oe.VARIABLE_LENGTH,15],["422",3],["423",oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",oe.VARIABLE_LENGTH,15],["391",oe.VARIABLE_LENGTH,18],["392",oe.VARIABLE_LENGTH,15],["393",oe.VARIABLE_LENGTH,18],["703",oe.VARIABLE_LENGTH,30]],oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",oe.VARIABLE_LENGTH,20],["8003",oe.VARIABLE_LENGTH,30],["8004",oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",oe.VARIABLE_LENGTH,30],["8008",oe.VARIABLE_LENGTH,12],["8018",18],["8020",oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",oe.VARIABLE_LENGTH,70],["8200",oe.VARIABLE_LENGTH,70]];class Ti{constructor(i){this.buffer=new Ne,this.information=i}decodeAllCodes(i,o){let a=o,l=null;do{let u=this.decodeGeneralPurposeField(a,l),d=oe.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&i.append(d),u.isRemaining()?l=""+u.getRemainingValue():l=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new _i(this.information.getSize(),_i.FNC1,_i.FNC1):new _i(this.information.getSize(),u-1,_i.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),a=(o-8)/11,l=(o-8)%11;return new _i(i+7,a,l)}extractNumericValueFromBitArray(i,o){return Ti.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,a){let l=0;for(let u=0;u<a;++u)i.get(o+u)&&(l|=1<<a-u-1);return l}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new ni(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new ni(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let a=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new ni(this.current.getPosition(),this.buffer.toString()):o=new ni(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new ti(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new ni(this.current.getPosition(),this.buffer.toString());return new ti(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ti(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new ni(this.current.getPosition(),this.buffer.toString());return new ti(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ti(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new ni(this.current.getPosition(),this.buffer.toString());return new ti(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ti(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,8);return l>=232&&l<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new jn(i+5,jn.FNC1);if(o>=5&&o<15)return new jn(i+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new jn(i+7,""+(a+1));if(a>=90&&a<116)return new jn(i+7,""+(a+7));let l=this.extractNumericValueFromBitArray(i,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new Y}return new jn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new jn(i+5,jn.FNC1);if(o>=5&&o<15)return new jn(i+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new jn(i+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new fr("Decoding invalid alphanumeric value: "+a)}return new jn(i+6,l)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class at{constructor(i){this.information=i,this.generalDecoder=new Ti(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Hn=(()=>{class w extends at{constructor(o){super(o)}encodeCompressedGtin(o,a){o.append("(01)");let l=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,a,l)}encodeCompressedGtinWithoutAI(o,a,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);d/100===0&&o.append("0"),d/10===0&&o.append("0"),o.append(d)}w.appendCheckDigit(o,l)}static appendCheckDigit(o,a){let l=0;for(let u=0;u<13;u++){let d=o.charAt(u+a).charCodeAt(0)-48;l+=(u&1)===0?3*d:d}l=10-l%10,l===10&&(l=0),o.append(l)}}return w.GTIN_SIZE=40,w})(),yf=(()=>{class w extends Hn{constructor(o){super(o)}parseInformation(){let o=new Ne;o.append("(01)");let a=o.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE,4);return o.append(l),this.encodeCompressedGtinWithoutAI(o,w.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(o,w.HEADER_SIZE+44)}}return w.HEADER_SIZE=4,w})(),wf=(()=>{class w extends at{constructor(o){super(o)}parseInformation(){let o=new Ne;return this.getGeneralDecoder().decodeAllCodes(o,w.HEADER_SIZE)}}return w.HEADER_SIZE=5,w})();class Xo extends Hn{constructor(i){super(i)}encodeCompressedWeight(i,o,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,a);this.addWeightCode(i,l);let u=this.checkWeight(l),d=1e5;for(let h=0;h<5;++h)u/d===0&&i.append("0"),d/=10;i.append(u)}}let ec=(()=>{class w extends Xo{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+Xo.GTIN_SIZE+w.WEIGHT_SIZE)throw new H;let o=new Ne;return this.encodeCompressedGtin(o,w.HEADER_SIZE),this.encodeCompressedWeight(o,w.HEADER_SIZE+Xo.GTIN_SIZE,w.WEIGHT_SIZE),o.toString()}}return w.HEADER_SIZE=5,w.WEIGHT_SIZE=15,w})();class vf extends ec{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class Da extends ec{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}let so=(()=>{class w extends Hn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+Hn.GTIN_SIZE)throw new H;let o=new Ne;this.encodeCompressedGtin(o,w.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+Hn.GTIN_SIZE,w.LAST_DIGIT_SIZE);o.append("(392"),o.append(a),o.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+Hn.GTIN_SIZE+w.LAST_DIGIT_SIZE,null);return o.append(l.getNewString()),o.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w})(),tc=(()=>{class w extends Hn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+Hn.GTIN_SIZE)throw new H;let o=new Ne;this.encodeCompressedGtin(o,w.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+Hn.GTIN_SIZE,w.LAST_DIGIT_SIZE);o.append("(393"),o.append(a),o.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+Hn.GTIN_SIZE+w.LAST_DIGIT_SIZE,w.FIRST_THREE_DIGITS_SIZE);l/100==0&&o.append("0"),l/10==0&&o.append("0"),o.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+Hn.GTIN_SIZE+w.LAST_DIGIT_SIZE+w.FIRST_THREE_DIGITS_SIZE,null);return o.append(u.getNewString()),o.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w.FIRST_THREE_DIGITS_SIZE=10,w})(),zn=(()=>{class w extends Xo{constructor(o,a,l){super(o),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE+w.DATE_SIZE)throw new H;let o=new Ne;return this.encodeCompressedGtin(o,w.HEADER_SIZE),this.encodeCompressedWeight(o,w.HEADER_SIZE+w.GTIN_SIZE,w.WEIGHT_SIZE),this.encodeCompressedDate(o,w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,w.DATE_SIZE);if(l==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let h=l;h/10==0&&o.append("0"),o.append(h),d/10==0&&o.append("0"),o.append(d),u/10==0&&o.append("0"),o.append(u)}addWeightCode(o,a){o.append("("),o.append(this.firstAIdigits),o.append(a/1e5),o.append(")")}checkWeight(o){return o%1e5}}return w.HEADER_SIZE=8,w.WEIGHT_SIZE=20,w.DATE_SIZE=16,w})();function Et(w){try{if(w.get(1))return new yf(w);if(!w.get(2))return new wf(w);switch(Ti.extractNumericValueFromBitArray(w,1,4)){case 4:return new vf(w);case 5:return new Da(w)}switch(Ti.extractNumericValueFromBitArray(w,1,5)){case 12:return new so(w);case 13:return new tc(w)}switch(Ti.extractNumericValueFromBitArray(w,1,7)){case 56:return new zn(w,"310","11");case 57:return new zn(w,"320","11");case 58:return new zn(w,"310","13");case 59:return new zn(w,"320","13");case 60:return new zn(w,"310","15");case 61:return new zn(w,"320","15");case 62:return new zn(w,"310","17");case 63:return new zn(w,"320","17")}}catch(i){throw console.log(i),new fr("unknown decoder: "+w)}}class Ar{constructor(i,o,a,l){this.leftchar=i,this.rightchar=o,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof Ar?Ar.equalsOrNull(i.leftchar,o.leftchar)&&Ar.equalsOrNull(i.rightchar,o.rightchar)&&Ar.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:Ar.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Aa{constructor(i,o,a){this.pairs=i,this.rowNumber=o,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Aa?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let a;return i.forEach((l,u)=>{o.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class $ extends hr{constructor(i){super(...arguments),this.pairs=new Array($.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,a){this.pairs.length=0,this.startFromEven=!1;try{return $.constructResult(this.decodeRow2pairs(i,o))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,$.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(u){if(u instanceof H){if(!this.pairs.length)throw new H;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(i,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new H}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let a=o;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!$.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(l);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new H}static isValidSequence(i){for(let o of $.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let a=!0;for(let l=0;l<i.length;l++)if(i[l].getFinderPattern().getValue()!=o[l]){a=!1;break}if(a)return!0}return!1}storeRow(i,o){let a=0,l=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>i){u=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),a++}u||l||$.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Aa(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let a of o)if(a.getPairs().length!==i.length){for(let l of a.getPairs())for(let u of i)if(Ar.equals(l,u))break}}static isPartialRow(i,o){for(let a of o){let l=!0;for(let u of i){let d=!1;for(let h of a.getPairs())if(u.equals(h)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=mf.buildBitArray(i),l=Et(o).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],d[0],d[1]];return new Dt(l,null,null,h,fe.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let p=this.pairs.get(h);l+=p.getLeftChar().getChecksumPortion(),u++;let y=p.getRightChar();y!=null&&(l+=y.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==o.getValue()}static getNextSecondBar(i,o){let a;return i.get(o)?(a=i.getNextUnset(o),a=i.getNextSet(a)):(a=i.getNextSet(o),a=i.getNextUnset(a)),a}retrieveNextPair(i,o,a){let l=o.length%2==0;this.startFromEven&&(l=!l);let u,d=!0,h=-1;do this.findNextPair(i,o,h),u=this.parseFoundFinderPattern(i,a,l),u==null?h=$.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let p=this.decodeDataCharacter(i,u,l,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new H;let y;try{y=this.decodeDataCharacter(i,u,l,!1)}catch(E){y=null,this.verbose&&console.log(E)}return new Ar(p,y,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d;a>=0?d=a:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let h=o.length%2!=0;this.startFromEven&&(h=!h);let p=!1;for(;d<u&&(p=!i.get(d),!!p);)d++;let y=0,E=d;for(let I=d;I<u;I++)if(i.get(I)!=p)l[y]++;else{if(y==3){if(h&&$.reverseCounters(l),$.isFinderPattern(l)){this.startEnd[0]=E,this.startEnd[1]=I;return}h&&$.reverseCounters(l),E+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,p=!p}throw new H}static reverseCounters(i){let o=i.length;for(let a=0;a<o/2;++a){let l=i[a];i[a]=i[o-a-1],i[o-a-1]=l}}parseFoundFinderPattern(i,o,a){let l,u,d;if(a){let y=this.startEnd[0]-1;for(;y>=0&&!i.get(y);)y--;y++,l=this.startEnd[0]-y,u=y,d=this.startEnd[1]}else u=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let h=this.getDecodeFinderCounters();R.arraycopy(h,0,h,1,h.length-1),h[0]=l;let p;try{p=this.parseFinderValue(h,$.FINDER_PATTERNS)}catch{return null}return new Zo(p,[u,d],u,d,o)}decodeDataCharacter(i,o,a,l){let u=this.getDataCharacterCounters();for(let dt=0;dt<u.length;dt++)u[dt]=0;if(l)$.recordPatternInReverse(i,o.getStartEnd()[0],u);else{$.recordPattern(i,o.getStartEnd()[1],u);for(let dt=0,tn=u.length-1;dt<tn;dt++,tn--){let _n=u[dt];u[dt]=u[tn],u[tn]=_n}}let d=17,h=be.sum(new Int32Array(u))/d,p=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new H;let y=this.getOddCounts(),E=this.getEvenCounts(),I=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let dt=0;dt<u.length;dt++){let tn=1*u[dt]/h,_n=tn+.5;if(_n<1){if(tn<.3)throw new H;_n=1}else if(_n>8){if(tn>8.7)throw new H;_n=8}let Fi=dt/2;(dt&1)==0?(y[Fi]=_n,I[Fi]=tn-_n):(E[Fi]=_n,S[Fi]=tn-_n)}this.adjustOddEvenCounts(d);let T=4*o.getValue()+(a?0:2)+(l?0:1)-1,N=0,O=0;for(let dt=y.length-1;dt>=0;dt--){if($.isNotA1left(o,a,l)){let tn=$.WEIGHTS[T][2*dt];O+=y[dt]*tn}N+=y[dt]}let k=0;for(let dt=E.length-1;dt>=0;dt--)if($.isNotA1left(o,a,l)){let tn=$.WEIGHTS[T][2*dt+1];k+=E[dt]*tn}let P=O+k;if((N&1)!=0||N>13||N<4)throw new H;let Z=(13-N)/2,te=$.SYMBOL_WIDEST[Z],z=9-te,Fe=tr.getRSSvalue(y,te,!0),Ie=tr.getRSSvalue(E,z,!1),hn=$.EVEN_TOTAL_SUBSET[Z],Wn=$.GSUM[Z],pn=Fe*hn+Ie+Wn;return new Si(pn,P)}static isNotA1left(i,o,a){return!(i.getValue()==0&&o&&a)}adjustOddEvenCounts(i){let o=be.sum(new Int32Array(this.getOddCounts())),a=be.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;o>13?u=!0:o<4&&(l=!0);let d=!1,h=!1;a>13?h=!0:a<4&&(d=!0);let p=o+a-i,y=(o&1)==1,E=(a&1)==0;if(p==1)if(y){if(E)throw new H;u=!0}else{if(!E)throw new H;h=!0}else if(p==-1)if(y){if(E)throw new H;l=!0}else{if(!E)throw new H;d=!0}else if(p==0){if(y){if(!E)throw new H;o<a?(l=!0,h=!0):(u=!0,d=!0)}else if(E)throw new H}else throw new H;if(l){if(u)throw new H;$.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&$.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new H;$.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&$.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$.SYMBOL_WIDEST=[7,5,4,3,1],$.EVEN_TOTAL_SUBSET=[4,20,52,104,204],$.GSUM=[0,348,1388,2948,3988],$.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],$.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],$.FINDER_PAT_A=0,$.FINDER_PAT_B=1,$.FINDER_PAT_C=2,$.FINDER_PAT_D=3,$.FINDER_PAT_E=4,$.FINDER_PAT_F=5,$.FINDER_PATTERN_SEQUENCES=[[$.FINDER_PAT_A,$.FINDER_PAT_A],[$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B],[$.FINDER_PAT_A,$.FINDER_PAT_C,$.FINDER_PAT_B,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_C],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F]],$.MAX_PAIRS=11;class nc extends Si{constructor(i,o,a){super(i,o),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ct extends hr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,a){let l=this.decodePair(o,!1,i,a);Ct.addOrTally(this.possibleLeftPairs,l),o.reverse();let u=this.decodePair(o,!0,i,a);Ct.addOrTally(this.possibleRightPairs,u),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Ct.checkChecksum(d,h))return Ct.constructResult(d,h)}throw new H}static addOrTally(i,o){if(o==null)return;let a=!1;for(let l of i)if(l.getValue()===o.getValue()){l.incrementCount(),a=!0;break}a||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let a=4537077*i.getValue()+o.getValue(),l=new String(a).toString(),u=new Ne;for(let y=13-l.length;y>0;y--)u.append("0");u.append(l);let d=0;for(let y=0;y<13;y++){let E=u.charAt(y).charCodeAt(0)-48;d+=(y&1)===0?3*E:E}d=10-d%10,d===10&&(d=0),u.append(d.toString());let h=i.getFinderPattern().getResultPoints(),p=o.getFinderPattern().getResultPoints();return new Dt(u.toString(),null,0,[h[0],h[1],p[0],p[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(i,o){let a=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,l=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(i,o,a,l){try{let u=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,a,o,u),h=l==null?null:l.get(Se.NEED_RESULT_POINT_CALLBACK);if(h!=null){let E=(u[0]+u[1])/2;o&&(E=i.getSize()-1-E),h.foundPossibleResultPoint(new le(E,a))}let p=this.decodeDataCharacter(i,d,!0),y=this.decodeDataCharacter(i,d,!1);return new nc(1597*p.getValue()+y.getValue(),p.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,a){let l=this.getDataCharacterCounters();for(let k=0;k<l.length;k++)l[k]=0;if(a)Rt.recordPatternInReverse(i,o.getStartEnd()[0],l);else{Rt.recordPattern(i,o.getStartEnd()[1]+1,l);for(let k=0,P=l.length-1;k<P;k++,P--){let Z=l[k];l[k]=l[P],l[P]=Z}}let u=a?16:15,d=be.sum(new Int32Array(l))/u,h=this.getOddCounts(),p=this.getEvenCounts(),y=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let k=0;k<l.length;k++){let P=l[k]/d,Z=Math.floor(P+.5);Z<1?Z=1:Z>8&&(Z=8);let te=Math.floor(k/2);(k&1)===0?(h[te]=Z,y[te]=P-Z):(p[te]=Z,E[te]=P-Z)}this.adjustOddEvenCounts(a,u);let I=0,S=0;for(let k=h.length-1;k>=0;k--)S*=9,S+=h[k],I+=h[k];let T=0,N=0;for(let k=p.length-1;k>=0;k--)T*=9,T+=p[k],N+=p[k];let O=S+3*T;if(a){if((I&1)!==0||I>12||I<4)throw new H;let k=(12-I)/2,P=Ct.OUTSIDE_ODD_WIDEST[k],Z=9-P,te=tr.getRSSvalue(h,P,!1),z=tr.getRSSvalue(p,Z,!0),Fe=Ct.OUTSIDE_EVEN_TOTAL_SUBSET[k],Ie=Ct.OUTSIDE_GSUM[k];return new Si(te*Fe+z+Ie,O)}else{if((N&1)!==0||N>10||N<4)throw new H;let k=(10-N)/2,P=Ct.INSIDE_ODD_WIDEST[k],Z=9-P,te=tr.getRSSvalue(h,P,!0),z=tr.getRSSvalue(p,Z,!1),Fe=Ct.INSIDE_ODD_TOTAL_SUBSET[k],Ie=Ct.INSIDE_GSUM[k];return new Si(z*Fe+te+Ie,O)}}findFinderPattern(i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=i.getSize(),u=!1,d=0;for(;d<l&&(u=!i.get(d),o!==u);)d++;let h=0,p=d;for(let y=d;y<l;y++)if(i.get(y)!==u)a[h]++;else{if(h===3){if(hr.isFinderPattern(a))return[p,y];p+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,u=!u}throw new H}parseFoundFinderPattern(i,o,a,l){let u=i.get(l[0]),d=l[0]-1;for(;d>=0&&u!==i.get(d);)d--;d++;let h=l[0]-d,p=this.getDecodeFinderCounters(),y=new Int32Array(p.length);R.arraycopy(p,0,y,1,p.length-1),y[0]=h;let E=this.parseFinderValue(y,Ct.FINDER_PATTERNS),I=d,S=l[1];return a&&(I=i.getSize()-1-I,S=i.getSize()-1-S),new Zo(E,[d,l[1]],I,S,o)}adjustOddEvenCounts(i,o){let a=be.sum(new Int32Array(this.getOddCounts())),l=be.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,p=!1;i?(a>12?d=!0:a<4&&(u=!0),l>12?p=!0:l<4&&(h=!0)):(a>11?d=!0:a<5&&(u=!0),l>10?p=!0:l<4&&(h=!0));let y=a+l-o,E=(a&1)===(i?1:0),I=(l&1)===1;if(y===1)if(E){if(I)throw new H;d=!0}else{if(!I)throw new H;p=!0}else if(y===-1)if(E){if(I)throw new H;u=!0}else{if(!I)throw new H;h=!0}else if(y===0){if(E){if(!I)throw new H;a<l?(u=!0,p=!0):(d=!0,h=!0)}else if(I)throw new H}else throw new H;if(u){if(d)throw new H;hr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&hr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new H;hr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&hr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ct.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ct.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ct.OUTSIDE_GSUM=[0,161,961,2015,2715],Ct.INSIDE_GSUM=[0,336,1036,1516],Ct.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ct.INSIDE_ODD_WIDEST=[2,4,6,8],Ct.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Mi extends Rt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;let a=i?i.get(Se.POSSIBLE_FORMATS):null,l=i&&i.get(Se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(fe.EAN_13)||a.includes(fe.UPC_A)||a.includes(fe.EAN_8)||a.includes(fe.UPC_E))&&this.readers.push(new Ia(i)),a.includes(fe.CODE_39)&&this.readers.push(new qo(l)),a.includes(fe.CODE_128)&&this.readers.push(new ee),a.includes(fe.ITF)&&this.readers.push(new it),a.includes(fe.RSS_14)&&this.readers.push(new Ct),a.includes(fe.RSS_EXPANDED)&&this.readers.push(new $(this.verbose))):(this.readers.push(new Ia(i)),this.readers.push(new qo),this.readers.push(new Ia(i)),this.readers.push(new ee),this.readers.push(new it),this.readers.push(new Ct),this.readers.push(new $(this.verbose)))}decodeRow(i,o,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(i,o,a)}catch{}throw new H}reset(){this.readers.forEach(i=>i.reset())}}class Cf extends Dn{constructor(i=500,o){super(new Mi(o),i,o)}}class et{constructor(i,o,a){this.ecCodewords=i,this.ecBlocks=[o],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(i,o,a,l,u,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0,p=d.getECCodewords(),y=d.getECBlocks();for(let E of y)h+=E.getCount()*(E.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if((i&1)!==0||(o&1)!==0)throw new Y;for(let a of He.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===o)return a;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new He(1,10,10,8,8,new et(5,new tt(1,3))),new He(2,12,12,10,10,new et(7,new tt(1,5))),new He(3,14,14,12,12,new et(10,new tt(1,8))),new He(4,16,16,14,14,new et(12,new tt(1,12))),new He(5,18,18,16,16,new et(14,new tt(1,18))),new He(6,20,20,18,18,new et(18,new tt(1,22))),new He(7,22,22,20,20,new et(20,new tt(1,30))),new He(8,24,24,22,22,new et(24,new tt(1,36))),new He(9,26,26,24,24,new et(28,new tt(1,44))),new He(10,32,32,14,14,new et(36,new tt(1,62))),new He(11,36,36,16,16,new et(42,new tt(1,86))),new He(12,40,40,18,18,new et(48,new tt(1,114))),new He(13,44,44,20,20,new et(56,new tt(1,144))),new He(14,48,48,22,22,new et(68,new tt(1,174))),new He(15,52,52,24,24,new et(42,new tt(2,102))),new He(16,64,64,14,14,new et(56,new tt(2,140))),new He(17,72,72,16,16,new et(36,new tt(4,92))),new He(18,80,80,18,18,new et(48,new tt(4,114))),new He(19,88,88,20,20,new et(56,new tt(4,144))),new He(20,96,96,22,22,new et(68,new tt(4,174))),new He(21,104,104,24,24,new et(56,new tt(6,136))),new He(22,120,120,18,18,new et(68,new tt(6,175))),new He(23,132,132,20,20,new et(62,new tt(8,163))),new He(24,144,144,22,22,new et(62,new tt(8,156),new tt(2,155))),new He(25,8,18,6,16,new et(7,new tt(1,5))),new He(26,8,32,6,14,new et(11,new tt(1,10))),new He(27,12,26,10,24,new et(14,new tt(1,16))),new He(28,12,36,10,16,new et(18,new tt(1,22))),new He(29,16,36,14,16,new et(24,new tt(1,32))),new He(30,16,48,14,22,new et(28,new tt(1,49)))]}}He.VERSIONS=He.buildVersions();class Sa{constructor(i){let o=i.getHeight();if(o<8||o>144||(o&1)!==0)throw new Y;this.version=Sa.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){let o=i.getHeight(),a=i.getWidth();return He.getVersionForDimensions(o,a)}readCodewords(){let i=new Int8Array(this.version.getTotalCodewords()),o=0,a=4,l=0,u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth(),h=!1,p=!1,y=!1,E=!1;do if(a===u&&l===0&&!h)i[o++]=this.readCorner1(u,d)&255,a-=2,l+=2,h=!0;else if(a===u-2&&l===0&&(d&3)!==0&&!p)i[o++]=this.readCorner2(u,d)&255,a-=2,l+=2,p=!0;else if(a===u+4&&l===2&&(d&7)===0&&!y)i[o++]=this.readCorner3(u,d)&255,a-=2,l+=2,y=!0;else if(a===u-2&&l===0&&(d&7)===4&&!E)i[o++]=this.readCorner4(u,d)&255,a-=2,l+=2,E=!0;else{do a<u&&l>=0&&!this.readMappingMatrix.get(l,a)&&(i[o++]=this.readUtah(a,l,u,d)&255),a-=2,l+=2;while(a>=0&&l<d);a+=1,l+=3;do a>=0&&l<d&&!this.readMappingMatrix.get(l,a)&&(i[o++]=this.readUtah(a,l,u,d)&255),a+=2,l-=2;while(a<u&&l>=0);a+=3,l+=1}while(a<u||l<d);if(o!==this.version.getTotalCodewords())throw new Y;return i}readModule(i,o,a,l){return i<0&&(i+=a,o+=4-(a+4&7)),o<0&&(o+=l,i+=4-(l+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,a,l){let u=0;return this.readModule(i-2,o-2,a,l)&&(u|=1),u<<=1,this.readModule(i-2,o-1,a,l)&&(u|=1),u<<=1,this.readModule(i-1,o-2,a,l)&&(u|=1),u<<=1,this.readModule(i-1,o-1,a,l)&&(u|=1),u<<=1,this.readModule(i-1,o,a,l)&&(u|=1),u<<=1,this.readModule(i,o-2,a,l)&&(u|=1),u<<=1,this.readModule(i,o-1,a,l)&&(u|=1),u<<=1,this.readModule(i,o,a,l)&&(u|=1),u}readCorner1(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,1,i,o)&&(a|=1),a<<=1,this.readModule(i-1,2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}readCorner2(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-4,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner3(i,o){let a=0;return this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(0,o-3,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-3,i,o)&&(a|=1),a<<=1,this.readModule(1,o-2,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a}readCorner4(i,o){let a=0;return this.readModule(i-3,0,i,o)&&(a|=1),a<<=1,this.readModule(i-2,0,i,o)&&(a|=1),a<<=1,this.readModule(i-1,0,i,o)&&(a|=1),a<<=1,this.readModule(0,o-2,i,o)&&(a|=1),a<<=1,this.readModule(0,o-1,i,o)&&(a|=1),a<<=1,this.readModule(1,o-1,i,o)&&(a|=1),a<<=1,this.readModule(2,o-1,i,o)&&(a|=1),a<<=1,this.readModule(3,o-1,i,o)&&(a|=1),a}extractDataRegion(i){let o=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");let l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=o/l|0,h=a/u|0,p=d*l,y=h*u,E=new ve(y,p);for(let I=0;I<d;++I){let S=I*l;for(let T=0;T<h;++T){let N=T*u;for(let O=0;O<l;++O){let k=I*(l+2)+1+O,P=S+O;for(let Z=0;Z<u;++Z){let te=T*(u+2)+1+Z;if(i.get(te,k)){let z=N+Z;E.set(z,P)}}}}}return E}}class ao{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){let a=o.getECBlocks(),l=0,u=a.getECBlocks();for(let O of u)l+=O.getCount();let d=new Array(l),h=0;for(let O of u)for(let k=0;k<O.getCount();k++){let P=O.getDataCodewords(),Z=a.getECCodewords()+P;d[h++]=new ao(P,new Uint8Array(Z))}let y=d[0].codewords.length-a.getECCodewords(),E=y-1,I=0;for(let O=0;O<E;O++)for(let k=0;k<h;k++)d[k].codewords[O]=i[I++];let S=o.getVersionNumber()===24,T=S?8:h;for(let O=0;O<T;O++)d[O].codewords[y-1]=i[I++];let N=d[0].codewords.length;for(let O=y;O<N;O++)for(let k=0;k<h;k++){let P=S?(k+8)%h:k,Z=S&&P>7?O-1:O;d[P].codewords[Z]=i[I++]}if(I!==i.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Qo{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new v(""+i);let o=0,a=this.bitOffset,l=this.byteOffset,u=this.bytes;if(a>0){let d=8-a,h=i<d?i:d,p=d-h,y=255>>8-h<<p;o=(u[l]&y)>>p,i-=h,a+=h,a===8&&(a=0,l++)}if(i>0){for(;i>=8;)o=o<<8|u[l]&255,l++,i-=8;if(i>0){let d=8-i,h=255>>d<<d;o=o<<i|(u[l]&h)>>d,a+=i}}return this.bitOffset=a,this.byteOffset=l,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt=function(w){return w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE",w}(Lt||{});class pr{static decode(i){let o=new Qo(i),a=new Ne,l=new Ne,u=new Array,d=Lt.ASCII_ENCODE;do if(d===Lt.ASCII_ENCODE)d=this.decodeAsciiSegment(o,a,l);else{switch(d){case Lt.C40_ENCODE:this.decodeC40Segment(o,a);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(o,a);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,a);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,a);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(o,a,u);break;default:throw new Y}d=Lt.ASCII_ENCODE}while(d!==Lt.PAD_ENCODE&&o.available()>0);return l.length()>0&&a.append(l.toString()),new br(i,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,o,a){let l=!1;do{let u=i.readBits(8);if(u===0)throw new Y;if(u<=128)return l&&(u+=128),o.append(String.fromCharCode(u-1)),Lt.ASCII_ENCODE;if(u===129)return Lt.PAD_ENCODE;if(u<=229){let d=u-130;d<10&&o.append("0"),o.append(""+d)}else switch(u){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:o.append("[)>05"),a.insert(0,"");break;case 237:o.append("[)>06"),a.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new Y;break}}while(i.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(i,o){let a=!1,l=[],u=0;do{if(i.available()===8)return;let d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),l);for(let h=0;h<3;h++){let p=l[h];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){let y=this.C40_BASIC_SET_CHARS[p];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else throw new Y;break;case 1:a?(o.append(String.fromCharCode(p+128)),a=!1):o.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){let y=this.C40_SHIFT2_SET_CHARS[p];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else switch(p){case 27:o.append("");break;case 30:a=!0;break;default:throw new Y}u=0;break;case 3:a?(o.append(String.fromCharCode(p+224)),a=!1):o.append(String.fromCharCode(p+96)),u=0;break;default:throw new Y}}}while(i.available()>0)}static decodeTextSegment(i,o){let a=!1,l=[],u=0;do{if(i.available()===8)return;let d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),l);for(let h=0;h<3;h++){let p=l[h];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){let y=this.TEXT_BASIC_SET_CHARS[p];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else throw new Y;break;case 1:a?(o.append(String.fromCharCode(p+128)),a=!1):o.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){let y=this.TEXT_SHIFT2_SET_CHARS[p];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y)}else switch(p){case 27:o.append("");break;case 30:a=!0;break;default:throw new Y}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){let y=this.TEXT_SHIFT3_SET_CHARS[p];a?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):o.append(y),u=0}else throw new Y;break;default:throw new Y}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){let a=[];do{if(i.available()===8)return;let l=i.readBits(8);if(l===254)return;this.parseTwoBytes(l,i.readBits(8),a);for(let u=0;u<3;u++){let d=a[u];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new Y;break}}}while(i.available()>0)}static parseTwoBytes(i,o,a){let l=(i<<8)+o-1,u=Math.floor(l/1600);a[0]=u,l-=u*1600,u=Math.floor(l/40),a[1]=u,a[2]=l-u*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let l=i.readBits(6);if(l===31){let u=8-i.getBitOffset();u!==8&&i.readBits(u);return}(l&32)===0&&(l|=64),o.append(String.fromCharCode(l))}}while(i.available()>0)}static decodeBase256Segment(i,o,a){let l=1+i.getByteOffset(),u=this.unrandomize255State(i.readBits(8),l++),d;if(u===0?d=i.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(i.readBits(8),l++),d<0)throw new Y;let h=new Uint8Array(d);for(let p=0;p<d;p++){if(i.available()<8)throw new Y;h[p]=this.unrandomize255State(i.readBits(8),l++)}a.push(h);try{o.append(st.decode(h,we.ISO88591))}catch(p){throw new fr("Platform does not support required encoding: "+p.message)}}static unrandomize255State(i,o){let a=149*o%255+1,l=i-a;return l>=0?l:l+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class rc{constructor(){this.rsDecoder=new Wt(Xe.DATA_MATRIX_FIELD_256)}decode(i){let o=new Sa(i),a=o.getVersion(),l=o.readCodewords(),u=ao.getDataBlocks(l,a),d=0;for(let y of u)d+=y.getNumDataCodewords();let h=new Uint8Array(d),p=u.length;for(let y=0;y<p;y++){let E=u[y],I=E.getCodewords(),S=E.getNumDataCodewords();this.correctErrors(I,S);for(let T=0;T<S;T++)h[T*p+y]=I[T]}return pr.decode(h)}correctErrors(i,o){let a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new D}for(let l=0;l<o;l++)i[l]=a[l]}}class At{constructor(i){this.image=i,this.rectangleDetector=new sn(this.image)}detect(){let i=this.rectangleDetector.detect(),o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new H;o=this.shiftToModuleCenter(o);let a=o[0],l=o[1],u=o[2],d=o[3],h=this.transitionsBetween(a,d)+1,p=this.transitionsBetween(u,d)+1;(h&1)===1&&(h+=1),(p&1)===1&&(p+=1),4*h<7*p&&4*p<7*h&&(h=p=Math.max(h,p));let y=At.sampleGrid(this.image,a,l,u,d,h,p);return new ro(y,[a,l,u,d])}static shiftPoint(i,o,a){let l=(o.getX()-i.getX())/(a+1),u=(o.getY()-i.getY())/(a+1);return new le(i.getX()+l,i.getY()+u)}static moveAway(i,o,a){let l=i.getX(),u=i.getY();return l<o?l-=1:l+=1,u<a?u-=1:u+=1,new le(l,u)}detectSolid1(i){let o=i[0],a=i[1],l=i[3],u=i[2],d=this.transitionsBetween(o,a),h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,u),y=this.transitionsBetween(u,o),E=d,I=[u,o,a,l];return E>h&&(E=h,I[0]=o,I[1]=a,I[2]=l,I[3]=u),E>p&&(E=p,I[0]=a,I[1]=l,I[2]=u,I[3]=o),E>y&&(I[0]=l,I[1]=u,I[2]=o,I[3]=a),I}detectSolid2(i){let o=i[0],a=i[1],l=i[2],u=i[3],d=this.transitionsBetween(o,u),h=At.shiftPoint(a,l,(d+1)*4),p=At.shiftPoint(l,a,(d+1)*4),y=this.transitionsBetween(h,o),E=this.transitionsBetween(p,u);return y<E?(i[0]=o,i[1]=a,i[2]=l,i[3]=u):(i[0]=a,i[1]=l,i[2]=u,i[3]=o),i}correctTopRight(i){let o=i[0],a=i[1],l=i[2],u=i[3],d=this.transitionsBetween(o,u),h=this.transitionsBetween(a,u),p=At.shiftPoint(o,a,(h+1)*4),y=At.shiftPoint(l,a,(d+1)*4);d=this.transitionsBetween(p,u),h=this.transitionsBetween(y,u);let E=new le(u.getX()+(l.getX()-a.getX())/(d+1),u.getY()+(l.getY()-a.getY())/(d+1)),I=new le(u.getX()+(o.getX()-a.getX())/(h+1),u.getY()+(o.getY()-a.getY())/(h+1));if(!this.isValid(E))return this.isValid(I)?I:null;if(!this.isValid(I))return E;let S=this.transitionsBetween(p,E)+this.transitionsBetween(y,E),T=this.transitionsBetween(p,I)+this.transitionsBetween(y,I);return S>T?E:I}shiftToModuleCenter(i){let o=i[0],a=i[1],l=i[2],u=i[3],d=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(l,u)+1,p=At.shiftPoint(o,a,h*4),y=At.shiftPoint(l,a,d*4);d=this.transitionsBetween(p,u)+1,h=this.transitionsBetween(y,u)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let E=(o.getX()+a.getX()+l.getX()+u.getX())/4,I=(o.getY()+a.getY()+l.getY()+u.getY())/4;o=At.moveAway(o,E,I),a=At.moveAway(a,E,I),l=At.moveAway(l,E,I),u=At.moveAway(u,E,I);let S,T;return p=At.shiftPoint(o,a,h*4),p=At.shiftPoint(p,u,d*4),S=At.shiftPoint(a,o,h*4),S=At.shiftPoint(S,l,d*4),y=At.shiftPoint(l,u,h*4),y=At.shiftPoint(y,a,d*4),T=At.shiftPoint(u,l,h*4),T=At.shiftPoint(T,o,d*4),[p,S,y,T]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,a,l,u,d,h){return vt.getInstance().sampleGrid(i,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,o.getX(),o.getY(),u.getX(),u.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(i,o){let a=Math.trunc(i.getX()),l=Math.trunc(i.getY()),u=Math.trunc(o.getX()),d=Math.trunc(o.getY()),h=Math.abs(d-l)>Math.abs(u-a);if(h){let O=a;a=l,l=O,O=u,u=d,d=O}let p=Math.abs(u-a),y=Math.abs(d-l),E=-p/2,I=l<d?1:-1,S=a<u?1:-1,T=0,N=this.image.get(h?l:a,h?a:l);for(let O=a,k=l;O!==u;O+=S){let P=this.image.get(h?k:O,h?O:k);if(P!==N&&(T++,N=P),E+=y,E>0){if(k===d)break;k+=I,E-=p}}return T}}let Ko=(()=>{class w{constructor(){this.decoder=new rc}decode(o,a=null){let l,u;if(a!=null&&a.has(Se.PURE_BARCODE)){let E=w.extractPureBits(o.getBlackMatrix());l=this.decoder.decode(E),u=w.NO_POINTS}else{let E=new At(o.getBlackMatrix()).detect();l=this.decoder.decode(E.getBits()),u=E.getPoints()}let d=l.getRawBytes(),h=new Dt(l.getText(),d,8*d.length,u,fe.DATA_MATRIX,R.currentTimeMillis()),p=l.getByteSegments();p!=null&&h.putMetadata(Ft.BYTE_SEGMENTS,p);let y=l.getECLevel();return y!=null&&h.putMetadata(Ft.ERROR_CORRECTION_LEVEL,y),h}reset(){}static extractPureBits(o){let a=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(a==null||l==null)throw new H;let u=this.moduleSize(a,o),d=a[1],h=l[1],p=a[0],E=(l[0]-p+1)/u,I=(h-d+1)/u;if(E<=0||I<=0)throw new H;let S=u/2;d+=S,p+=S;let T=new ve(E,I);for(let N=0;N<I;N++){let O=d+N*u;for(let k=0;k<E;k++)o.get(p+k*u,O)&&T.set(k,N)}return T}static moduleSize(o,a){let l=a.getWidth(),u=o[0],d=o[1];for(;u<l&&a.get(u,d);)u++;if(u===l)throw new H;let h=u-o[0];if(h===0)throw new H;return h}}return w.NO_POINTS=[],w})();class Jo extends Dn{constructor(i=500){super(new Ko,i)}}var Sr=function(w){return w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H",w}(Sr||{});class ot{constructor(i,o,a){this.value=i,this.stringValue=o,this.bits=a,ot.FOR_BITS.set(a,this),ot.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new x(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof ot))return!1;let o=i;return this.value===o.value}static forBits(i){if(i<0||i>=ot.FOR_BITS.size)throw new v;return ot.FOR_BITS.get(i)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(Sr.L,"L",1),ot.M=new ot(Sr.M,"M",0),ot.Q=new ot(Sr.Q,"Q",3),ot.H=new ot(Sr.H,"H",2);class Zt{constructor(i){this.errorCorrectionLevel=ot.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return Q.bitCount(i^o)}static decodeFormatInformation(i,o){let a=Zt.doDecodeFormatInformation(i,o);return a!==null?a:Zt.doDecodeFormatInformation(i^Zt.FORMAT_INFO_MASK_QR,o^Zt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u of Zt.FORMAT_INFO_DECODE_LOOKUP){let d=u[0];if(d===i||d===o)return new Zt(u[1]);let h=Zt.numBitsDiffering(i,d);h<a&&(l=u[1],a=h),i!==o&&(h=Zt.numBitsDiffering(o,d),h<a&&(l=u[1],a=h))}return a<=3?new Zt(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Zt))return!1;let o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Zt.FORMAT_INFO_MASK_QR=21522,Zt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0,o=this.ecBlocks;for(let a of o)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class he{constructor(i,o,...a){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=a;let l=0,u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(let h of d)l+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new Y;try{return this.getVersionForNumber((i-17)/4)}catch{throw new Y}}static getVersionForNumber(i){if(i<1||i>40)throw new v;return he.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<he.VERSION_DECODE_INFO.length;l++){let u=he.VERSION_DECODE_INFO[l];if(u===i)return he.getVersionForNumber(l+7);let d=Zt.numBitsDiffering(i,u);d<o&&(a=l+7,o=d)}return o<=3?he.getVersionForNumber(a):null}buildFunctionPattern(){let i=this.getDimensionForVersion(),o=new ve(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);let a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){let u=this.alignmentPatternCenters[l]-2;for(let d=0;d<a;d++)l===0&&(d===0||d===a-1)||l===a-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}he.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),he.VERSIONS=[new he(1,new Int32Array(0),new F(7,new _(1,19)),new F(10,new _(1,16)),new F(13,new _(1,13)),new F(17,new _(1,9))),new he(2,Int32Array.from([6,18]),new F(10,new _(1,34)),new F(16,new _(1,28)),new F(22,new _(1,22)),new F(28,new _(1,16))),new he(3,Int32Array.from([6,22]),new F(15,new _(1,55)),new F(26,new _(1,44)),new F(18,new _(2,17)),new F(22,new _(2,13))),new he(4,Int32Array.from([6,26]),new F(20,new _(1,80)),new F(18,new _(2,32)),new F(26,new _(2,24)),new F(16,new _(4,9))),new he(5,Int32Array.from([6,30]),new F(26,new _(1,108)),new F(24,new _(2,43)),new F(18,new _(2,15),new _(2,16)),new F(22,new _(2,11),new _(2,12))),new he(6,Int32Array.from([6,34]),new F(18,new _(2,68)),new F(16,new _(4,27)),new F(24,new _(4,19)),new F(28,new _(4,15))),new he(7,Int32Array.from([6,22,38]),new F(20,new _(2,78)),new F(18,new _(4,31)),new F(18,new _(2,14),new _(4,15)),new F(26,new _(4,13),new _(1,14))),new he(8,Int32Array.from([6,24,42]),new F(24,new _(2,97)),new F(22,new _(2,38),new _(2,39)),new F(22,new _(4,18),new _(2,19)),new F(26,new _(4,14),new _(2,15))),new he(9,Int32Array.from([6,26,46]),new F(30,new _(2,116)),new F(22,new _(3,36),new _(2,37)),new F(20,new _(4,16),new _(4,17)),new F(24,new _(4,12),new _(4,13))),new he(10,Int32Array.from([6,28,50]),new F(18,new _(2,68),new _(2,69)),new F(26,new _(4,43),new _(1,44)),new F(24,new _(6,19),new _(2,20)),new F(28,new _(6,15),new _(2,16))),new he(11,Int32Array.from([6,30,54]),new F(20,new _(4,81)),new F(30,new _(1,50),new _(4,51)),new F(28,new _(4,22),new _(4,23)),new F(24,new _(3,12),new _(8,13))),new he(12,Int32Array.from([6,32,58]),new F(24,new _(2,92),new _(2,93)),new F(22,new _(6,36),new _(2,37)),new F(26,new _(4,20),new _(6,21)),new F(28,new _(7,14),new _(4,15))),new he(13,Int32Array.from([6,34,62]),new F(26,new _(4,107)),new F(22,new _(8,37),new _(1,38)),new F(24,new _(8,20),new _(4,21)),new F(22,new _(12,11),new _(4,12))),new he(14,Int32Array.from([6,26,46,66]),new F(30,new _(3,115),new _(1,116)),new F(24,new _(4,40),new _(5,41)),new F(20,new _(11,16),new _(5,17)),new F(24,new _(11,12),new _(5,13))),new he(15,Int32Array.from([6,26,48,70]),new F(22,new _(5,87),new _(1,88)),new F(24,new _(5,41),new _(5,42)),new F(30,new _(5,24),new _(7,25)),new F(24,new _(11,12),new _(7,13))),new he(16,Int32Array.from([6,26,50,74]),new F(24,new _(5,98),new _(1,99)),new F(28,new _(7,45),new _(3,46)),new F(24,new _(15,19),new _(2,20)),new F(30,new _(3,15),new _(13,16))),new he(17,Int32Array.from([6,30,54,78]),new F(28,new _(1,107),new _(5,108)),new F(28,new _(10,46),new _(1,47)),new F(28,new _(1,22),new _(15,23)),new F(28,new _(2,14),new _(17,15))),new he(18,Int32Array.from([6,30,56,82]),new F(30,new _(5,120),new _(1,121)),new F(26,new _(9,43),new _(4,44)),new F(28,new _(17,22),new _(1,23)),new F(28,new _(2,14),new _(19,15))),new he(19,Int32Array.from([6,30,58,86]),new F(28,new _(3,113),new _(4,114)),new F(26,new _(3,44),new _(11,45)),new F(26,new _(17,21),new _(4,22)),new F(26,new _(9,13),new _(16,14))),new he(20,Int32Array.from([6,34,62,90]),new F(28,new _(3,107),new _(5,108)),new F(26,new _(3,41),new _(13,42)),new F(30,new _(15,24),new _(5,25)),new F(28,new _(15,15),new _(10,16))),new he(21,Int32Array.from([6,28,50,72,94]),new F(28,new _(4,116),new _(4,117)),new F(26,new _(17,42)),new F(28,new _(17,22),new _(6,23)),new F(30,new _(19,16),new _(6,17))),new he(22,Int32Array.from([6,26,50,74,98]),new F(28,new _(2,111),new _(7,112)),new F(28,new _(17,46)),new F(30,new _(7,24),new _(16,25)),new F(24,new _(34,13))),new he(23,Int32Array.from([6,30,54,78,102]),new F(30,new _(4,121),new _(5,122)),new F(28,new _(4,47),new _(14,48)),new F(30,new _(11,24),new _(14,25)),new F(30,new _(16,15),new _(14,16))),new he(24,Int32Array.from([6,28,54,80,106]),new F(30,new _(6,117),new _(4,118)),new F(28,new _(6,45),new _(14,46)),new F(30,new _(11,24),new _(16,25)),new F(30,new _(30,16),new _(2,17))),new he(25,Int32Array.from([6,32,58,84,110]),new F(26,new _(8,106),new _(4,107)),new F(28,new _(8,47),new _(13,48)),new F(30,new _(7,24),new _(22,25)),new F(30,new _(22,15),new _(13,16))),new he(26,Int32Array.from([6,30,58,86,114]),new F(28,new _(10,114),new _(2,115)),new F(28,new _(19,46),new _(4,47)),new F(28,new _(28,22),new _(6,23)),new F(30,new _(33,16),new _(4,17))),new he(27,Int32Array.from([6,34,62,90,118]),new F(30,new _(8,122),new _(4,123)),new F(28,new _(22,45),new _(3,46)),new F(30,new _(8,23),new _(26,24)),new F(30,new _(12,15),new _(28,16))),new he(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new _(3,117),new _(10,118)),new F(28,new _(3,45),new _(23,46)),new F(30,new _(4,24),new _(31,25)),new F(30,new _(11,15),new _(31,16))),new he(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new _(7,116),new _(7,117)),new F(28,new _(21,45),new _(7,46)),new F(30,new _(1,23),new _(37,24)),new F(30,new _(19,15),new _(26,16))),new he(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new _(5,115),new _(10,116)),new F(28,new _(19,47),new _(10,48)),new F(30,new _(15,24),new _(25,25)),new F(30,new _(23,15),new _(25,16))),new he(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new _(13,115),new _(3,116)),new F(28,new _(2,46),new _(29,47)),new F(30,new _(42,24),new _(1,25)),new F(30,new _(23,15),new _(28,16))),new he(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new _(17,115)),new F(28,new _(10,46),new _(23,47)),new F(30,new _(10,24),new _(35,25)),new F(30,new _(19,15),new _(35,16))),new he(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new _(17,115),new _(1,116)),new F(28,new _(14,46),new _(21,47)),new F(30,new _(29,24),new _(19,25)),new F(30,new _(11,15),new _(46,16))),new he(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new _(13,115),new _(6,116)),new F(28,new _(14,46),new _(23,47)),new F(30,new _(44,24),new _(7,25)),new F(30,new _(59,16),new _(1,17))),new he(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new _(12,121),new _(7,122)),new F(28,new _(12,47),new _(26,48)),new F(30,new _(39,24),new _(14,25)),new F(30,new _(22,15),new _(41,16))),new he(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new _(6,121),new _(14,122)),new F(28,new _(6,47),new _(34,48)),new F(30,new _(46,24),new _(10,25)),new F(30,new _(2,15),new _(64,16))),new he(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new _(17,122),new _(4,123)),new F(28,new _(29,46),new _(14,47)),new F(30,new _(49,24),new _(10,25)),new F(30,new _(24,15),new _(46,16))),new he(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new _(4,122),new _(18,123)),new F(28,new _(13,46),new _(32,47)),new F(30,new _(48,24),new _(14,25)),new F(30,new _(42,15),new _(32,16))),new he(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new _(20,117),new _(4,118)),new F(28,new _(40,47),new _(7,48)),new F(30,new _(43,24),new _(22,25)),new F(30,new _(10,15),new _(67,16))),new he(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new _(19,118),new _(6,119)),new F(28,new _(18,47),new _(31,48)),new F(30,new _(34,24),new _(34,25)),new F(30,new _(20,15),new _(61,16)))];var Xt=function(w){return w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111",w}(Xt||{});class An{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let a=0;a<o;a++)for(let l=0;l<o;l++)this.isMasked(a,l)&&i.flip(l,a)}}An.values=new Map([[Xt.DATA_MASK_000,new An(Xt.DATA_MASK_000,(w,i)=>(w+i&1)===0)],[Xt.DATA_MASK_001,new An(Xt.DATA_MASK_001,(w,i)=>(w&1)===0)],[Xt.DATA_MASK_010,new An(Xt.DATA_MASK_010,(w,i)=>i%3===0)],[Xt.DATA_MASK_011,new An(Xt.DATA_MASK_011,(w,i)=>(w+i)%3===0)],[Xt.DATA_MASK_100,new An(Xt.DATA_MASK_100,(w,i)=>(Math.floor(w/2)+Math.floor(i/3)&1)===0)],[Xt.DATA_MASK_101,new An(Xt.DATA_MASK_101,(w,i)=>w*i%6===0)],[Xt.DATA_MASK_110,new An(Xt.DATA_MASK_110,(w,i)=>w*i%6<3)],[Xt.DATA_MASK_111,new An(Xt.DATA_MASK_111,(w,i)=>(w+i+w*i%3&1)===0)]]);class xf{constructor(i){let o=i.getHeight();if(o<21||(o&3)!==1)throw new Y;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);let o=this.bitMatrix.getHeight(),a=0,l=o-7;for(let u=o-1;u>=l;u--)a=this.copyBit(8,u,a);for(let u=o-8;u<o;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Zt.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return he.getVersionForNumber(o);let a=0,l=i-11;for(let d=5;d>=0;d--)for(let h=i-9;h>=l;h--)a=this.copyBit(h,d,a);let u=he.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let h=i-9;h>=l;h--)a=this.copyBit(d,h,a);if(u=he.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new Y}copyBit(i,o,a){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?a<<1|1:a<<1}readCodewords(){let i=this.readFormatInformation(),o=this.readVersion(),a=An.values.get(i.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);let u=o.buildFunctionPattern(),d=!0,h=new Uint8Array(o.getTotalCodewords()),p=0,y=0,E=0;for(let I=l-1;I>0;I-=2){I===6&&I--;for(let S=0;S<l;S++){let T=d?l-1-S:S;for(let N=0;N<2;N++)u.get(I-N,T)||(E++,y<<=1,this.bitMatrix.get(I-N,T)&&(y|=1),E===8&&(h[p++]=y,E=0,y=0))}d=!d}if(p!==o.getTotalCodewords())throw new Y;return h}remask(){if(this.parsedFormatInfo===null)return;let i=An.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){let i=this.bitMatrix;for(let o=0,a=i.getWidth();o<a;o++)for(let l=o+1,u=i.getHeight();l<u;l++)i.get(o,l)!==i.get(l,o)&&(i.flip(l,o),i.flip(o,l))}}class es{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,a){if(i.length!==o.getTotalCodewords())throw new v;let l=o.getECBlocksForLevel(a),u=0,d=l.getECBlocks();for(let N of d)u+=N.getCount();let h=new Array(u),p=0;for(let N of d)for(let O=0;O<N.getCount();O++){let k=N.getDataCodewords(),P=l.getECCodewordsPerBlock()+k;h[p++]=new es(k,new Uint8Array(P))}let y=h[0].codewords.length,E=h.length-1;for(;E>=0&&h[E].codewords.length!==y;)E--;E++;let I=y-l.getECCodewordsPerBlock(),S=0;for(let N=0;N<I;N++)for(let O=0;O<p;O++)h[O].codewords[N]=i[S++];for(let N=E;N<p;N++)h[N].codewords[I]=i[S++];let T=h[0].codewords.length;for(let N=I;N<T;N++)for(let O=0;O<p;O++){let k=O<E?N:N+1;h[O].codewords[k]=i[S++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn=function(w){return w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI",w}(Gn||{});class pe{constructor(i,o,a,l){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=a,this.bits=l,pe.FOR_BITS.set(l,this),pe.FOR_VALUE.set(i,this)}static forBits(i){let o=pe.FOR_BITS.get(i);if(o===void 0)throw new v;return o}getCharacterCountBits(i){let o=i.getVersionNumber(),a;return o<=9?a=0:o<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof pe))return!1;let o=i;return this.value===o.value}toString(){return this.stringValue}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.TERMINATOR=new pe(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pe.NUMERIC=new pe(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pe.ALPHANUMERIC=new pe(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pe.STRUCTURED_APPEND=new pe(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pe.BYTE=new pe(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pe.ECI=new pe(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),pe.KANJI=new pe(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pe.FNC1_FIRST_POSITION=new pe(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pe.FNC1_SECOND_POSITION=new pe(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pe.HANZI=new pe(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let ic=(()=>{class w{static decode(o,a,l,u){let d=new Qo(o),h=new Ne,p=new Array,y=-1,E=-1;try{let I=null,S=!1,T;do{if(d.available()<4)T=pe.TERMINATOR;else{let N=d.readBits(4);T=pe.forBits(N)}switch(T){case pe.TERMINATOR:break;case pe.FNC1_FIRST_POSITION:case pe.FNC1_SECOND_POSITION:S=!0;break;case pe.STRUCTURED_APPEND:if(d.available()<16)throw new Y;y=d.readBits(8),E=d.readBits(8);break;case pe.ECI:let N=w.parseECIValue(d);if(I=K.getCharacterSetECIByValue(N),I===null)throw new Y;break;case pe.HANZI:let O=d.readBits(4),k=d.readBits(T.getCharacterCountBits(a));O===w.GB2312_SUBSET&&w.decodeHanziSegment(d,h,k);break;default:let P=d.readBits(T.getCharacterCountBits(a));switch(T){case pe.NUMERIC:w.decodeNumericSegment(d,h,P);break;case pe.ALPHANUMERIC:w.decodeAlphanumericSegment(d,h,P,S);break;case pe.BYTE:w.decodeByteSegment(d,h,P,I,p,u);break;case pe.KANJI:w.decodeKanjiSegment(d,h,P);break;default:throw new Y}break}}while(T!==pe.TERMINATOR)}catch{throw new Y}return new br(o,h.toString(),p.length===0?null:p,l===null?null:l.toString(),y,E)}static decodeHanziSegment(o,a,l){if(l*13>o.available())throw new Y;let u=new Uint8Array(2*l),d=0;for(;l>0;){let h=o.readBits(13),p=h/96<<8&4294967295|h%96;p<959?p+=41377:p+=42657,u[d]=p>>8&255,u[d+1]=p&255,d+=2,l--}try{a.append(st.decode(u,we.GB2312))}catch(h){throw new Y(h)}}static decodeKanjiSegment(o,a,l){if(l*13>o.available())throw new Y;let u=new Uint8Array(2*l),d=0;for(;l>0;){let h=o.readBits(13),p=h/192<<8&4294967295|h%192;p<7936?p+=33088:p+=49472,u[d]=p>>8,u[d+1]=p,d+=2,l--}try{a.append(st.decode(u,we.SHIFT_JIS))}catch(h){throw new Y(h)}}static decodeByteSegment(o,a,l,u,d,h){if(8*l>o.available())throw new Y;let p=new Uint8Array(l);for(let E=0;E<l;E++)p[E]=o.readBits(8);let y;u===null?y=we.guessEncoding(p,h):y=u.getName();try{a.append(st.decode(p,y))}catch(E){throw new Y(E)}d.push(p)}static toAlphaNumericChar(o){if(o>=w.ALPHANUMERIC_CHARS.length)throw new Y;return w.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,a,l,u){let d=a.length();for(;l>1;){if(o.available()<11)throw new Y;let h=o.readBits(11);a.append(w.toAlphaNumericChar(Math.floor(h/45))),a.append(w.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(o.available()<6)throw new Y;a.append(w.toAlphaNumericChar(o.readBits(6)))}if(u)for(let h=d;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(o,a,l){for(;l>=3;){if(o.available()<10)throw new Y;let u=o.readBits(10);if(u>=1e3)throw new Y;a.append(w.toAlphaNumericChar(Math.floor(u/100))),a.append(w.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(w.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(o.available()<7)throw new Y;let u=o.readBits(7);if(u>=100)throw new Y;a.append(w.toAlphaNumericChar(Math.floor(u/10))),a.append(w.toAlphaNumericChar(u%10))}else if(l===1){if(o.available()<4)throw new Y;let u=o.readBits(4);if(u>=10)throw new Y;a.append(w.toAlphaNumericChar(u))}}static parseECIValue(o){let a=o.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){let l=o.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){let l=o.readBits(16);return(a&31)<<16&4294967295|l}throw new Y}}return w.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",w.GB2312_SUBSET=1,w})();class oc{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;let o=i[0];i[0]=i[2],i[2]=o}}class Ni{constructor(){this.rsDecoder=new Wt(Xe.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(ve.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){let a=new xf(i),l=null;try{return this.decodeBitMatrixParser(a,o)}catch(u){l=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();let u=this.decodeBitMatrixParser(a,o);return u.setOther(new oc(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(i,o){let a=i.readVersion(),l=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),d=es.getDataBlocks(u,a,l),h=0;for(let E of d)h+=E.getNumDataCodewords();let p=new Uint8Array(h),y=0;for(let E of d){let I=E.getCodewords(),S=E.getNumDataCodewords();this.correctErrors(I,S);for(let T=0;T<S;T++)p[y++]=I[T]}return ic.decode(p,a,l,o)}correctErrors(i,o){let a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-o)}catch{throw new D}for(let l=0;l<o;l++)i[l]=a[l]}}class ts extends le{constructor(i,o,a){super(i,o),this.estimatedModuleSize=a}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){let l=Math.abs(i-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){let l=(this.getX()+o)/2,u=(this.getY()+i)/2,d=(this.estimatedModuleSize+a)/2;return new ts(l,u,d)}}class ns{constructor(i,o,a,l,u,d,h){this.image=i,this.startX=o,this.startY=a,this.width=l,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let i=this.startX,o=this.height,a=this.width,l=i+a,u=this.startY+o/2,d=new Int32Array(3),h=this.image;for(let p=0;p<o;p++){let y=u+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=i;for(;E<l&&!h.get(E,y);)E++;let I=0;for(;E<l;){if(h.get(E,y))if(I===1)d[1]++;else if(I===2){if(this.foundPatternCross(d)){let S=this.handlePossibleCenter(d,y,E);if(S!==null)return S}d[0]=d[2],d[1]=1,d[2]=0,I=1}else d[++I]++;else I===1&&I++,d[I]++;E++}if(this.foundPatternCross(d)){let S=this.handlePossibleCenter(d,y,l);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){let o=this.moduleSize,a=o/2;for(let l=0;l<3;l++)if(Math.abs(o-i[l])>=a)return!1;return!0}crossCheckVertical(i,o,a,l){let u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let p=i;for(;p>=0&&u.get(o,p)&&h[1]<=a;)h[1]++,p--;if(p<0||h[1]>a)return NaN;for(;p>=0&&!u.get(o,p)&&h[0]<=a;)h[0]++,p--;if(h[0]>a)return NaN;for(p=i+1;p<d&&u.get(o,p)&&h[1]<=a;)h[1]++,p++;if(p===d||h[1]>a)return NaN;for(;p<d&&!u.get(o,p)&&h[2]<=a;)h[2]++,p++;if(h[2]>a)return NaN;let y=h[0]+h[1]+h[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(h)?ns.centerFromEnd(h,p):NaN}handlePossibleCenter(i,o,a){let l=i[0]+i[1]+i[2],u=ns.centerFromEnd(i,a),d=this.crossCheckVertical(o,u,2*i[1],l);if(!isNaN(d)){let h=(i[0]+i[1]+i[2])/3;for(let y of this.possibleCenters)if(y.aboutEquals(h,d,u))return y.combineEstimate(d,u,h);let p=new ts(u,d,h);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class lo extends le{constructor(i,o,a,l){super(i,o),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,a){if(Math.abs(o-this.getY())<=i&&Math.abs(a-this.getX())<=i){let l=Math.abs(i-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(i,o,a){let l=this.count+1,u=(this.count*this.getX()+o)/l,d=(this.count*this.getY()+i)/l,h=(this.count*this.estimatedModuleSize+a)/l;return new lo(u,d,h,l)}}class sc{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Ef=(()=>{class w{constructor(o,a){this.image=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){let a=o!=null&&o.get(Se.TRY_HARDER)!==void 0,l=o!=null&&o.get(Se.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),h=u.getWidth(),p=Math.floor(3*d/(4*w.MAX_MODULES));(p<w.MIN_SKIP||a)&&(p=w.MIN_SKIP);let y=!1,E=new Int32Array(5);for(let S=p-1;S<d&&!y;S+=p){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let T=0;for(let N=0;N<h;N++)if(u.get(N,S))(T&1)===1&&T++,E[T]++;else if((T&1)===0)if(T===4)if(w.foundPatternCross(E)){if(this.handlePossibleCenter(E,S,N,l)===!0)if(p=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{let k=this.findRowSkip();k>E[2]&&(S+=k-E[2]-p,N=h-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,T=3;continue}T=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,T=3;else E[++T]++;else E[T]++;w.foundPatternCross(E)&&this.handlePossibleCenter(E,S,h,l)===!0&&(p=E[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}let I=this.selectBestPatterns();return le.orderBestPatterns(I),new sc(I)}static centerFromEnd(o,a){return a-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let a=0;for(let d=0;d<5;d++){let h=o[d];if(h===0)return!1;a+=h}if(a<7)return!1;let l=a/7,u=l/2;return Math.abs(l-o[0])<u&&Math.abs(l-o[1])<u&&Math.abs(3*l-o[2])<3*u&&Math.abs(l-o[3])<u&&Math.abs(l-o[4])<u}getCrossCheckStateCount(){let o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,a,l,u){let d=this.getCrossCheckStateCount(),h=0,p=this.image;for(;o>=h&&a>=h&&p.get(a-h,o-h);)d[2]++,h++;if(o<h||a<h)return!1;for(;o>=h&&a>=h&&!p.get(a-h,o-h)&&d[1]<=l;)d[1]++,h++;if(o<h||a<h||d[1]>l)return!1;for(;o>=h&&a>=h&&p.get(a-h,o-h)&&d[0]<=l;)d[0]++,h++;if(d[0]>l)return!1;let y=p.getHeight(),E=p.getWidth();for(h=1;o+h<y&&a+h<E&&p.get(a+h,o+h);)d[2]++,h++;if(o+h>=y||a+h>=E)return!1;for(;o+h<y&&a+h<E&&!p.get(a+h,o+h)&&d[3]<l;)d[3]++,h++;if(o+h>=y||a+h>=E||d[3]>=l)return!1;for(;o+h<y&&a+h<E&&p.get(a+h,o+h)&&d[4]<l;)d[4]++,h++;if(d[4]>=l)return!1;let I=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(I-u)<2*u&&w.foundPatternCross(d)}crossCheckVertical(o,a,l,u){let d=this.image,h=d.getHeight(),p=this.getCrossCheckStateCount(),y=o;for(;y>=0&&d.get(a,y);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(a,y)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&d.get(a,y)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=o+1;y<h&&d.get(a,y);)p[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(a,y)&&p[3]<l;)p[3]++,y++;if(y===h||p[3]>=l)return NaN;for(;y<h&&d.get(a,y)&&p[4]<l;)p[4]++,y++;if(p[4]>=l)return NaN;let E=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(E-u)>=2*u?NaN:w.foundPatternCross(p)?w.centerFromEnd(p,y):NaN}crossCheckHorizontal(o,a,l,u){let d=this.image,h=d.getWidth(),p=this.getCrossCheckStateCount(),y=o;for(;y>=0&&d.get(y,a);)p[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,a)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&d.get(y,a)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=o+1;y<h&&d.get(y,a);)p[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(y,a)&&p[3]<l;)p[3]++,y++;if(y===h||p[3]>=l)return NaN;for(;y<h&&d.get(y,a)&&p[4]<l;)p[4]++,y++;if(p[4]>=l)return NaN;let E=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(E-u)>=u?NaN:w.foundPatternCross(p)?w.centerFromEnd(p,y):NaN}handlePossibleCenter(o,a,l,u){let d=o[0]+o[1]+o[2]+o[3]+o[4],h=w.centerFromEnd(o,l),p=this.crossCheckVertical(a,Math.floor(h),o[2],d);if(!isNaN(p)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(p),o[2],d),!isNaN(h)&&(!u||this.crossCheckDiagonal(Math.floor(p),Math.floor(h),o[2],d)))){let y=d/7,E=!1,I=this.possibleCenters;for(let S=0,T=I.length;S<T;S++){let N=I[S];if(N.aboutEquals(y,p,h)){I[S]=N.combineEstimate(p,h,y),E=!0;break}}if(!E){let S=new lo(h,p,y);I.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(let l of this.possibleCenters)if(l.getCount()>=w.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,a=0,l=this.possibleCenters.length;for(let h of this.possibleCenters)h.getCount()>=w.CENTER_QUORUM&&(o++,a+=h.getEstimatedModuleSize());if(o<3)return!1;let u=a/l,d=0;for(let h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-u);return d<=.05*a}selectBestPatterns(){let o=this.possibleCenters.length;if(o<3)throw new H;let a=this.possibleCenters,l;if(o>3){let u=0,d=0;for(let y of this.possibleCenters){let E=y.getEstimatedModuleSize();u+=E,d+=E*E}l=u/o;let h=Math.sqrt(d/o-l*l);a.sort((y,E)=>{let I=Math.abs(E.getEstimatedModuleSize()-l),S=Math.abs(y.getEstimatedModuleSize()-l);return I<S?-1:I>S?1:0});let p=Math.max(.2*l,h);for(let y=0;y<a.length&&a.length>3;y++){let E=a[y];Math.abs(E.getEstimatedModuleSize()-l)>p&&(a.splice(y,1),y--)}}if(a.length>3){let u=0;for(let d of a)u+=d.getEstimatedModuleSize();l=u/a.length,a.sort((d,h)=>{if(h.getCount()===d.getCount()){let p=Math.abs(h.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return p<y?1:p>y?-1:0}else return h.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}return w.CENTER_QUORUM=2,w.MIN_SKIP=3,w.MAX_MODULES=57,w})();class co{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Se.NEED_RESULT_POINT_CALLBACK);let a=new Ef(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){let o=i.getTopLeft(),a=i.getTopRight(),l=i.getBottomLeft(),u=this.calculateModuleSize(o,a,l);if(u<1)throw new H("No pattern found in proccess finder.");let d=co.computeDimension(o,a,l,u),h=he.getProvisionalVersionForDimension(d),p=h.getDimensionForVersion()-7,y=null;if(h.getAlignmentPatternCenters().length>0){let T=a.getX()-o.getX()+l.getX(),N=a.getY()-o.getY()+l.getY(),O=1-3/p,k=Math.floor(o.getX()+O*(T-o.getX())),P=Math.floor(o.getY()+O*(N-o.getY()));for(let Z=4;Z<=16;Z<<=1)try{y=this.findAlignmentInRegion(u,k,P,Z);break}catch(te){if(!(te instanceof H))throw te}}let E=co.createTransform(o,a,l,y,d),I=co.sampleGrid(this.image,E,d),S;return y===null?S=[l,o,a]:S=[l,o,a,y],new ro(I,S)}static createTransform(i,o,a,l,u){let d=u-3.5,h,p,y,E;return l!==null?(h=l.getX(),p=l.getY(),y=d-3,E=y):(h=o.getX()-i.getX()+a.getX(),p=o.getY()-i.getY()+a.getY(),y=d,E=d),qt.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,E,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),h,p,a.getX(),a.getY())}static sampleGrid(i,o,a){return vt.getInstance().sampleGridWithTransform(i,a,a,o)}static computeDimension(i,o,a,l){let u=be.round(le.distance(i,o)/l),d=be.round(le.distance(i,a)/l),h=Math.floor((u+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new H("Dimensions could be not found.")}return h}calculateModuleSize(i,o,a){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,o){let a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,a,l){let u=this.sizeOfBlackWhiteBlackRun(i,o,a,l),d=1,h=i-(a-i);h<0?(d=i/(i-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(h-i),h=this.image.getWidth()-1);let p=Math.floor(o-(l-o)*d);return d=1,p<0?(d=o/(o-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(p-o),p=this.image.getHeight()-1),h=Math.floor(i+(h-i)*d),u+=this.sizeOfBlackWhiteBlackRun(i,o,h,p),u-1}sizeOfBlackWhiteBlackRun(i,o,a,l){let u=Math.abs(l-o)>Math.abs(a-i);if(u){let T=i;i=o,o=T,T=a,a=l,l=T}let d=Math.abs(a-i),h=Math.abs(l-o),p=-d/2,y=i<a?1:-1,E=o<l?1:-1,I=0,S=a+y;for(let T=i,N=o;T!==S;T+=y){let O=u?N:T,k=u?T:N;if(I===1===this.image.get(O,k)){if(I===2)return be.distance(T,N,i,o);I++}if(p+=h,p>0){if(N===l)break;N+=E,p-=d}}return I===2?be.distance(a+y,l,i,o):NaN}findAlignmentInRegion(i,o,a,l){let u=Math.floor(l*i),d=Math.max(0,o-u),h=Math.min(this.image.getWidth()-1,o+u);if(h-d<i*3)throw new H("Alignment top exceeds estimated module size.");let p=Math.max(0,a-u),y=Math.min(this.image.getHeight()-1,a+u);if(y-p<i*3)throw new H("Alignment bottom exceeds estimated module size.");return new ns(this.image,d,p,h-d,y-p,i,this.resultPointCallback).find()}}class _r{constructor(){this.decoder=new Ni}getDecoder(){return this.decoder}decode(i,o){let a,l;if(o!=null&&o.get(Se.PURE_BARCODE)!==void 0){let p=_r.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(p,o),l=_r.NO_POINTS}else{let p=new co(i.getBlackMatrix()).detect(o);a=this.decoder.decodeBitMatrix(p.getBits(),o),l=p.getPoints()}a.getOther()instanceof oc&&a.getOther().applyMirroredCorrection(l);let u=new Dt(a.getText(),a.getRawBytes(),void 0,l,fe.QR_CODE,void 0),d=a.getByteSegments();d!==null&&u.putMetadata(Ft.BYTE_SEGMENTS,d);let h=a.getECLevel();return h!==null&&u.putMetadata(Ft.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(u.putMetadata(Ft.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(Ft.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){let o=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(o===null||a===null)throw new H;let l=this.moduleSize(o,i),u=o[1],d=a[1],h=o[0],p=a[0];if(h>=p||u>=d)throw new H;if(d-u!==p-h&&(p=h+(d-u),p>=i.getWidth()))throw new H;let y=Math.round((p-h+1)/l),E=Math.round((d-u+1)/l);if(y<=0||E<=0)throw new H;if(E!==y)throw new H;let I=Math.floor(l/2);u+=I,h+=I;let S=h+Math.floor((y-1)*l)-p;if(S>0){if(S>I)throw new H;h-=S}let T=u+Math.floor((E-1)*l)-d;if(T>0){if(T>I)throw new H;u-=T}let N=new ve(y,E);for(let O=0;O<E;O++){let k=u+Math.floor(O*l);for(let P=0;P<y;P++)i.get(h+Math.floor(P*l),k)&&N.set(P,O)}return N}static moduleSize(i,o){let a=o.getHeight(),l=o.getWidth(),u=i[0],d=i[1],h=!0,p=0;for(;u<l&&d<a;){if(h!==o.get(u,d)){if(++p===5)break;h=!h}u++,d++}if(u===l||d===a)throw new H;return(u-i[0])/7}}_r.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(i){return be.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ce.EMPTY_INT_ARRAY;let o=new Int32Array(i.length),a=0;for(let l of i)o[a++]=l;return o}static getCodeword(i){let o=W.binarySearch(Ce.SYMBOL_TABLE,i&262143);return o<0?-1:(Ce.CODEWORD_TABLE[o]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bf{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Re{static detectMultiple(i,o,a){let l=i.getBlackMatrix(),u=Re.detect(a,l);return u.length||(l=l.clone(),l.rotate180(),u=Re.detect(a,l)),new bf(l,u)}static detect(i,o){let a=new Array,l=0,u=0,d=!1;for(;l<o.getHeight();){let h=Re.findVertices(o,l,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;for(let p of a)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=Re.ROW_STEP;continue}if(d=!0,a.push(h),!i)break;h[2]!=null?(u=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return a}static findVertices(i,o,a){let l=i.getHeight(),u=i.getWidth(),d=new Array(8);return Re.copyToResult(d,Re.findRowsWithPattern(i,l,u,o,a,Re.START_PATTERN),Re.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),Re.copyToResult(d,Re.findRowsWithPattern(i,l,u,o,a,Re.STOP_PATTERN),Re.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,a){for(let l=0;l<a.length;l++)i[a[l]]=o[l]}static findRowsWithPattern(i,o,a,l,u,d){let h=new Array(4),p=!1,y=new Int32Array(d.length);for(;l<o;l+=Re.ROW_STEP){let I=Re.findGuardPattern(i,u,l,a,!1,d,y);if(I!=null){for(;l>0;){let S=Re.findGuardPattern(i,u,--l,a,!1,d,y);if(S!=null)I=S;else{l++;break}}h[0]=new le(I[0],l),h[1]=new le(I[1],l),p=!0;break}}let E=l+1;if(p){let I=0,S=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;E<o;E++){let T=Re.findGuardPattern(i,S[0],E,a,!1,d,y);if(T!=null&&Math.abs(S[0]-T[0])<Re.MAX_PATTERN_DRIFT&&Math.abs(S[1]-T[1])<Re.MAX_PATTERN_DRIFT)S=T,I=0;else{if(I>Re.SKIPPED_ROW_COUNT_MAX)break;I++}}E-=I+1,h[2]=new le(S[0],E),h[3]=new le(S[1],E)}return E-l<Re.BARCODE_MIN_HEIGHT&&W.fill(h,null),h}static findGuardPattern(i,o,a,l,u,d,h){W.fillWithin(h,0,h.length,0);let p=o,y=0;for(;i.get(p,a)&&p>0&&y++<Re.MAX_PIXEL_DRIFT;)p--;let E=p,I=0,S=d.length;for(let T=u;E<l;E++)if(i.get(E,a)!==T)h[I]++;else{if(I===S-1){if(Re.patternMatchVariance(h,d,Re.MAX_INDIVIDUAL_VARIANCE)<Re.MAX_AVG_VARIANCE)return new Int32Array([p,E]);p+=h[0]+h[1],R.arraycopy(h,2,h,0,I-1),h[I-1]=0,h[I]=0,I--}else I++;h[I]=1,T=!T}return I===S-1&&Re.patternMatchVariance(h,d,Re.MAX_INDIVIDUAL_VARIANCE)<Re.MAX_AVG_VARIANCE?new Int32Array([p,E-1]):null}static patternMatchVariance(i,o,a){let l=i.length,u=0,d=0;for(let y=0;y<l;y++)u+=i[y],d+=o[y];if(u<d)return 1/0;let h=u/d;a*=h;let p=0;for(let y=0;y<l;y++){let E=i[y],I=o[y]*h,S=E>I?E-I:I-E;if(S>a)return 1/0;p+=S}return p/u}}Re.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Re.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Re.MAX_AVG_VARIANCE=.42,Re.MAX_INDIVIDUAL_VARIANCE=.8,Re.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Re.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Re.MAX_PIXEL_DRIFT=3,Re.MAX_PATTERN_DRIFT=5,Re.SKIPPED_ROW_COUNT_MAX=25,Re.ROW_STEP=5,Re.BARCODE_MIN_HEIGHT=10;class bt{constructor(i,o){if(o.length===0)throw new v;this.field=i;let a=o.length;if(a>1&&o[0]===0){let l=1;for(;l<a&&o[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),R.arraycopy(o,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let o=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)o=this.field.add(this.field.multiply(i,o),this.coefficients[l]);return o}add(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,a=i.coefficients;if(o.length>a.length){let d=o;o=a,a=d}let l=new Int32Array(a.length),u=a.length-o.length;R.arraycopy(a,0,l,0,u);for(let d=u;d<a.length;d++)l[d]=this.field.add(o[d-u],a[d]);return new bt(this.field,l)}subtract(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof bt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new bt(this.field,new Int32Array([0]));let o=this.coefficients,a=o.length,l=i.coefficients,u=l.length,d=new Int32Array(a+u-1);for(let h=0;h<a;h++){let p=o[h];for(let y=0;y<u;y++)d[h+y]=this.field.add(d[h+y],this.field.multiply(p,l[y]))}return new bt(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.subtract(0,this.coefficients[a]);return new bt(this.field,o)}multiplyScalar(i){if(i===0)return new bt(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,a=new Int32Array(o);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new bt(this.field,a)}multiplyByMonomial(i,o){if(i<0)throw new v;if(o===0)return new bt(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+i);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],o);return new bt(this.field,l)}toString(){let i=new Ne;for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(o===0||a!==1)&&i.append(a),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class If{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}inverse(i){if(i===0)throw new no;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class rs extends If{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let l=0;l<i;l++)this.expTable[l]=a,a=a*o%i;for(let l=0;l<i-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new bt(this,new Int32Array([0])),this.one=new bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new v;if(o===0)return this.zero;let a=new Int32Array(i+1);return a[0]=o,new bt(this,a)}}rs.PDF417_GF=new rs(Ce.NUMBER_OF_CODEWORDS,3);class _a{constructor(){this.field=rs.PDF417_GF}decode(i,o,a){let l=new bt(this.field,i),u=new Int32Array(o),d=!1;for(let N=o;N>0;N--){let O=l.evaluateAt(this.field.exp(N));u[o-N]=O,O!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(a!=null)for(let N of a){let O=this.field.exp(i.length-1-N),k=new bt(this.field,new Int32Array([this.field.subtract(0,O),1]));h=h.multiply(k)}let p=new bt(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),p,o),E=y[0],I=y[1],S=this.findErrorLocations(E),T=this.findErrorMagnitudes(I,E,S);for(let N=0;N<S.length;N++){let O=i.length-1-this.field.log(S[N]);if(O<0)throw D.getChecksumInstance();i[O]=this.field.subtract(i[O],T[N])}return S.length}runEuclideanAlgorithm(i,o,a){if(i.getDegree()<o.getDegree()){let S=i;i=o,o=S}let l=i,u=o,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let S=l,T=d;if(l=u,d=h,l.isZero())throw D.getChecksumInstance();u=S;let N=this.field.getZero(),O=l.getCoefficient(l.getDegree()),k=this.field.inverse(O);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let P=u.getDegree()-l.getDegree(),Z=this.field.multiply(u.getCoefficient(u.getDegree()),k);N=N.add(this.field.buildMonomial(P,Z)),u=u.subtract(l.multiplyByMonomial(P,Z))}h=N.multiply(d).subtract(T).negative()}let p=h.getCoefficient(0);if(p===0)throw D.getChecksumInstance();let y=this.field.inverse(p),E=h.multiply(y),I=u.multiply(y);return[E,I]}findErrorLocations(i){let o=i.getDegree(),a=new Int32Array(o),l=0;for(let u=1;u<this.field.getSize()&&l<o;u++)i.evaluateAt(u)===0&&(a[l]=this.field.inverse(u),l++);if(l!==o)throw D.getChecksumInstance();return a}findErrorMagnitudes(i,o,a){let l=o.getDegree(),u=new Int32Array(l);for(let y=1;y<=l;y++)u[l-y]=this.field.multiply(y,o.getCoefficient(y));let d=new bt(this.field,u),h=a.length,p=new Int32Array(h);for(let y=0;y<h;y++){let E=this.field.inverse(a[y]),I=this.field.subtract(0,i.evaluateAt(E)),S=this.field.inverse(d.evaluateAt(E));p[y]=this.field.multiply(I,S)}return p}}class ri{constructor(i,o,a,l,u){i instanceof ri?this.constructor_2(i):this.constructor_1(i,o,a,l,u)}constructor_1(i,o,a,l,u){let d=o==null||a==null,h=l==null||u==null;if(d&&h)throw new H;d?(o=new le(0,l.getY()),a=new le(0,u.getY())):h&&(l=new le(i.getWidth()-1,o.getY()),u=new le(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=o,this.bottomLeft=a,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(o.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(o.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new ri(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,a){let l=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(i>0){let p=a?this.topLeft:this.topRight,y=Math.trunc(p.getY()-i);y<0&&(y=0);let E=new le(p.getX(),y);a?l=E:d=E}if(o>0){let p=a?this.bottomLeft:this.bottomRight,y=Math.trunc(p.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let E=new le(p.getX(),y);a?u=E:h=E}return new ri(this.image,l,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Df{constructor(i,o,a,l){this.columnCount=i,this.errorCorrectionLevel=l,this.rowCountUpperPart=o,this.rowCountLowerPart=a,this.rowCount=o+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class uo{constructor(){this.buffer=""}static form(i,o){let a=-1;function l(d,h,p,y,E,I){if(d==="%%")return"%";if(o[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let S=E?parseInt(E.substr(1)):void 0,T;switch(I){case"s":T=o[a];break;case"c":T=o[a][0];break;case"f":T=parseFloat(o[a]).toFixed(d);break;case"p":T=parseFloat(o[a]).toPrecision(d);break;case"e":T=parseFloat(o[a]).toExponential(d);break;case"x":T=parseInt(o[a]).toString(S||16);break;case"d":T=parseFloat(parseInt(o[a],S||10).toPrecision(d)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let N=parseInt(p),O=p&&p[0]+""=="0"?"0":" ";for(;T.length<N;)T=h!==void 0?T+O:O+T;return T}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,l)}format(i,...o){this.buffer+=uo.form(i,o)}toString(){return this.buffer}}let ac=(()=>{class w{constructor(o){this.boundingBox=new ri(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let a=this.getCodeword(o);if(a!=null)return a;for(let l=1;l<w.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(o)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(o)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,a){this.codewords[this.imageRowToCodewordIndex(o)]=a}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let o=new uo,a=0;for(let l of this.codewords){if(l==null){o.format("%3d:    |   %n",a++);continue}o.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return o.toString()}}return w.MAX_NEARBY_DISTANCE=5,w})();class fo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(let[a,l]of this.values.entries()){let u={getKey:()=>a,getValue:()=>l};u.getValue()>i?(i=u.getValue(),o=[],o.push(u.getKey())):u.getValue()===i&&o.push(u.getKey())}return Ce.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class lc extends ac{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,y=1,E=0;for(let I=d;I<h;I++){if(o[I]==null)continue;let S=o[I],T=S.getRowNumber()-p;if(T===0)E++;else if(T===1)y=Math.max(y,E),E=1,p=S.getRowNumber();else if(T<0||S.getRowNumber()>=i.getRowCount()||T>I)o[I]=null;else{let N;y>2?N=(y-2)*T:N=T;let O=N>=I;for(let k=1;k<=N&&!O;k++)O=o[I-k]!=null;O?o[I]=null:(p=S.getRowNumber(),E=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=o.length)continue;o[l]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),p=-1;for(let y=u;y<d;y++){if(h[y]==null)continue;let E=h[y];E.setRowNumberAsRowIndicatorColumn();let I=E.getRowNumber()-p;I===0||(I===1?p=E.getRowNumber():E.getRowNumber()>=i.getRowCount()?h[y]=null:p=E.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new fo,a=new fo,l=new fo,u=new fo;for(let h of i){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let p=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:a.setValue(p*3+1);break;case 1:u.setValue(p/3),l.setValue(p%3);break;case 2:o.setValue(p+1);break}}if(o.getValue().length===0||a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let d=new Df(o.getValue()[0],a.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let a=0;a<i.length;a++){let l=i[a];if(i[a]==null)continue;let u=l.getValue()%30,d=l.getRowNumber();if(d>o.getRowCount()){i[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==o.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(u/3)!==o.getErrorCorrectionLevel()||u%3!==o.getRowCountLowerPart())&&(i[a]=null);break;case 2:u+1!==o.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ho{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ce.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let a=this.detectionResultColumns[o].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(o,l,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&o[a]!=null&&i[a].getRowNumber()===o[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[a];u!=null&&(u.setRowNumber(i[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let l=o[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=ho.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let l=o[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=ho.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,a){if(!this.detectionResultColumns[i-1])return;let l=a[o],u=this.detectionResultColumns[i-1].getCodewords(),d=u;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let h=new Array(14);h[2]=u[o],h[3]=d[o],o>0&&(h[0]=a[o-1],h[4]=u[o-1],h[5]=d[o-1]),o>1&&(h[8]=a[o-2],h[10]=u[o-2],h[11]=d[o-2]),o<a.length-1&&(h[1]=a[o+1],h[6]=u[o+1],h[7]=d[o+1]),o<a.length-2&&(h[9]=a[o+2],h[12]=u[o+2],h[13]=d[o+2]);for(let p of h)if(ho.adjustRowNumber(l,p))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new uo;for(let a=0;a<i.getCodewords().length;a++){o.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){o.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[a];if(u==null){o.format("    |   ");continue}o.format(" %3d|%3d",u.getRowNumber(),u.getValue())}o.format("%n")}return o.toString()}}let Ri=(()=>{class w{constructor(o,a,l,u){this.rowNumber=w.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==w.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}return w.BARCODE_ROW_UNKNOWN=-1,w})();class fn{static initialize(){for(let i=0;i<Ce.SYMBOL_TABLE.length;i++){let o=Ce.SYMBOL_TABLE[i],a=o&1;for(let l=0;l<Ce.BARS_IN_MODULE;l++){let u=0;for(;(o&1)===a;)u+=1,o>>=1;a=o&1,fn.RATIOS_TABLE[i]||(fn.RATIOS_TABLE[i]=new Array(Ce.BARS_IN_MODULE)),fn.RATIOS_TABLE[i][Ce.BARS_IN_MODULE-l-1]=Math.fround(u/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=fn.getDecodedCodewordValue(fn.sampleBitCounts(i));return o!==-1?o:fn.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=be.sum(i),a=new Int32Array(Ce.BARS_IN_MODULE),l=0,u=0;for(let d=0;d<Ce.MODULES_IN_CODEWORD;d++){let h=o/(2*Ce.MODULES_IN_CODEWORD)+d*o/Ce.MODULES_IN_CODEWORD;u+i[l]<=h&&(u+=i[l],l++),a[l]++}return a}static getDecodedCodewordValue(i){let o=fn.getBitValue(i);return Ce.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let a=0;a<i.length;a++)for(let l=0;l<i[a];l++)o=o<<1|(a%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=be.sum(i),a=new Array(Ce.BARS_IN_MODULE);if(o>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(i[d]/o);let l=ei.MAX_VALUE,u=-1;this.bSymbolTableReady||fn.initialize();for(let d=0;d<fn.RATIOS_TABLE.length;d++){let h=0,p=fn.RATIOS_TABLE[d];for(let y=0;y<Ce.BARS_IN_MODULE;y++){let E=Math.fround(p[y]-a[y]);if(h+=Math.fround(E*E),h>=l)break}h<l&&(l=h,u=Ce.SYMBOL_TABLE[d])}return u}}fn.bSymbolTableReady=!1,fn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(w=>w=new Array(Ce.BARS_IN_MODULE));class cc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Ta{static parseLong(i,o=void 0){return parseInt(i,o)}}let Af=(()=>{class w extends g{}return w.kind="NullPointerException",w})();class Tr{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,a){if(i==null)throw new Af;if(o<0||o>i.length||a<0||o+a>i.length||o+a<0)throw new G;if(a===0)return;for(let l=0;l<a;l++)this.write(i[o+l])}flush(){}close(){}}class Sf extends g{}class uc extends Tr{constructor(i=32){if(super(),this.count=0,i<0)throw new v("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Sf;a=Q.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,a){if(o<0||o>i.length||a<0||o+a-i.length>0)throw new G;this.ensureCapacity(this.count+a),R.arraycopy(i,o,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var nt=function(w){return w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT",w}(nt||{});function dc(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let is;function Mr(w){if(typeof is>"u"&&(is=dc()),is===null)throw new Error("BigInt is not supported!");return is(w)}function fc(){let w=[];w[0]=Mr(1);let i=Mr(900);w[1]=i;for(let o=2;o<16;o++)w[o]=w[o-1]*i;return w}class L{static decode(i,o){let a=new Ne(""),l=K.ISO8859_1;a.enableDecoding(l);let u=1,d=i[u++],h=new cc;for(;u<i[0];){switch(d){case L.TEXT_COMPACTION_MODE_LATCH:u=L.textCompaction(i,u,a);break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:u=L.byteCompaction(d,i,l,u,a);break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[u++]);break;case L.NUMERIC_COMPACTION_MODE_LATCH:u=L.numericCompaction(i,u,a);break;case L.ECI_CHARSET:let y=K.getCharacterSetECIByValue(i[u++]);break;case L.ECI_GENERAL_PURPOSE:u+=2;break;case L.ECI_USER_DEFINED:u++;break;case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=L.decodeMacroBlock(i,u,h);break;case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:throw new Y;default:u--,u=L.textCompaction(i,u,a);break}if(u<i.length)d=i[u++];else throw Y.getFormatInstance()}if(a.length()===0)throw Y.getFormatInstance();let p=new br(null,a.toString(),null,o);return p.setOther(h),p}static decodeMacroBlock(i,o,a){if(o+L.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw Y.getFormatInstance();let l=new Int32Array(L.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<L.NUMBER_OF_SEQUENCE_CODEWORDS;h++,o++)l[h]=i[o];a.setSegmentIndex(Q.parseInt(L.decodeBase900toBase10(l,L.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ne;o=L.textCompaction(i,o,u),a.setFileId(u.toString());let d=-1;for(i[o]===L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Ne;o=L.textCompaction(i,o+1,h),a.setFileName(h.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Ne;o=L.textCompaction(i,o+1,p),a.setSender(p.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Ne;o=L.textCompaction(i,o+1,y),a.setAddressee(y.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Ne;o=L.numericCompaction(i,o+1,E),a.setSegmentCount(Q.parseInt(E.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new Ne;o=L.numericCompaction(i,o+1,I),a.setTimestamp(Ta.parseLong(I.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Ne;o=L.numericCompaction(i,o+1,S),a.setChecksum(Q.parseInt(S.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Ne;o=L.numericCompaction(i,o+1,T),a.setFileSize(Ta.parseLong(T.toString()));break;default:throw Y.getFormatInstance()}break;case L.MACRO_PDF417_TERMINATOR:o++,a.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(d!==-1){let h=o-d;a.isLastSegment()&&h--,a.setOptionalData(W.copyOfRange(i,d,d+h))}return o}static textCompaction(i,o,a){let l=new Int32Array((i[0]-o)*2),u=new Int32Array((i[0]-o)*2),d=0,h=!1;for(;o<i[0]&&!h;){let p=i[o++];if(p<L.TEXT_COMPACTION_MODE_LATCH)l[d]=p/30,l[d+1]=p%30,d+=2;else switch(p){case L.TEXT_COMPACTION_MODE_LATCH:l[d++]=L.TEXT_COMPACTION_MODE_LATCH;break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:o--,h=!0;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=i[o++],u[d]=p,d++;break}}return L.decodeTextCompaction(l,u,d,a),o}static decodeTextCompaction(i,o,a,l){let u=nt.ALPHA,d=nt.ALPHA,h=0;for(;h<a;){let p=i[h],y="";switch(u){case nt.ALPHA:if(p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case L.LL:u=nt.LOWER;break;case L.ML:u=nt.MIXED;break;case L.PS:d=u,u=nt.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=nt.ALPHA;break}break;case nt.LOWER:if(p<26)y=String.fromCharCode(97+p);else switch(p){case 26:y=" ";break;case L.AS:d=u,u=nt.ALPHA_SHIFT;break;case L.ML:u=nt.MIXED;break;case L.PS:d=u,u=nt.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=nt.ALPHA;break}break;case nt.MIXED:if(p<L.PL)y=L.MIXED_CHARS[p];else switch(p){case L.PL:u=nt.PUNCT;break;case 26:y=" ";break;case L.LL:u=nt.LOWER;break;case L.AL:u=nt.ALPHA;break;case L.PS:d=u,u=nt.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=nt.ALPHA;break}break;case nt.PUNCT:if(p<L.PAL)y=L.PUNCT_CHARS[p];else switch(p){case L.PAL:u=nt.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=nt.ALPHA;break}break;case nt.ALPHA_SHIFT:if(u=d,p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case L.TEXT_COMPACTION_MODE_LATCH:u=nt.ALPHA;break}break;case nt.PUNCT_SHIFT:if(u=d,p<L.PAL)y=L.PUNCT_CHARS[p];else switch(p){case L.PAL:u=nt.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[h]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=nt.ALPHA;break}break}y!==""&&l.append(y),h++}}static byteCompaction(i,o,a,l,u){let d=new uc,h=0,p=0,y=!1;switch(i){case L.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),I=o[l++];for(;l<o[0]&&!y;)switch(E[h++]=I,p=900*p+I,I=o[l++],I){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(h%5===0&&h>0){for(let S=0;S<6;++S)d.write(Number(Mr(p)>>Mr(8*(5-S))));p=0,h=0}break}l===o[0]&&I<L.TEXT_COMPACTION_MODE_LATCH&&(E[h++]=I);for(let S=0;S<h;S++)d.write(E[S]);break;case L.BYTE_COMPACTION_MODE_LATCH_6:for(;l<o[0]&&!y;){let S=o[l++];if(S<L.TEXT_COMPACTION_MODE_LATCH)h++,p=900*p+S;else switch(S){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(h%5===0&&h>0){for(let T=0;T<6;++T)d.write(Number(Mr(p)>>Mr(8*(5-T))));p=0,h=0}}break}return u.append(st.decode(d.toByteArray(),a)),l}static numericCompaction(i,o,a){let l=0,u=!1,d=new Int32Array(L.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!u;){let h=i[o++];if(o===i[0]&&(u=!0),h<L.TEXT_COMPACTION_MODE_LATCH)d[l]=h,l++;else switch(h){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:o--,u=!0;break}(l%L.MAX_NUMERIC_CODEWORDS===0||h===L.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(a.append(L.decodeBase900toBase10(d,l)),l=0)}return o}static decodeBase900toBase10(i,o){let a=Mr(0);for(let u=0;u<o;u++)a+=L.EXP900[o-u-1]*Mr(i[u]);let l=a.toString();if(l.charAt(0)!=="1")throw new Y;return l.substring(1)}}L.TEXT_COMPACTION_MODE_LATCH=900,L.BYTE_COMPACTION_MODE_LATCH=901,L.NUMERIC_COMPACTION_MODE_LATCH=902,L.BYTE_COMPACTION_MODE_LATCH_6=924,L.ECI_USER_DEFINED=925,L.ECI_GENERAL_PURPOSE=926,L.ECI_CHARSET=927,L.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,L.MACRO_PDF417_TERMINATOR=922,L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,L.MAX_NUMERIC_CODEWORDS=15,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,L.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,L.PL=25,L.LL=27,L.AS=27,L.ML=28,L.AL=28,L.PS=29,L.PAL=29,L.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,L.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",L.EXP900=dc()?fc():[],L.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ke{constructor(){}static decode(i,o,a,l,u,d,h){let p=new ri(i,o,a,l,u),y=null,E=null,I;for(let N=!0;;N=!1){if(o!=null&&(y=ke.getRowIndicatorColumn(i,p,o,!0,d,h)),l!=null&&(E=ke.getRowIndicatorColumn(i,p,l,!1,d,h)),I=ke.merge(y,E),I==null)throw H.getNotFoundInstance();let O=I.getBoundingBox();if(N&&O!=null&&(O.getMinY()<p.getMinY()||O.getMaxY()>p.getMaxY()))p=O;else break}I.setBoundingBox(p);let S=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,y),I.setDetectionResultColumn(S,E);let T=y!=null;for(let N=1;N<=S;N++){let O=T?N:S-N;if(I.getDetectionResultColumn(O)!==void 0)continue;let k;O===0||O===S?k=new lc(p,O===0):k=new ac(p),I.setDetectionResultColumn(O,k);let P=-1,Z=P;for(let te=p.getMinY();te<=p.getMaxY();te++){if(P=ke.getStartColumn(I,O,te,T),P<0||P>p.getMaxX()){if(Z===-1)continue;P=Z}let z=ke.detectCodeword(i,p.getMinX(),p.getMaxX(),T,P,te,d,h);z!=null&&(k.setCodeword(te,z),Z=P,d=Math.min(d,z.getWidth()),h=Math.max(h,z.getWidth()))}}return ke.createDecoderResult(I)}static merge(i,o){if(i==null&&o==null)return null;let a=ke.getBarcodeMetadata(i,o);if(a==null)return null;let l=ri.merge(ke.adjustBoundingBox(i),ke.adjustBoundingBox(o));return new ho(a,l)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let a=ke.getMax(o),l=0;for(let h of o)if(l+=a-h,h>0)break;let u=i.getCodewords();for(let h=0;l>0&&u[h]==null;h++)l--;let d=0;for(let h=o.length-1;h>=0&&(d+=a-o[h],!(o[h]>0));h--);for(let h=u.length-1;d>0&&u[h]==null;h--)d--;return i.getBoundingBox().addMissingRows(l,d,i.isLeft())}static getMax(i){let o=-1;for(let a of i)o=Math.max(o,a);return o}static getBarcodeMetadata(i,o){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let l;return o==null||(l=o.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(i,o,a,l,u,d){let h=new lc(o,l);for(let p=0;p<2;p++){let y=p===0?1:-1,E=Math.trunc(Math.trunc(a.getX()));for(let I=Math.trunc(Math.trunc(a.getY()));I<=o.getMaxY()&&I>=o.getMinY();I+=y){let S=ke.detectCodeword(i,0,i.getWidth(),l,E,I,u,d);S!=null&&(h.setCodeword(I,S),l?E=S.getStartX():E=S.getEndX())}}return h}static adjustCodewordCount(i,o){let a=o[0][1],l=a.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-ke.getNumberOfECCodeWords(i.getBarcodeECLevel());if(l.length===0){if(u<1||u>Ce.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();a.setValue(u)}else l[0]!==u&&a.setValue(u)}static createDecoderResult(i){let o=ke.createBarcodeMatrix(i);ke.adjustCodewordCount(i,o);let a=new Array,l=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],d=new Array;for(let p=0;p<i.getBarcodeRowCount();p++)for(let y=0;y<i.getBarcodeColumnCount();y++){let E=o[p][y+1].getValue(),I=p*i.getBarcodeColumnCount()+y;E.length===0?a.push(I):E.length===1?l[I]=E[0]:(d.push(I),u.push(E))}let h=new Array(u.length);for(let p=0;p<h.length;p++)h[p]=u[p];return ke.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),l,Ce.toIntArray(a),Ce.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(i,o,a,l,u){let d=new Int32Array(l.length),h=100;for(;h-- >0;){for(let p=0;p<d.length;p++)o[l[p]]=u[p][d[p]];try{return ke.decodeCodewords(o,i,a)}catch(p){if(!(p instanceof D))throw p}if(d.length===0)throw D.getChecksumInstance();for(let p=0;p<d.length;p++)if(d[p]<u[p].length-1){d[p]++;break}else if(d[p]=0,p===d.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let l=0;l<o.length;l++)for(let u=0;u<o[l].length;u++)o[l][u]=new fo;let a=0;for(let l of i.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][a].setValue(u.getValue())}}}a++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,a,l){let u=l?1:-1,d=null;if(ke.isValidBarcodeColumn(i,o-u)&&(d=i.getDetectionResultColumn(o-u).getCodeword(a)),d!=null)return l?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(a),d!=null)return l?d.getStartX():d.getEndX();if(ke.isValidBarcodeColumn(i,o-u)&&(d=i.getDetectionResultColumn(o-u).getCodewordNearby(a)),d!=null)return l?d.getEndX():d.getStartX();let h=0;for(;ke.isValidBarcodeColumn(i,o-u);){o-=u;for(let p of i.getDetectionResultColumn(o).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+u*h*(p.getEndX()-p.getStartX());h++}return l?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,a,l,u,d,h,p){u=ke.adjustCodewordStartColumn(i,o,a,l,u,d);let y=ke.getModuleBitCount(i,o,a,l,u,d);if(y==null)return null;let E,I=be.sum(y);if(l)E=u+I;else{for(let N=0;N<y.length/2;N++){let O=y[N];y[N]=y[y.length-1-N],y[y.length-1-N]=O}E=u,u=E-I}if(!ke.checkCodewordSkew(I,h,p))return null;let S=fn.getDecodedValue(y),T=Ce.getCodeword(S);return T===-1?null:new Ri(u,E,ke.getCodewordBucketNumber(S),T)}static getModuleBitCount(i,o,a,l,u,d){let h=u,p=new Int32Array(8),y=0,E=l?1:-1,I=l;for(;(l?h<a:h>=o)&&y<p.length;)i.get(h,d)===I?(p[y]++,h+=E):(y++,I=!I);return y===p.length||h===(l?a:o)&&y===p.length-1?p:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,a,l,u,d){let h=u,p=l?-1:1;for(let y=0;y<2;y++){for(;(l?h>=o:h<a)&&l===i.get(h,d);){if(Math.abs(u-h)>ke.CODEWORD_SKEW_SIZE)return u;h+=p}p=-p,l=!l}return h}static checkCodewordSkew(i,o,a){return o-ke.CODEWORD_SKEW_SIZE<=i&&i<=a+ke.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,a){if(i.length===0)throw Y.getFormatInstance();let l=1<<o+1,u=ke.correctErrors(i,a,l);ke.verifyCodewordCount(i,l);let d=L.decode(i,""+o);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(i,o,a){if(o!=null&&o.length>a/2+ke.MAX_ERRORS||a<0||a>ke.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return ke.errorCorrection.decode(i,a,o)}static verifyCodewordCount(i,o){if(i.length<4)throw Y.getFormatInstance();let a=i[0];if(a>i.length)throw Y.getFormatInstance();if(a===0)if(o<i.length)i[0]=i.length-o;else throw Y.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),a=0,l=o.length-1;for(;!((i&1)!==a&&(a=i&1,l--,l<0));)o[l]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return ke.getCodewordBucketNumber(ke.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new uo;for(let a=0;a<i.length;a++){o.format("Row %2d: ",a);for(let l=0;l<i[a].length;l++){let u=i[a][l];u.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}o.format("%n")}return o.toString()}}ke.CODEWORD_SKEW_SIZE=2,ke.MAX_ERRORS=3,ke.MAX_EC_CODEWORDS=512,ke.errorCorrection=new _a;class Qt{decode(i,o=null){let a=Qt.decode(i,o,!1);if(a==null||a.length===0||a[0]==null)throw H.getNotFoundInstance();return a[0]}decodeMultiple(i,o=null){try{return Qt.decode(i,o,!0)}catch(a){throw a instanceof Y||a instanceof D?H.getNotFoundInstance():a}}static decode(i,o,a){let l=new Array,u=Re.detectMultiple(i,o,a);for(let d of u.getPoints()){let h=ke.decode(u.getBits(),d[4],d[5],d[6],d[7],Qt.getMinCodewordWidth(d),Qt.getMaxCodewordWidth(d)),p=new Dt(h.getText(),h.getRawBytes(),void 0,d,fe.PDF_417);p.putMetadata(Ft.ERROR_CORRECTION_LEVEL,h.getECLevel());let y=h.getOther();y!=null&&p.putMetadata(Ft.PDF417_EXTRA_METADATA,y),l.push(p)}return l.map(d=>d)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?Q.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Qt.getMaxWidth(i[0],i[4]),Qt.getMaxWidth(i[6],i[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(Qt.getMaxWidth(i[1],i[5]),Qt.getMaxWidth(i[7],i[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Qt.getMinWidth(i[0],i[4]),Qt.getMinWidth(i[6],i[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(Qt.getMinWidth(i[1],i[5]),Qt.getMinWidth(i[7],i[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}let Ma=(()=>{class w extends g{}return w.kind="ReaderException",w})();class hc{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;let o=!t(i)&&i.get(Se.TRY_HARDER)===!0,a=t(i)?null:i.get(Se.POSSIBLE_FORMATS),l=new Array;if(!t(a)){let u=a.some(d=>d===fe.UPC_A||d===fe.UPC_E||d===fe.EAN_13||d===fe.EAN_8||d===fe.CODABAR||d===fe.CODE_39||d===fe.CODE_93||d===fe.CODE_128||d===fe.ITF||d===fe.RSS_14||d===fe.RSS_EXPANDED);u&&!o&&l.push(new Mi(i,this.verbose)),a.includes(fe.QR_CODE)&&l.push(new _r),a.includes(fe.DATA_MATRIX)&&l.push(new Ko),a.includes(fe.AZTEC)&&l.push(new Dr),a.includes(fe.PDF_417)&&l.push(new Qt),u&&o&&l.push(new Mi(i,this.verbose))}l.length===0&&(o||l.push(new Mi(i,this.verbose)),l.push(new _r),l.push(new Ko),l.push(new Dr),l.push(new Qt),o&&l.push(new Mi(i,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(let i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Ma("No readers where selected, nothing can be read.");for(let o of this.readers)try{return o.decode(i,this.hints)}catch(a){if(a instanceof Ma)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class _f extends Dn{constructor(i=null,o=500){let a=new hc;a.setHints(i),super(a,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class Tf extends Dn{constructor(i=500){super(new Qt,i)}}class Mf extends Dn{constructor(i=500){super(new _r,i)}}var pc=function(w){return w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION",w}(pc||{}),Bt=pc;class Na{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new un(i,Int32Array.from([1])))}buildGenerator(i){let o=this.cachedGenerators;if(i>=o.length){let a=o[o.length-1],l=this.field;for(let u=o.length;u<=i;u++){let d=a.multiply(new un(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));o.push(d),a=d}}return o[i]}encode(i,o){if(o===0)throw new v("No error correction bytes");let a=i.length-o;if(a<=0)throw new v("No data bytes provided");let l=this.buildGenerator(o),u=new Int32Array(a);R.arraycopy(i,0,u,0,a);let d=new un(this.field,u);d=d.multiplyByMonomial(o,1);let p=d.divide(l)[1].getCoefficients(),y=o-p.length;for(let E=0;E<y;E++)i[a+E]=0;R.arraycopy(p,0,i,a+y,p.length)}}let gr=(()=>{class w{constructor(){}static applyMaskPenaltyRule1(o){return w.applyMaskPenaltyRule1Internal(o,!0)+w.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let a=0,l=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let h=0;h<d-1;h++){let p=l[h];for(let y=0;y<u-1;y++){let E=p[y];E===p[y+1]&&E===l[h+1][y]&&E===l[h+1][y+1]&&a++}}return w.N2*a}static applyMaskPenaltyRule3(o){let a=0,l=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let h=0;h<d;h++)for(let p=0;p<u;p++){let y=l[h];p+6<u&&y[p]===1&&y[p+1]===0&&y[p+2]===1&&y[p+3]===1&&y[p+4]===1&&y[p+5]===0&&y[p+6]===1&&(w.isWhiteHorizontal(y,p-4,p)||w.isWhiteHorizontal(y,p+7,p+11))&&a++,h+6<d&&l[h][p]===1&&l[h+1][p]===0&&l[h+2][p]===1&&l[h+3][p]===1&&l[h+4][p]===1&&l[h+5][p]===0&&l[h+6][p]===1&&(w.isWhiteVertical(l,p,h-4,h)||w.isWhiteVertical(l,p,h+7,h+11))&&a++}return a*w.N3}static isWhiteHorizontal(o,a,l){a=Math.max(a,0),l=Math.min(l,o.length);for(let u=a;u<l;u++)if(o[u]===1)return!1;return!0}static isWhiteVertical(o,a,l,u){l=Math.max(l,0),u=Math.min(u,o.length);for(let d=l;d<u;d++)if(o[d][a]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let a=0,l=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let y=0;y<d;y++){let E=l[y];for(let I=0;I<u;I++)E[I]===1&&a++}let h=o.getHeight()*o.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*w.N4}static getDataMaskBit(o,a,l){let u,d;switch(o){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:d=l*a,u=(d&1)+d%3;break;case 6:d=l*a,u=(d&1)+d%3&1;break;case 7:d=l*a,u=d%3+(l+a&1)&1;break;default:throw new v("Invalid mask pattern: "+o)}return u===0}static applyMaskPenaltyRule1Internal(o,a){let l=0,u=a?o.getHeight():o.getWidth(),d=a?o.getWidth():o.getHeight(),h=o.getArray();for(let p=0;p<u;p++){let y=0,E=-1;for(let I=0;I<d;I++){let S=a?h[p][I]:h[I][p];S===E?y++:(y>=5&&(l+=w.N1+(y-5)),y=1,E=S)}y>=5&&(l+=w.N1+(y-5))}return l}}return w.N1=3,w.N2=3,w.N3=40,w.N4=10,w})();class po{constructor(i,o){this.width=i,this.height=o;let a=new Array(o);for(let l=0;l!==o;l++)a[l]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,a){this.bytes[o][i]=a}setBoolean(i,o,a){this.bytes[o][i]=a?1:0}clear(i){for(let o of this.bytes)W.fill(o,i)}equals(i){if(!(i instanceof po))return!1;let o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let a=0,l=this.height;a<l;++a){let u=this.bytes[a],d=o.bytes[a];for(let h=0,p=this.width;h<p;++h)if(u[h]!==d[h])return!1}return!0}toString(){let i=new Ne;for(let o=0,a=this.height;o<a;++o){let l=this.bytes[o];for(let u=0,d=this.width;u<d;++u)switch(l[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}let os=(()=>{class w{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let o=new Ne;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<w.NUM_MASK_PATTERNS}}return w.NUM_MASK_PATTERNS=8,w})(),ut=(()=>{class w extends g{}return w.kind="WriterException",w})();class me{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,a,l,u){me.clearMatrix(u),me.embedBasicPatterns(a,u),me.embedTypeInfo(o,l,u),me.maybeEmbedVersionInfo(a,u),me.embedDataBits(i,l,u)}static embedBasicPatterns(i,o){me.embedPositionDetectionPatternsAndSeparators(o),me.embedDarkDotAtLeftBottomCorner(o),me.maybeEmbedPositionAdjustmentPatterns(i,o),me.embedTimingPatterns(o)}static embedTypeInfo(i,o,a){let l=new ye;me.makeTypeInfoBits(i,o,l);for(let u=0,d=l.getSize();u<d;++u){let h=l.get(l.getSize()-1-u),p=me.TYPE_INFO_COORDINATES[u],y=p[0],E=p[1];if(a.setBoolean(y,E,h),u<8){let I=a.getWidth()-u-1;a.setBoolean(I,8,h)}else{let S=a.getHeight()-7+(u-8);a.setBoolean(8,S,h)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;let a=new ye;me.makeVersionInfoBits(i,a);let l=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){let h=a.get(l);l--,o.setBoolean(u,o.getHeight()-11+d,h),o.setBoolean(o.getHeight()-11+d,u,h)}}static embedDataBits(i,o,a){let l=0,u=-1,d=a.getWidth()-1,h=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<a.getHeight();){for(let p=0;p<2;++p){let y=d-p;if(!me.isEmpty(a.get(y,h)))continue;let E;l<i.getSize()?(E=i.get(l),++l):E=!1,o!==255&&gr.getDataMaskBit(o,y,h)&&(E=!E),a.setBoolean(y,h,E)}h+=u}u=-u,h+=u,d-=2}if(l!==i.getSize())throw new ut("Not all bits consumed: "+l+"/"+i.getSize())}static findMSBSet(i){return 32-Q.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new v("0 polynomial");let a=me.findMSBSet(o);for(i<<=a-1;me.findMSBSet(i)>=a;)i^=o<<me.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,o,a){if(!os.isValidMaskPattern(o))throw new ut("Invalid mask pattern");let l=i.getBits()<<3|o;a.appendBits(l,5);let u=me.calculateBCHCode(l,me.TYPE_INFO_POLY);a.appendBits(u,10);let d=new ye;if(d.appendBits(me.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new ut("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);let a=me.calculateBCHCode(i.getVersionNumber(),me.VERSION_INFO_POLY);if(o.appendBits(a,12),o.getSize()!==18)throw new ut("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){let a=(o+1)%2;me.isEmpty(i.get(o,6))&&i.setNumber(o,6,a),me.isEmpty(i.get(6,o))&&i.setNumber(6,o,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new ut;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,a){for(let l=0;l<8;++l){if(!me.isEmpty(a.get(i+l,o)))throw new ut;a.setNumber(i+l,o,0)}}static embedVerticalSeparationPattern(i,o,a){for(let l=0;l<7;++l){if(!me.isEmpty(a.get(i,o+l)))throw new ut;a.setNumber(i,o+l,0)}}static embedPositionAdjustmentPattern(i,o,a){for(let l=0;l<5;++l){let u=me.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)a.setNumber(i+d,o+l,u[d])}}static embedPositionDetectionPattern(i,o,a){for(let l=0;l<7;++l){let u=me.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)a.setNumber(i+d,o+l,u[d])}}static embedPositionDetectionPatternsAndSeparators(i){let o=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,i),me.embedPositionDetectionPattern(i.getWidth()-o,0,i),me.embedPositionDetectionPattern(0,i.getWidth()-o,i);let a=8;me.embedHorizontalSeparationPattern(0,a-1,i),me.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),me.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);let l=7;me.embedVerticalSeparationPattern(l,0,i),me.embedVerticalSeparationPattern(i.getHeight()-l-1,0,i),me.embedVerticalSeparationPattern(l,i.getHeight()-l,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;let a=i.getVersionNumber()-1,l=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=l.length;u!==d;u++){let h=l[u];if(h>=0)for(let p=0;p!==d;p++){let y=l[p];y>=0&&me.isEmpty(o.get(y,h))&&me.embedPositionAdjustmentPattern(y-2,h-2,o)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class gc{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ht{constructor(){}static calculateMaskPenalty(i){return gr.applyMaskPenaltyRule1(i)+gr.applyMaskPenaltyRule2(i)+gr.applyMaskPenaltyRule3(i)+gr.applyMaskPenaltyRule4(i)}static encode(i,o,a=null){let l=ht.DEFAULT_BYTE_MODE_ENCODING,u=a!==null&&a.get(Bt.CHARACTER_SET)!==void 0;u&&(l=a.get(Bt.CHARACTER_SET).toString());let d=this.chooseMode(i,l),h=new ye;if(d===pe.BYTE&&(u||ht.DEFAULT_BYTE_MODE_ENCODING!==l)){let te=K.getCharacterSetECIByName(l);te!==void 0&&this.appendECI(te,h)}this.appendModeInfo(d,h);let p=new ye;this.appendBytes(i,d,p,l);let y;if(a!==null&&a.get(Bt.QR_VERSION)!==void 0){let te=Number.parseInt(a.get(Bt.QR_VERSION).toString(),10);y=he.getVersionForNumber(te);let z=this.calculateBitsNeeded(d,h,p,y);if(!this.willFit(z,y,o))throw new ut("Data too big for requested version")}else y=this.recommendVersion(o,d,h,p);let E=new ye;E.appendBitArray(h);let I=d===pe.BYTE?p.getSizeInBytes():i.length;this.appendLengthInfo(I,y,d,E),E.appendBitArray(p);let S=y.getECBlocksForLevel(o),T=y.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(T,E);let N=this.interleaveWithECBytes(E,y.getTotalCodewords(),T,S.getNumBlocks()),O=new os;O.setECLevel(o),O.setMode(d),O.setVersion(y);let k=y.getDimensionForVersion(),P=new po(k,k),Z=this.chooseMaskPattern(N,o,y,P);return O.setMaskPattern(Z),me.buildMatrix(N,o,y,Z,P),O.setMatrix(P),O}static recommendVersion(i,o,a,l){let u=this.calculateBitsNeeded(o,a,l,he.getVersionForNumber(1)),d=this.chooseVersion(u,i),h=this.calculateBitsNeeded(o,a,l,d);return this.chooseVersion(h,i)}static calculateBitsNeeded(i,o,a,l){return o.getSize()+i.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(i){return i<ht.ALPHANUMERIC_TABLE.length?ht.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(K.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return pe.KANJI;let a=!1,l=!1;for(let u=0,d=i.length;u<d;++u){let h=i.charAt(u);if(ht.isDigit(h))a=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return pe.BYTE}return l?pe.ALPHANUMERIC:a?pe.NUMERIC:pe.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=st.encode(i,K.SJIS)}catch{return!1}let a=o.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){let u=o[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,o,a,l){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<os.NUM_MASK_PATTERNS;h++){me.buildMatrix(i,o,a,h,l);let p=this.calculateMaskPenalty(l);p<u&&(u=p,d=h)}return d}static chooseVersion(i,o){for(let a=1;a<=40;a++){let l=he.getVersionForNumber(a);if(ht.willFit(i,l,o))return l}throw new ut("Data too big")}static willFit(i,o,a){let l=o.getTotalCodewords(),d=o.getECBlocksForLevel(a).getTotalECCodewords(),h=l-d,p=(i+7)/8;return h>=p}static terminateBits(i,o){let a=i*8;if(o.getSize()>a)throw new ut("data bits cannot fit in the QR Code"+o.getSize()+" > "+a);for(let d=0;d<4&&o.getSize()<a;++d)o.appendBit(!1);let l=o.getSize()&7;if(l>0)for(let d=l;d<8;d++)o.appendBit(!1);let u=i-o.getSizeInBytes();for(let d=0;d<u;++d)o.appendBits((d&1)===0?236:17,8);if(o.getSize()!==a)throw new ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,a,l,u,d){if(l>=a)throw new ut("Block ID too large");let h=i%a,p=a-h,y=Math.floor(i/a),E=y+1,I=Math.floor(o/a),S=I+1,T=y-I,N=E-S;if(T!==N)throw new ut("EC bytes mismatch");if(a!==p+h)throw new ut("RS blocks mismatch");if(i!==(I+T)*p+(S+N)*h)throw new ut("Total bytes mismatch");l<p?(u[0]=I,d[0]=T):(u[0]=S,d[0]=N)}static interleaveWithECBytes(i,o,a,l){if(i.getSizeInBytes()!==a)throw new ut("Number of bits and data bytes does not match");let u=0,d=0,h=0,p=new Array;for(let E=0;E<l;++E){let I=new Int32Array(1),S=new Int32Array(1);ht.getNumDataBytesAndNumECBytesForBlockID(o,a,l,E,I,S);let T=I[0],N=new Uint8Array(T);i.toBytes(8*u,N,0,T);let O=ht.generateECBytes(N,S[0]);p.push(new gc(N,O)),d=Math.max(d,T),h=Math.max(h,O.length),u+=I[0]}if(a!==u)throw new ut("Data bytes does not match offset");let y=new ye;for(let E=0;E<d;++E)for(let I of p){let S=I.getDataBytes();E<S.length&&y.appendBits(S[E],8)}for(let E=0;E<h;++E)for(let I of p){let S=I.getErrorCorrectionBytes();E<S.length&&y.appendBits(S[E],8)}if(o!==y.getSizeInBytes())throw new ut("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(i,o){let a=i.length,l=new Int32Array(a+o);for(let d=0;d<a;d++)l[d]=i[d]&255;new Na(Xe.QR_CODE_FIELD_256).encode(l,o);let u=new Uint8Array(o);for(let d=0;d<o;d++)u[d]=l[a+d];return u}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,a,l){let u=a.getCharacterCountBits(o);if(i>=1<<u)throw new ut(i+" is bigger than "+((1<<u)-1));l.appendBits(i,u)}static appendBytes(i,o,a,l){switch(o){case pe.NUMERIC:ht.appendNumericBytes(i,a);break;case pe.ALPHANUMERIC:ht.appendAlphanumericBytes(i,a);break;case pe.BYTE:ht.append8BitBytes(i,a,l);break;case pe.KANJI:ht.appendKanjiBytes(i,a);break;default:throw new ut("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){let o=ht.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){let a=i.length,l=0;for(;l<a;){let u=ht.getDigit(i.charAt(l));if(l+2<a){let d=ht.getDigit(i.charAt(l+1)),h=ht.getDigit(i.charAt(l+2));o.appendBits(u*100+d*10+h,10),l+=3}else if(l+1<a){let d=ht.getDigit(i.charAt(l+1));o.appendBits(u*10+d,7),l+=2}else o.appendBits(u,4),l++}}static appendAlphanumericBytes(i,o){let a=i.length,l=0;for(;l<a;){let u=ht.getAlphanumericCode(i.charCodeAt(l));if(u===-1)throw new ut;if(l+1<a){let d=ht.getAlphanumericCode(i.charCodeAt(l+1));if(d===-1)throw new ut;o.appendBits(u*45+d,11),l+=2}else o.appendBits(u,6),l++}}static append8BitBytes(i,o,a){let l;try{l=st.encode(i,a)}catch(u){throw new ut(u)}for(let u=0,d=l.length;u!==d;u++){let h=l[u];o.appendBits(h,8)}}static appendKanjiBytes(i,o){let a;try{a=st.encode(i,K.SJIS)}catch(u){throw new ut(u)}let l=a.length;for(let u=0;u<l;u+=2){let d=a[u]&255,h=a[u+1]&255,p=d<<8&4294967295|h,y=-1;if(p>=33088&&p<=40956?y=p-33088:p>=57408&&p<=60351&&(y=p-49472),y===-1)throw new ut("Invalid byte sequence");let E=(y>>8)*192+(y&255);o.appendBits(E,13)}}static appendECI(i,o){o.appendBits(pe.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ht.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();let Ra=(()=>{class w{write(o,a,l,u=null){if(o.length===0)throw new v("Found empty contents");if(a<0||l<0)throw new v("Requested dimensions are too small: "+a+"x"+l);let d=ot.L,h=w.QUIET_ZONE_SIZE;u!==null&&(u.get(Bt.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(u.get(Bt.ERROR_CORRECTION).toString())),u.get(Bt.MARGIN)!==void 0&&(h=Number.parseInt(u.get(Bt.MARGIN).toString(),10)));let p=ht.encode(o,d,u);return this.renderResult(p,a,l,h)}writeToDom(o,a,l,u,d=null){typeof o=="string"&&(o=document.querySelector(o));let h=this.write(a,l,u,d);o&&o.appendChild(h)}renderResult(o,a,l,u){let d=o.getMatrix();if(d===null)throw new fr;let h=d.getWidth(),p=d.getHeight(),y=h+u*2,E=p+u*2,I=Math.max(a,y),S=Math.max(l,E),T=Math.min(Math.floor(I/y),Math.floor(S/E)),N=Math.floor((I-h*T)/2),O=Math.floor((S-p*T)/2),k=this.createSVGElement(I,S);for(let P=0,Z=O;P<p;P++,Z+=T)for(let te=0,z=N;te<h;te++,z+=T)if(d.get(te,P)===1){let Fe=this.createSvgRectElement(z,Z,T,T);k.appendChild(Fe)}return k}createSVGElement(o,a){let l=document.createElementNS(w.SVG_NS,"svg");return l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(o,a,l,u){let d=document.createElementNS(w.SVG_NS,"rect");return d.setAttributeNS(null,"x",o.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return w.QUIET_ZONE_SIZE=4,w.SVG_NS="http://www.w3.org/2000/svg",w})(),Oa=(()=>{class w{encode(o,a,l,u,d){if(o.length===0)throw new v("Found empty contents");if(a!==fe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new v(`Requested dimensions are too small: ${l}x${u}`);let h=ot.L,p=w.QUIET_ZONE_SIZE;d!==null&&(d.get(Bt.ERROR_CORRECTION)!==void 0&&(h=ot.fromString(d.get(Bt.ERROR_CORRECTION).toString())),d.get(Bt.MARGIN)!==void 0&&(p=Number.parseInt(d.get(Bt.MARGIN).toString(),10)));let y=ht.encode(o,h,d);return w.renderResult(y,l,u,p)}static renderResult(o,a,l,u){let d=o.getMatrix();if(d===null)throw new fr;let h=d.getWidth(),p=d.getHeight(),y=h+u*2,E=p+u*2,I=Math.max(a,y),S=Math.max(l,E),T=Math.min(Math.floor(I/y),Math.floor(S/E)),N=Math.floor((I-h*T)/2),O=Math.floor((S-p*T)/2),k=new ve(I,S);for(let P=0,Z=O;P<p;P++,Z+=T)for(let te=0,z=N;te<h;te++,z+=T)d.get(te,P)===1&&k.setRegion(z,Z,T,T);return k}}return w.QUIET_ZONE_SIZE=4,w})();class mc{encode(i,o,a,l,u){let d;switch(o){case fe.QR_CODE:d=new Oa;break;default:throw new v("No encoder available for format "+o)}return d.encode(i,o,a,l,u)}}let ka=(()=>{class w extends Kr{constructor(o,a,l,u,d,h,p,y){if(super(h,p),this.yuvData=o,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=d,u+h>a||d+p>l)throw new v("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(h,p)}getRow(o,a){if(o<0||o>=this.getHeight())throw new v("Requested row is outside the image: "+o);let l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));let u=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){let o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.yuvData;let l=o*a,u=new Uint8ClampedArray(l),d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.yuvData,d,u,0,l),u;for(let h=0;h<a;h++){let p=h*o;R.arraycopy(this.yuvData,d,u,p,o),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(o,a,l,u){return new w(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+a,l,u,!1)}renderThumbnail(){let o=this.getWidth()/w.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/w.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(o*a),u=this.yuvData,d=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){let p=h*o;for(let y=0;y<o;y++){let E=u[d+y*w.THUMBNAIL_SCALE_FACTOR]&255;l[p+y]=4278190080|E*65793}d+=this.dataWidth*w.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/w.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/w.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,a){let l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<a;u++,d+=this.dataWidth){let h=d+o/2;for(let p=d,y=d+o-1;p<h;p++,y--){let E=l[p];l[p]=l[y],l[y]=E}}}invert(){return new dr(this)}}return w.THUMBNAIL_SCALE_FACTOR=2,w})();class Oi extends Kr{constructor(i,o,a,l,u,d,h){if(super(o,a),this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=h,i.BYTES_PER_ELEMENT===4){let p=o*a,y=new Uint8ClampedArray(p);for(let E=0;E<p;E++){let I=i[E],S=I>>16&255,T=I>>7&510,N=I&255;y[E]=(S+T+N)/4&255}this.luminances=y}else this.luminances=i;if(l===void 0&&(this.dataWidth=o),u===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+a>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);let a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));let l=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,l,o,0,a),o}getMatrix(){let i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;let a=i*o,l=new Uint8ClampedArray(a),u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.luminances,u,l,0,a),l;for(let d=0;d<o;d++){let h=d*i;R.arraycopy(this.luminances,u,l,h,i),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(i,o,a,l){return new Oi(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new dr(this)}}class yc extends K{static forName(i){return this.getCharacterSetECIByName(i)}}class ss{}ss.ISO_8859_1=K.ISO8859_1;class Fa{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Pa{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class wc{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ii extends wc{constructor(i,o,a){super(i),this.value=o,this.bitCount=a}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new ii(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ii(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+Q.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class as extends ii{constructor(i,o,a){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=a}appendTo(i,o){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+a],8)}addBinaryShift(i,o){return new as(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function vc(w,i,o){return new as(w,i,o)}function ki(w,i,o){return new ii(w,i,o)}let Cc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],wn=0,ls=1,Sn=2,xc=3,$n=4,Ec=new ii(null,0,0),cs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Nf(w){for(let i of w)W.fill(i,-1);return w[wn][$n]=0,w[ls][$n]=0,w[ls][wn]=28,w[xc][$n]=0,w[Sn][$n]=0,w[Sn][wn]=15,w}let bc=Nf(W.createInt32Array(6,6));class nr{constructor(i,o,a,l){this.token=i,this.mode=o,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let a=this.bitCount,l=this.token;if(i!==this.mode){let d=cs[this.mode][i];l=ki(l,d&65535,d>>16),a+=d>>16}let u=i===Sn?4:5;return l=ki(l,o,u),new nr(l,i,0,a+u)}shiftAndAppend(i,o){let a=this.token,l=this.mode===Sn?4:5;return a=ki(a,bc[this.mode][i],l),a=ki(a,o,5),new nr(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(i){let o=this.token,a=this.mode,l=this.bitCount;if(this.mode===$n||this.mode===Sn){let h=cs[a][wn];o=ki(o,h&65535,h>>16),l+=h>>16,a=wn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new nr(o,a,this.binaryShiftByteCount+1,l+u);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=vc(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new nr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(cs[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=nr.calculateBinaryShiftCost(i)-nr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let l=this.endBinaryShift(i.length).token;l!==null;l=l.getPrevious())o.unshift(l);let a=new ye;for(let l of o)l.appendTo(a,i);return a}toString(){return we.format("%s bits=%d bytes=%d",Cc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}nr.INITIAL_STATE=new nr(Ec,wn,0,0);function Ic(w){let i=we.getCharCode(" "),o=we.getCharCode("."),a=we.getCharCode(",");w[wn][i]=1;let l=we.getCharCode("Z"),u=we.getCharCode("A");for(let S=u;S<=l;S++)w[wn][S]=S-u+2;w[ls][i]=1;let d=we.getCharCode("z"),h=we.getCharCode("a");for(let S=h;S<=d;S++)w[ls][S]=S-h+2;w[Sn][i]=1;let p=we.getCharCode("9"),y=we.getCharCode("0");for(let S=y;S<=p;S++)w[Sn][S]=S-y+2;w[Sn][a]=12,w[Sn][o]=13;let E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let S=0;S<E.length;S++)w[xc][we.getCharCode(E[S])]=S;let I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<I.length;S++)we.getCharCode(I[S])>0&&(w[$n][we.getCharCode(I[S])]=S);return w}let us=Ic(W.createInt32Array(5,256));class go{constructor(i){this.text=i}encode(){let i=we.getCharCode(" "),o=we.getCharCode(`
`),a=Pa.singletonList(nr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case we.getCharCode("\r"):d=h===o?2:0;break;case we.getCharCode("."):d=h===i?3:0;break;case we.getCharCode(","):d=h===i?4:0;break;case we.getCharCode(":"):d=h===i?5:0;break;default:d=0}d>0?(a=go.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return Pa.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){let a=[];for(let l of i)this.updateStateForChar(l,o,a);return go.simplifyStates(a)}updateStateForChar(i,o,a){let l=this.text[o]&255,u=us[i.getMode()][l]>0,d=null;for(let h=0;h<=$n;h++){let p=us[h][l];if(p>0){if(d==null&&(d=i.endBinaryShift(o)),!u||h===i.getMode()||h===Sn){let y=d.latchAndAppend(h,p);a.push(y)}if(!u&&bc[i.getMode()][h]>=0){let y=d.shiftAndAppend(h,p);a.push(y)}}}if(i.getBinaryShiftByteCount()>0||us[i.getMode()][l]===0){let h=i.addBinaryShiftChar(o);a.push(h)}}static updateStateListForPair(i,o,a){let l=[];for(let u of i)this.updateStateForPair(u,o,a,l);return this.simplifyStates(l)}static updateStateForPair(i,o,a,l){let u=i.endBinaryShift(o);if(l.push(u.latchAndAppend($n,a)),i.getMode()!==$n&&l.push(u.shiftAndAppend($n,a)),a===3||a===4){let d=u.latchAndAppend(Sn,16-a).latchAndAppend(Sn,1);l.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);l.push(d)}}static simplifyStates(i){let o=[];for(let a of i){let l=!0;for(let u of o){if(u.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(u)&&(o=o.filter(d=>d!==u))}l&&o.push(a)}return o}}class We{constructor(){}static encodeBytes(i){return We.encode(i,We.DEFAULT_EC_PERCENT,We.DEFAULT_AZTEC_LAYERS)}static encode(i,o,a){let l=new go(i).encode(),u=Q.truncDivision(l.getSize()*o,100)+11,d=l.getSize()+u,h,p,y,E,I;if(a!==We.DEFAULT_AZTEC_LAYERS){if(h=a<0,p=Math.abs(a),p>(h?We.MAX_NB_BITS_COMPACT:We.MAX_NB_BITS))throw new v(we.format("Illegal value %s for layers",a));y=We.totalBitsInLayer(p,h),E=We.WORD_SIZE[p];let z=y-y%E;if(I=We.stuffBits(l,E),I.getSize()+u>z)throw new v("Data to large for user specified layer");if(h&&I.getSize()>E*64)throw new v("Data to large for user specified layer")}else{E=0,I=null;for(let z=0;;z++){if(z>We.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(h=z<=3,p=h?z+1:z,y=We.totalBitsInLayer(p,h),d>y)continue;(I==null||E!==We.WORD_SIZE[p])&&(E=We.WORD_SIZE[p],I=We.stuffBits(l,E));let Fe=y-y%E;if(!(h&&I.getSize()>E*64)&&I.getSize()+u<=Fe)break}}let S=We.generateCheckWords(I,y,E),T=I.getSize()/E,N=We.generateModeMessage(h,p,T),O=(h?11:14)+p*4,k=new Int32Array(O),P;if(h){P=O;for(let z=0;z<k.length;z++)k[z]=z}else{P=O+1+2*Q.truncDivision(Q.truncDivision(O,2)-1,15);let z=Q.truncDivision(O,2),Fe=Q.truncDivision(P,2);for(let Ie=0;Ie<z;Ie++){let hn=Ie+Q.truncDivision(Ie,15);k[z-Ie-1]=Fe-hn-1,k[z+Ie]=Fe+hn+1}}let Z=new ve(P);for(let z=0,Fe=0;z<p;z++){let Ie=(p-z)*4+(h?9:12);for(let hn=0;hn<Ie;hn++){let Wn=hn*2;for(let pn=0;pn<2;pn++)S.get(Fe+Wn+pn)&&Z.set(k[z*2+pn],k[z*2+hn]),S.get(Fe+Ie*2+Wn+pn)&&Z.set(k[z*2+hn],k[O-1-z*2-pn]),S.get(Fe+Ie*4+Wn+pn)&&Z.set(k[O-1-z*2-pn],k[O-1-z*2-hn]),S.get(Fe+Ie*6+Wn+pn)&&Z.set(k[O-1-z*2-hn],k[z*2+pn])}Fe+=Ie*8}if(We.drawModeMessage(Z,h,P,N),h)We.drawBullsEye(Z,Q.truncDivision(P,2),5);else{We.drawBullsEye(Z,Q.truncDivision(P,2),7);for(let z=0,Fe=0;z<Q.truncDivision(O,2)-1;z+=15,Fe+=16)for(let Ie=Q.truncDivision(P,2)&1;Ie<P;Ie+=2)Z.set(Q.truncDivision(P,2)-Fe,Ie),Z.set(Q.truncDivision(P,2)+Fe,Ie),Z.set(Ie,Q.truncDivision(P,2)-Fe),Z.set(Ie,Q.truncDivision(P,2)+Fe)}let te=new Fa;return te.setCompact(h),te.setSize(P),te.setLayers(p),te.setCodeWords(T),te.setMatrix(Z),te}static drawBullsEye(i,o,a){for(let l=0;l<a;l+=2)for(let u=o-l;u<=o+l;u++)i.set(u,o-l),i.set(u,o+l),i.set(o-l,u),i.set(o+l,u);i.set(o-a,o-a),i.set(o-a+1,o-a),i.set(o-a,o-a+1),i.set(o+a,o-a),i.set(o+a,o-a+1),i.set(o+a,o+a-1)}static generateModeMessage(i,o,a){let l=new ye;return i?(l.appendBits(o-1,2),l.appendBits(a-1,6),l=We.generateCheckWords(l,28,4)):(l.appendBits(o-1,5),l.appendBits(a-1,11),l=We.generateCheckWords(l,40,4)),l}static drawModeMessage(i,o,a,l){let u=Q.truncDivision(a,2);if(o)for(let d=0;d<7;d++){let h=u-3+d;l.get(d)&&i.set(h,u-5),l.get(d+7)&&i.set(u+5,h),l.get(20-d)&&i.set(h,u+5),l.get(27-d)&&i.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+Q.truncDivision(d,5);l.get(d)&&i.set(h,u-7),l.get(d+10)&&i.set(u+7,h),l.get(29-d)&&i.set(h,u+7),l.get(39-d)&&i.set(u-7,h)}}static generateCheckWords(i,o,a){let l=i.getSize()/a,u=new Na(We.getGF(a)),d=Q.truncDivision(o,a),h=We.bitsToWords(i,a,d);u.encode(h,d-l);let p=o%a,y=new ye;y.appendBits(0,p);for(let E of Array.from(h))y.appendBits(E,a);return y}static bitsToWords(i,o,a){let l=new Int32Array(a),u,d;for(u=0,d=i.getSize()/o;u<d;u++){let h=0;for(let p=0;p<o;p++)h|=i.get(u*o+p)?1<<o-p-1:0;l[u]=h}return l}static getGF(i){switch(i){case 4:return Xe.AZTEC_PARAM;case 6:return Xe.AZTEC_DATA_6;case 8:return Xe.AZTEC_DATA_8;case 10:return Xe.AZTEC_DATA_10;case 12:return Xe.AZTEC_DATA_12;default:throw new v("Unsupported word size "+i)}}static stuffBits(i,o){let a=new ye,l=i.getSize(),u=(1<<o)-2;for(let d=0;d<l;d+=o){let h=0;for(let p=0;p<o;p++)(d+p>=l||i.get(d+p))&&(h|=1<<o-1-p);(h&u)===u?(a.appendBits(h&u,o),d--):(h&u)===0?(a.appendBits(h|1,o),d--):a.appendBits(h,o)}return a}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}We.DEFAULT_EC_PERCENT=33,We.DEFAULT_AZTEC_LAYERS=0,We.MAX_NB_BITS=32,We.MAX_NB_BITS_COMPACT=4,We.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ds{encode(i,o,a,l){return this.encodeWithHints(i,o,a,l,null)}encodeWithHints(i,o,a,l,u){let d=ss.ISO_8859_1,h=We.DEFAULT_EC_PERCENT,p=We.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Bt.CHARACTER_SET)&&(d=yc.forName(u.get(Bt.CHARACTER_SET).toString())),u.has(Bt.ERROR_CORRECTION)&&(h=Q.parseInt(u.get(Bt.ERROR_CORRECTION).toString())),u.has(Bt.AZTEC_LAYERS)&&(p=Q.parseInt(u.get(Bt.AZTEC_LAYERS).toString()))),ds.encodeLayers(i,o,a,l,d,h,p)}static encodeLayers(i,o,a,l,u,d,h){if(o!==fe.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let p=We.encode(we.getBytes(i,u),d,h);return ds.renderResult(p,a,l)}static renderResult(i,o,a){let l=i.getMatrix();if(l==null)throw new fr;let u=l.getWidth(),d=l.getHeight(),h=Math.max(o,u),p=Math.max(a,d),y=Math.min(h/u,p/d),E=(h-u*y)/2,I=(p-d*y)/2,S=new ve(h,p);for(let T=0,N=I;T<d;T++,N+=y)for(let O=0,k=E;O<u;O++,k+=y)l.get(O,T)&&S.setRegion(k,N,y,y);return S}}e.AbstractExpandedDecoder=at,e.ArgumentException=x,e.ArithmeticException=no,e.AztecCode=Fa,e.AztecCodeReader=Dr,e.AztecCodeWriter=ds,e.AztecDecoder=xa,e.AztecDetector=Ea,e.AztecDetectorResult=$e,e.AztecEncoder=We,e.AztecHighLevelEncoder=go,e.AztecPoint=Yt,e.BarcodeFormat=fe,e.Binarizer=U,e.BinaryBitmap=A,e.BitArray=ye,e.BitMatrix=ve,e.BitSource=Qo,e.BrowserAztecCodeReader=dn,e.BrowserBarcodeReader=Cf,e.BrowserCodeReader=Dn,e.BrowserDatamatrixCodeReader=Jo,e.BrowserMultiFormatReader=_f,e.BrowserPDF417Reader=Tf,e.BrowserQRCodeReader=Mf,e.BrowserQRCodeSvgWriter=Ra,e.CharacterSetECI=K,e.ChecksumException=D,e.Code128Reader=ee,e.Code39Reader=qo,e.DataMatrixDecodedBitStreamParser=pr,e.DataMatrixReader=Ko,e.DecodeHintType=Se,e.DecoderResult=br,e.DefaultGridSampler=Pt,e.DetectorResult=ro,e.EAN13Reader=Yo,e.EncodeHintType=Bt,e.Exception=g,e.FormatException=Y,e.GenericGF=Xe,e.GenericGFPoly=un,e.GlobalHistogramBinarizer=jt,e.GridSampler=er,e.GridSamplerInstance=vt,e.HTMLCanvasElementLuminanceSource=Jn,e.HybridBinarizer=_e,e.ITFReader=it,e.IllegalArgumentException=v,e.IllegalStateException=fr,e.InvertedLuminanceSource=dr,e.LuminanceSource=Kr,e.MathUtils=be,e.MultiFormatOneDReader=Mi,e.MultiFormatReader=hc,e.MultiFormatWriter=mc,e.NotFoundException=H,e.OneDReader=Rt,e.PDF417DecodedBitStreamParser=L,e.PDF417DecoderErrorCorrection=_a,e.PDF417Reader=Qt,e.PDF417ResultMetadata=cc,e.PerspectiveTransform=qt,e.PlanarYUVLuminanceSource=ka,e.QRCodeByteMatrix=po,e.QRCodeDataMask=An,e.QRCodeDecodedBitStreamParser=ic,e.QRCodeDecoderErrorCorrectionLevel=ot,e.QRCodeDecoderFormatInformation=Zt,e.QRCodeEncoder=ht,e.QRCodeEncoderQRCode=os,e.QRCodeMaskUtil=gr,e.QRCodeMatrixUtil=me,e.QRCodeMode=pe,e.QRCodeReader=_r,e.QRCodeVersion=he,e.QRCodeWriter=Oa,e.RGBLuminanceSource=Oi,e.RSS14Reader=Ct,e.RSSExpandedReader=$,e.ReaderException=Ma,e.ReedSolomonDecoder=Wt,e.ReedSolomonEncoder=Na,e.ReedSolomonException=Ir,e.Result=Dt,e.ResultMetadataType=Ft,e.ResultPoint=le,e.StringUtils=we,e.UnsupportedOperationException=Qr,e.VideoInputDevice=to,e.WhiteRectangleDetector=sn,e.WriterException=ut,e.ZXingArrays=W,e.ZXingCharset=yc,e.ZXingInteger=Q,e.ZXingStandardCharsets=ss,e.ZXingStringBuilder=Ne,e.ZXingStringEncoding=st,e.ZXingSystem=R,e.createAbstractExpandedDecoder=Et,Object.defineProperty(e,"__esModule",{value:!0})})});function Bf(e,t){return Object.is(e,t)}var Kt=null,Mc=!1,Uf=1,mr=Symbol("SIGNAL");function Ye(e){let t=Kt;return Kt=e,t}function Vf(){return Kt}var Ua={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Va(e){if(Mc)throw new Error("");if(Kt===null)return;Kt.consumerOnSignalRead(e);let t=Kt.nextProducerIndex++;if(kc(Kt),t<Kt.producerNode.length&&Kt.producerNode[t]!==e&&Ba(Kt)){let n=Kt.producerNode[t];Oc(n,Kt.producerIndexOfThis[t])}Kt.producerNode[t]!==e&&(Kt.producerNode[t]=e,Kt.producerIndexOfThis[t]=Ba(Kt)?lm(e,Kt,t):0),Kt.producerLastReadVersion[t]=e.version}function am(){Uf++}function jf(e){if(!(Ba(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Uf)){if(!e.producerMustRecompute(e)&&!$f(e)){Lf(e);return}e.producerRecomputeValue(e),Lf(e)}}function Hf(e){if(e.liveConsumerNode===void 0)return;let t=Mc;Mc=!0;try{for(let n of e.liveConsumerNode)n.dirty||S2(n)}finally{Mc=t}}function zf(){return Kt?.consumerAllowSignalWrites!==!1}function S2(e){e.dirty=!0,Hf(e),e.consumerMarkedDirty?.(e)}function Lf(e){e.dirty=!1,e.lastCleanEpoch=Uf}function Rc(e){return e&&(e.nextProducerIndex=0),Ye(e)}function Gf(e,t){if(Ye(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ba(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Oc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function $f(e){kc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(jf(n),r!==n.version))return!0}return!1}function Wf(e){if(kc(e),Ba(e))for(let t=0;t<e.producerNode.length;t++)Oc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function lm(e,t,n){if(cm(e),e.liveConsumerNode.length===0&&um(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=lm(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Oc(e,t){if(cm(e),e.liveConsumerNode.length===1&&um(e))for(let r=0;r<e.producerNode.length;r++)Oc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];kc(s),s.producerIndexOfThis[r]=t}}function Ba(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function kc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function cm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function um(e){return e.producerNode!==void 0}function qf(e,t){let n=Object.create(_2);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(jf(n),Va(n),n.value===Nc)throw n.error;return n.value};return r[mr]=n,r}var Ff=Symbol("UNSET"),Pf=Symbol("COMPUTING"),Nc=Symbol("ERRORED"),_2=qe(re({},Ua),{value:Ff,dirty:!0,error:null,equal:Bf,kind:"computed",producerMustRecompute(e){return e.value===Ff||e.value===Pf},producerRecomputeValue(e){if(e.value===Pf)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Pf;let n=Rc(e),r,s=!1;try{r=e.computation(),Ye(null),s=t!==Ff&&t!==Nc&&r!==Nc&&e.equal(t,r)}catch(c){r=Nc,e.error=c}finally{Gf(e,n)}if(s){e.value=t;return}e.value=r,e.version++}});function T2(){throw new Error}var dm=T2;function fm(e){dm(e)}function Yf(e){dm=e}var M2=null;function Zf(e,t){let n=Object.create(Fc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Va(n),n.value);return r[mr]=n,r}function ja(e,t){zf()||fm(e),e.equal(e.value,t)||(e.value=t,N2(e))}function Xf(e,t){zf()||fm(e),ja(e,t(e.value))}var Fc=qe(re({},Ua),{equal:Bf,value:void 0,kind:"signal"});function N2(e){e.version++,am(),Hf(e),M2?.()}function Qf(e){let t=Ye(null);try{return e()}finally{Ye(t)}}var Kf;function Ha(){return Kf}function oi(e){let t=Kf;return Kf=e,t}var Pc=Symbol("NotFound");function Te(e){return typeof e=="function"}function hs(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lc=hs(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,s)=>`${s+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ot=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let c of n)c.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Te(r))try{r()}catch(c){t=c instanceof Lc?c.errors:[c]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let c of s)try{hm(c)}catch(f){t=t??[],f instanceof Lc?t=[...t,...f.errors]:t.push(f)}}if(t)throw new Lc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)hm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&yo(n,t)}remove(t){let{_finalizers:n}=this;n&&yo(n,t),t instanceof e&&t._removeParent(this)}};Ot.EMPTY=(()=>{let e=new Ot;return e.closed=!0,e})();var Jf=Ot.EMPTY;function Bc(e){return e instanceof Ot||e&&"closed"in e&&Te(e.remove)&&Te(e.add)&&Te(e.unsubscribe)}function hm(e){Te(e)?e():e.unsubscribe()}var yr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ps={setTimeout(e,t,...n){let{delegate:r}=ps;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ps;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Uc(e){ps.setTimeout(()=>{let{onUnhandledError:t}=yr;if(t)t(e);else throw e})}function za(){}var pm=eh("C",void 0,void 0);function gm(e){return eh("E",void 0,e)}function mm(e){return eh("N",e,void 0)}function eh(e,t,n){return{kind:e,value:t,error:n}}var wo=null;function gs(e){if(yr.useDeprecatedSynchronousErrorHandling){let t=!wo;if(t&&(wo={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=wo;if(wo=null,n)throw r}}else e()}function ym(e){yr.useDeprecatedSynchronousErrorHandling&&wo&&(wo.errorThrown=!0,wo.error=e)}var vo=class extends Ot{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Bc(t)&&t.add(this)):this.destination=L2}static create(t,n,r){return new ms(t,n,r)}next(t){this.isStopped?nh(mm(t),this):this._next(t)}error(t){this.isStopped?nh(gm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?nh(pm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},F2=Function.prototype.bind;function th(e,t){return F2.call(e,t)}var rh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Vc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Vc(r)}else Vc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Vc(n)}}},ms=class extends vo{constructor(t,n,r){super();let s;if(Te(t)||!t)s={next:t??void 0,error:n??void 0,complete:r??void 0};else{let c;this&&yr.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&th(t.next,c),error:t.error&&th(t.error,c),complete:t.complete&&th(t.complete,c)}):s=t}this.destination=new rh(s)}};function Vc(e){yr.useDeprecatedSynchronousErrorHandling?ym(e):Uc(e)}function P2(e){throw e}function nh(e,t){let{onStoppedNotification:n}=yr;n&&ps.setTimeout(()=>n(e,t))}var L2={closed:!0,next:za,error:P2,complete:za};var ys=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vn(e){return e}function ih(...e){return oh(e)}function oh(e){return e.length===0?vn:e.length===1?e[0]:function(n){return e.reduce((r,s)=>s(r),n)}}var Ke=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,s){let c=U2(n)?n:new ms(n,r,s);return gs(()=>{let{operator:f,source:g}=this;c.add(f?f.call(c,g):g?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wm(r),new r((s,c)=>{let f=new ms({next:g=>{try{n(g)}catch(x){c(x),f.unsubscribe()}},error:c,complete:s});this.subscribe(f)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ys](){return this}pipe(...n){return oh(n)(this)}toPromise(n){return n=wm(n),new n((r,s)=>{let c;this.subscribe(f=>c=f,f=>s(f),()=>r(c))})}}return e.create=t=>new e(t),e})();function wm(e){var t;return(t=e??yr.Promise)!==null&&t!==void 0?t:Promise}function B2(e){return e&&Te(e.next)&&Te(e.error)&&Te(e.complete)}function U2(e){return e&&e instanceof vo||B2(e)&&Bc(e)}function sh(e){return Te(e?.lift)}function ze(e){return t=>{if(sh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(e,t,n,r,s){return new ah(e,t,n,r,s)}var ah=class extends vo{constructor(t,n,r,s,c,f){super(t),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=n?function(g){try{n(g)}catch(x){t.error(x)}}:super._next,this._error=s?function(g){try{s(g)}catch(x){t.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ws(){return ze((e,t)=>{let n=null;e._refCount++;let r=Ue(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let s=e._connection,c=n;n=null,s&&(!c||s===c)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var vs=class extends Ke{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ot;let n=this.getSubject();t.add(this.source.subscribe(Ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ot.EMPTY)}return t}refCount(){return ws()(this)}};var vm=hs(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class e extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new jc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vm}next(n){gs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){gs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:s,observers:c}=this;return r||s?Jf:(this.currentObservers=null,c.push(n),new Ot(()=>{this.currentObservers=null,yo(c,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:s,isStopped:c}=this;r?n.error(s):c&&n.complete()}asObservable(){let n=new Ke;return n.source=this,n}}return e.create=(t,n)=>new jc(t,n),e})(),jc=class extends _t{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Jf}};var Jt=class extends _t{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var lh={now(){return(lh.delegate||Date).now()},delegate:void 0};var Hc=class extends Ot{constructor(t,n){super()}schedule(t,n=0){return this}};var Ga={setInterval(e,t,...n){let{delegate:r}=Ga;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Ga;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var zc=class extends Hc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let s=this.id,c=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(c,s,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(c,this.id,n),this}requestAsyncId(t,n,r=0){return Ga.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ga.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,s;try{this.work(t)}catch(c){r=!0,s=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,yo(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Cs=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Cs.now=lh.now;var Gc=class extends Cs{constructor(t,n=Cs.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Cm=new Gc(zc);var Tn=new Ke(e=>e.complete());function xm(e){return e&&Te(e.schedule)}function Em(e){return e[e.length-1]}function $c(e){return Te(Em(e))?e.pop():void 0}function Li(e){return xm(Em(e))?e.pop():void 0}function Im(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})}function bm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Co(e){return this instanceof Co?(this.v=e,this):new Co(e)}function Dm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),s[Symbol.asyncIterator]=function(){return this},s;function f(R){return function(G){return Promise.resolve(G).then(R,D)}}function g(R,G){r[R]&&(s[R]=function(X){return new Promise(function(W,Q){c.push([R,X,W,Q])>1||x(R,X)})},G&&(s[R]=G(s[R])))}function x(R,G){try{v(r[R](G))}catch(X){U(c[0][3],X)}}function v(R){R.value instanceof Co?Promise.resolve(R.value.v).then(A,D):U(c[0][2],R)}function A(R){x("next",R)}function D(R){x("throw",R)}function U(R,G){R(G),c.shift(),c.length&&x(c[0][0],c[0][1])}}function Am(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof bm=="function"?bm(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=e[c]&&function(f){return new Promise(function(g,x){f=e[c](f),s(g,x,f.done,f.value)})}}function s(c,f,g,x){Promise.resolve(x).then(function(v){c({value:v,done:g})},f)}}var Wc=e=>e&&typeof e.length=="number"&&typeof e!="function";function qc(e){return Te(e?.then)}function Yc(e){return Te(e[ys])}function Zc(e){return Symbol.asyncIterator&&Te(e?.[Symbol.asyncIterator])}function Xc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function V2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qc=V2();function Kc(e){return Te(e?.[Qc])}function Jc(e){return Dm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:s}=yield Co(n.read());if(s)return yield Co(void 0);yield yield Co(r)}}finally{n.releaseLock()}})}function eu(e){return Te(e?.getReader)}function Ht(e){if(e instanceof Ke)return e;if(e!=null){if(Yc(e))return j2(e);if(Wc(e))return H2(e);if(qc(e))return z2(e);if(Zc(e))return Sm(e);if(Kc(e))return G2(e);if(eu(e))return $2(e)}throw Xc(e)}function j2(e){return new Ke(t=>{let n=e[ys]();if(Te(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function H2(e){return new Ke(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function z2(e){return new Ke(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Uc)})}function G2(e){return new Ke(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Sm(e){return new Ke(t=>{W2(e,t).catch(n=>t.error(n))})}function $2(e){return Sm(Jc(e))}function W2(e,t){var n,r,s,c;return Im(this,void 0,void 0,function*(){try{for(n=Am(e);r=yield n.next(),!r.done;){let f=r.value;if(t.next(f),t.closed)return}}catch(f){s={error:f}}finally{try{r&&!r.done&&(c=n.return)&&(yield c.call(n))}finally{if(s)throw s.error}}t.complete()})}function Mn(e,t,n,r=0,s=!1){let c=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(c),!s)return c}function tu(e,t=0){return ze((n,r)=>{n.subscribe(Ue(r,s=>Mn(r,e,()=>r.next(s),t),()=>Mn(r,e,()=>r.complete(),t),s=>Mn(r,e,()=>r.error(s),t)))})}function nu(e,t=0){return ze((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function _m(e,t){return Ht(e).pipe(nu(t),tu(t))}function Tm(e,t){return Ht(e).pipe(nu(t),tu(t))}function Mm(e,t){return new Ke(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Nm(e,t){return new Ke(n=>{let r;return Mn(n,t,()=>{r=e[Qc](),Mn(n,t,()=>{let s,c;try{({value:s,done:c}=r.next())}catch(f){n.error(f);return}c?n.complete():n.next(s)},0,!0)}),()=>Te(r?.return)&&r.return()})}function ru(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ke(n=>{Mn(n,t,()=>{let r=e[Symbol.asyncIterator]();Mn(n,t,()=>{r.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function Rm(e,t){return ru(Jc(e),t)}function Om(e,t){if(e!=null){if(Yc(e))return _m(e,t);if(Wc(e))return Mm(e,t);if(qc(e))return Tm(e,t);if(Zc(e))return ru(e,t);if(Kc(e))return Nm(e,t);if(eu(e))return Rm(e,t)}throw Xc(e)}function yt(e,t){return t?Om(e,t):Ht(e)}function xe(...e){let t=Li(e);return yt(e,t)}function rr(e,t){let n=Te(e)?e:()=>e,r=s=>s.error(n());return new Ke(t?s=>t.schedule(r,0,s):r)}function ch(e){return!!e&&(e instanceof Ke||Te(e.lift)&&Te(e.subscribe))}var si=hs(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Oe(e,t){return ze((n,r)=>{let s=0;n.subscribe(Ue(r,c=>{r.next(e.call(t,c,s++))}))})}var{isArray:q2}=Array;function Y2(e,t){return q2(t)?e(...t):e(t)}function iu(e){return Oe(t=>Y2(e,t))}var{isArray:Z2}=Array,{getPrototypeOf:X2,prototype:Q2,keys:K2}=Object;function ou(e){if(e.length===1){let t=e[0];if(Z2(t))return{args:t,keys:null};if(J2(t)){let n=K2(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function J2(e){return e&&typeof e=="object"&&X2(e)===Q2}function su(e,t){return e.reduce((n,r,s)=>(n[r]=t[s],n),{})}function $a(...e){let t=Li(e),n=$c(e),{args:r,keys:s}=ou(e);if(r.length===0)return yt([],t);let c=new Ke(eE(r,t,s?f=>su(s,f):vn));return n?c.pipe(iu(n)):c}function eE(e,t,n=vn){return r=>{km(t,()=>{let{length:s}=e,c=new Array(s),f=s,g=s;for(let x=0;x<s;x++)km(t,()=>{let v=yt(e[x],t),A=!1;v.subscribe(Ue(r,D=>{c[x]=D,A||(A=!0,g--),g||r.next(n(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}function km(e,t,n){e?Mn(n,e,t):t()}function Fm(e,t,n,r,s,c,f,g){let x=[],v=0,A=0,D=!1,U=()=>{D&&!x.length&&!v&&t.complete()},R=X=>v<r?G(X):x.push(X),G=X=>{c&&t.next(X),v++;let W=!1;Ht(n(X,A++)).subscribe(Ue(t,Q=>{s?.(Q),c?R(Q):t.next(Q)},()=>{W=!0},void 0,()=>{if(W)try{for(v--;x.length&&v<r;){let Q=x.shift();f?Mn(t,f,()=>G(Q)):G(Q)}U()}catch(Q){t.error(Q)}}))};return e.subscribe(Ue(t,R,()=>{D=!0,U()})),()=>{g?.()}}function zt(e,t,n=1/0){return Te(t)?zt((r,s)=>Oe((c,f)=>t(r,c,s,f))(Ht(e(r,s))),n):(typeof t=="number"&&(n=t),ze((r,s)=>Fm(r,s,e,n)))}function Bi(e=1/0){return zt(vn,e)}function Pm(){return Bi(1)}function xs(...e){return Pm()(yt(e,Li(e)))}function au(e){return new Ke(t=>{Ht(e()).subscribe(t)})}function uh(...e){let t=$c(e),{args:n,keys:r}=ou(e),s=new Ke(c=>{let{length:f}=n;if(!f){c.complete();return}let g=new Array(f),x=f,v=f;for(let A=0;A<f;A++){let D=!1;Ht(n[A]).subscribe(Ue(c,U=>{D||(D=!0,v--),g[A]=U},()=>x--,void 0,()=>{(!x||!D)&&(v||c.next(r?su(r,g):g),c.complete())}))}});return t?s.pipe(iu(t)):s}function Nn(e,t){return ze((n,r)=>{let s=0;n.subscribe(Ue(r,c=>e.call(t,c,s++)&&r.next(c)))})}function Cn(e){return ze((t,n)=>{let r=null,s=!1,c;r=t.subscribe(Ue(n,void 0,void 0,f=>{c=Ht(e(f,Cn(e)(t))),r?(r.unsubscribe(),r=null,c.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,c.subscribe(n))})}function Lm(e,t,n,r,s){return(c,f)=>{let g=n,x=t,v=0;c.subscribe(Ue(f,A=>{let D=v++;x=g?e(x,A,D):(g=!0,A),r&&f.next(x)},s&&(()=>{g&&f.next(x),f.complete()})))}}function ai(e,t){return Te(t)?zt(e,t,1):zt(e,1)}function dh(e,t=Cm){return ze((n,r)=>{let s=null,c=null,f=null,g=()=>{if(s){s.unsubscribe(),s=null;let v=c;c=null,r.next(v)}};function x(){let v=f+e,A=t.now();if(A<v){s=this.schedule(void 0,v-A),r.add(s);return}g()}n.subscribe(Ue(r,v=>{c=v,f=t.now(),s||(s=t.schedule(x,e),r.add(s))},()=>{g(),r.complete()},void 0,()=>{c=s=null}))})}function Ui(e){return ze((t,n)=>{let r=!1;t.subscribe(Ue(n,s=>{r=!0,n.next(s)},()=>{r||n.next(e),n.complete()}))})}function li(e){return e<=0?()=>Tn:ze((t,n)=>{let r=0;t.subscribe(Ue(n,s=>{++r<=e&&(n.next(s),e<=r&&n.complete())}))})}function fh(e,t=vn){return e=e??tE,ze((n,r)=>{let s,c=!0;n.subscribe(Ue(r,f=>{let g=t(f);(c||!e(s,g))&&(c=!1,s=g,r.next(f))}))})}function tE(e,t){return e===t}function lu(e=nE){return ze((t,n)=>{let r=!1;t.subscribe(Ue(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(e())))})}function nE(){return new si}function xo(e){return ze((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ci(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Nn((s,c)=>e(s,c,r)):vn,li(1),n?Ui(t):lu(()=>new si))}function Es(e){return e<=0?()=>Tn:ze((t,n)=>{let r=[];t.subscribe(Ue(n,s=>{r.push(s),e<r.length&&r.shift()},()=>{for(let s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function hh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Nn((s,c)=>e(s,c,r)):vn,Es(1),n?Ui(t):lu(()=>new si))}function ph(e,t){return ze(Lm(e,t,arguments.length>=2,!0))}function gh(...e){let t=Li(e);return ze((n,r)=>{(t?xs(e,n,t):xs(e,n)).subscribe(r)})}function an(e,t){return ze((n,r)=>{let s=null,c=0,f=!1,g=()=>f&&!s&&r.complete();n.subscribe(Ue(r,x=>{s?.unsubscribe();let v=0,A=c++;Ht(e(x,A)).subscribe(s=Ue(r,D=>r.next(t?t(x,D,A,v++):D),()=>{s=null,g()}))},()=>{f=!0,g()}))})}function Wa(e){return ze((t,n)=>{Ht(e).subscribe(Ue(n,()=>n.complete(),za)),!n.closed&&t.subscribe(n)})}function Gt(e,t,n){let r=Te(e)||t||n?{next:e,error:t,complete:n}:e;return r?ze((s,c)=>{var f;(f=r.subscribe)===null||f===void 0||f.call(r);let g=!0;s.subscribe(Ue(c,x=>{var v;(v=r.next)===null||v===void 0||v.call(r,x),c.next(x)},()=>{var x;g=!1,(x=r.complete)===null||x===void 0||x.call(r),c.complete()},x=>{var v;g=!1,(v=r.error)===null||v===void 0||v.call(r,x),c.error(x)},()=>{var x,v;g&&((x=r.unsubscribe)===null||x===void 0||x.call(r)),(v=r.finalize)===null||v===void 0||v.call(r)}))}):vn}var D1="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",se=class extends Error{code;constructor(t,n){super(zu(t,n)),this.code=t}};function zu(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var A1=Symbol("InputSignalNode#UNSET"),rE=qe(re({},Fc),{transformFn:void 0,applyValueToInputSignal(e,t){ja(e,t)}});function S1(e,t){let n=Object.create(rE);n.value=e,n.transformFn=t?.transform;function r(){if(Va(n),n.value===A1){let s=null;throw new se(-950,s)}return n.value}return r[mr]=n,r}function nl(e){return{toString:e}.toString()}var cu="__parameters__";function iE(e){return function(...n){if(e){let r=e(...n);for(let s in r)this[s]=r[s]}}}function _1(e,t,n){return nl(()=>{let r=iE(t);function s(...c){if(this instanceof s)return r.apply(this,c),this;let f=new s(...c);return g.annotation=f,g;function g(x,v,A){let D=x.hasOwnProperty(cu)?x[cu]:Object.defineProperty(x,cu,{value:[]})[cu];for(;D.length<=A;)D.push(null);return(D[A]=D[A]||[]).push(f),x}}return s.prototype.ngMetadataName=e,s.annotationCls=s,s})}var Th=globalThis;function pt(e){for(let t in e)if(e[t]===pt)return t;throw Error("Could not find renamed property on target object.")}function oE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function On(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(On).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Bm(e,t){return e?t?`${e} ${t}`:e:t||""}var sE=pt({__forward_ref__:pt});function Hi(e){return e.__forward_ref__=Hi,e.toString=function(){return On(this())},e}function xn(e){return T1(e)?e():e}function T1(e){return typeof e=="function"&&e.hasOwnProperty(sE)&&e.__forward_ref__===Hi}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ur(e){return{providers:e.providers||[],imports:e.imports||[]}}function Gu(e){return Um(e,N1)||Um(e,R1)}function M1(e){return Gu(e)!==null}function Um(e,t){return e.hasOwnProperty(t)?e[t]:null}function aE(e){let t=e&&(e[N1]||e[R1]);return t||null}function Vm(e){return e&&(e.hasOwnProperty(jm)||e.hasOwnProperty(lE))?e[jm]:null}var N1=pt({\u0275prov:pt}),jm=pt({\u0275inj:pt}),R1=pt({ngInjectableDef:pt}),lE=pt({ngInjectorDef:pt}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ue({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function O1(e){return e&&!!e.\u0275providers}var cE=pt({\u0275cmp:pt}),uE=pt({\u0275dir:pt}),dE=pt({\u0275pipe:pt}),fE=pt({\u0275mod:pt}),wu=pt({\u0275fac:pt}),Xa=pt({__NG_ELEMENT_ID__:pt}),Hm=pt({__NG_ENV_ID__:pt});function Ts(e){return typeof e=="string"?e:e==null?"":String(e)}function hE(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ts(e)}function k1(e,t){throw new se(-200,e)}function Ip(e,t){throw new se(-201,!1)}var je=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(je||{}),Mh;function F1(){return Mh}function Rn(e){let t=Mh;return Mh=e,t}function P1(e,t,n){let r=Gu(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&je.Optional)return null;if(t!==void 0)return t;Ip(e,"Injector")}var pE={},Eo=pE,Nh="__NG_DI_FLAG__",vu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Pc:Eo,r)}},Cu="ngTempTokenPath",gE="ngTokenPath",mE=/\n/gm,yE="\u0275",zm="__source";function wE(e,t=je.Default){if(Ha()===void 0)throw new se(-203,!1);if(Ha()===null)return P1(e,void 0,t);{let n=Ha(),r;return n instanceof vu?r=n.injector:r=n,r.get(e,t&je.Optional?null:void 0,t)}}function ge(e,t=je.Default){return(F1()||wE)(xn(e),t)}function q(e,t=je.Default){return ge(e,$u(t))}function $u(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Rh(e){let t=[];for(let n=0;n<e.length;n++){let r=xn(e[n]);if(Array.isArray(r)){if(r.length===0)throw new se(900,!1);let s,c=je.Default;for(let f=0;f<r.length;f++){let g=r[f],x=vE(g);typeof x=="number"?x===-1?s=g.token:c|=x:s=g}t.push(ge(s,c))}else t.push(ge(r))}return t}function L1(e,t){return e[Nh]=t,e.prototype[Nh]=t,e}function vE(e){return e[Nh]}function CE(e,t,n,r){let s=e[Cu];throw t[zm]&&s.unshift(t[zm]),e.message=xE(`
`+e.message,s,n,r),e[gE]=s,e[Cu]=null,e}function xE(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==yE?e.slice(2):e;let s=On(t);if(Array.isArray(t))s=t.map(On).join(" -> ");else if(typeof t=="object"){let c=[];for(let f in t)if(t.hasOwnProperty(f)){let g=t[f];c.push(f+":"+(typeof g=="string"?JSON.stringify(g):On(g)))}s=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(mE,`
  `)}`}var B1=L1(_1("Optional"),8);var EE=L1(_1("SkipSelf"),4);function Io(e,t){let n=e.hasOwnProperty(wu);return n?e[wu]:null}function bE(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],c=t[r];if(n&&(s=n(s),c=n(c)),c!==s)return!1}return!0}function IE(e){return e.flat(Number.POSITIVE_INFINITY)}function Dp(e,t){e.forEach(n=>Array.isArray(n)?Dp(n,t):t(n))}function U1(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function DE(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(s===1)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;){let c=s-2;e[s]=e[c],s--}e[t]=n,e[t+1]=r}}function AE(e,t,n){let r=rl(e,t);return r>=0?e[r|1]=n:(r=~r,DE(e,r,t,n)),r}function mh(e,t){let n=rl(e,t);if(n>=0)return e[n|1]}function rl(e,t){return SE(e,t,1)}function SE(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){let c=r+(s-r>>1),f=e[c<<n];if(t===f)return c<<n;f>t?s=c:r=c+1}return~(s<<n)}var Do={},ir=[],Ms=new de(""),V1=new de("",-1),j1=new de(""),Eu=class{get(t,n=Eo){if(n===Eo){let r=new Error(`NullInjectorError: No provider for ${On(t)}!`);throw r.name="NullInjectorError",r}return n}};function H1(e,t){let n=e[fE]||null;if(!n&&t===!0)throw new Error(`Type ${On(e)} does not have '\u0275mod' property.`);return n}function Ao(e){return e[cE]||null}function _E(e){return e[uE]||null}function TE(e){return e[dE]||null}function js(e){return{\u0275providers:e}}function ME(...e){return{\u0275providers:z1(!0,e),\u0275fromNgModule:!0}}function z1(e,...t){let n=[],r=new Set,s,c=f=>{n.push(f)};return Dp(t,f=>{let g=f;Oh(g,c,[],r)&&(s||=[],s.push(g))}),s!==void 0&&G1(s,c),n}function G1(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:s}=e[n];Ap(s,c=>{t(c,r)})}}function Oh(e,t,n,r){if(e=xn(e),!e)return!1;let s=null,c=Vm(e),f=!c&&Ao(e);if(!c&&!f){let x=e.ngModule;if(c=Vm(x),c)s=x;else return!1}else{if(f&&!f.standalone)return!1;s=e}let g=r.has(s);if(f){if(g)return!1;if(r.add(s),f.dependencies){let x=typeof f.dependencies=="function"?f.dependencies():f.dependencies;for(let v of x)Oh(v,t,n,r)}}else if(c){if(c.imports!=null&&!g){r.add(s);let v;try{Dp(c.imports,A=>{Oh(A,t,n,r)&&(v||=[],v.push(A))})}finally{}v!==void 0&&G1(v,t)}if(!g){let v=Io(s)||(()=>new s);t({provide:s,useFactory:v,deps:ir},s),t({provide:j1,useValue:s,multi:!0},s),t({provide:Ms,useValue:()=>ge(s),multi:!0},s)}let x=c.providers;if(x!=null&&!g){let v=e;Ap(x,A=>{t(A,v)})}}else return!1;return s!==e&&e.providers!==void 0}function Ap(e,t){for(let n of e)O1(n)&&(n=n.\u0275providers),Array.isArray(n)?Ap(n,t):t(n)}var NE=pt({provide:String,useValue:pt});function $1(e){return e!==null&&typeof e=="object"&&NE in e}function RE(e){return!!(e&&e.useExisting)}function OE(e){return!!(e&&e.useFactory)}function Ns(e){return typeof e=="function"}function kE(e){return!!e.useClass}var Wu=new de(""),fu={},Gm={},yh;function Sp(){return yh===void 0&&(yh=new Eu),yh}var En=class{},Qa=class extends En{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,Fh(t,f=>this.processProvider(f)),this.records.set(V1,bs(void 0,this)),s.has("environment")&&this.records.set(En,bs(void 0,this));let c=this.records.get(Wu);c!=null&&typeof c.value=="string"&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(j1,ir,je.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Pc:Eo,r)}destroy(){Ya(this),this._destroyed=!0;let t=Ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ye(t)}}onDestroy(t){return Ya(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ya(this);let n=oi(this),r=Rn(void 0),s;try{return t()}finally{oi(n),Rn(r)}}get(t,n=Eo,r=je.Default){if(Ya(this),t.hasOwnProperty(Hm))return t[Hm](this);r=$u(r);let s,c=oi(this),f=Rn(void 0);try{if(!(r&je.SkipSelf)){let x=this.records.get(t);if(x===void 0){let v=UE(t)&&Gu(t);v&&this.injectableDefInScope(v)?x=bs(kh(t),fu):x=null,this.records.set(t,x)}if(x!=null)return this.hydrate(t,x)}let g=r&je.Self?Sp():this.parent;return n=r&je.Optional&&n===Eo?null:n,g.get(t,n)}catch(g){if(g.name==="NullInjectorError"){if((g[Cu]=g[Cu]||[]).unshift(On(t)),c)throw g;return CE(g,t,"R3InjectorError",this.source)}else throw g}finally{Rn(f),oi(c)}}resolveInjectorInitializers(){let t=Ye(null),n=oi(this),r=Rn(void 0),s;try{let c=this.get(Ms,ir,je.Self);for(let f of c)f()}finally{oi(n),Rn(r),Ye(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(On(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=xn(t);let n=Ns(t)?t:xn(t&&t.provide),r=PE(t);if(!Ns(t)&&t.multi===!0){let s=this.records.get(n);s||(s=bs(void 0,fu,!0),s.factory=()=>Rh(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Ye(null);try{return n.value===Gm?k1(On(t)):n.value===fu&&(n.value=Gm,n.value=n.factory()),typeof n.value=="object"&&n.value&&BE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ye(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=xn(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kh(e){let t=Gu(e),n=t!==null?t.factory:Io(e);if(n!==null)return n;if(e instanceof de)throw new se(204,!1);if(e instanceof Function)return FE(e);throw new se(204,!1)}function FE(e){if(e.length>0)throw new se(204,!1);let n=aE(e);return n!==null?()=>n.factory(e):()=>new e}function PE(e){if($1(e))return bs(void 0,e.useValue);{let t=W1(e);return bs(t,fu)}}function W1(e,t,n){let r;if(Ns(e)){let s=xn(e);return Io(s)||kh(s)}else if($1(e))r=()=>xn(e.useValue);else if(OE(e))r=()=>e.useFactory(...Rh(e.deps||[]));else if(RE(e))r=()=>ge(xn(e.useExisting));else{let s=xn(e&&(e.useClass||e.provide));if(LE(e))r=()=>new s(...Rh(e.deps));else return Io(s)||kh(s)}return r}function Ya(e){if(e.destroyed)throw new se(205,!1)}function bs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function LE(e){return!!e.deps}function BE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function UE(e){return typeof e=="function"||typeof e=="object"&&e instanceof de}function Fh(e,t){for(let n of e)Array.isArray(n)?Fh(n,t):n&&O1(n)?Fh(n.\u0275providers,t):t(n)}function Fn(e,t){let n;e instanceof Qa?(Ya(e),n=e):n=new vu(e);let r,s=oi(n),c=Rn(void 0);try{return t()}finally{oi(s),Rn(c)}}function q1(){return F1()!==void 0||Ha()!=null}function Y1(e){if(!q1())throw new se(-203,!1)}function VE(e){return typeof e=="function"}var pi=0,Ge=1,Ae=2,gn=3,vr=4,Cr=5,bu=6,Iu=7,kn=8,Rs=9,ui=10,nn=11,Ka=12,$m=13,Hs=14,Or=15,So=16,Is=17,di=18,qu=19,Z1=20,Vi=21,wh=22,Du=23,or=24,Ss=25,sr=26,X1=1;var _o=7,Au=8,Os=9,qn=10;function ji(e){return Array.isArray(e)&&typeof e[X1]=="object"}function gi(e){return Array.isArray(e)&&e[X1]===!0}function _p(e){return(e.flags&4)!==0}function zs(e){return e.componentOffset>-1}function Yu(e){return(e.flags&1)===1}function kr(e){return!!e.template}function Su(e){return(e[Ae]&512)!==0}function il(e){return(e[Ae]&256)===256}var Ph=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Q1(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var mi=(()=>{let e=()=>K1;return e.ngInherit=!0,e})();function K1(e){return e.type.prototype.ngOnChanges&&(e.setInput=HE),jE}function jE(){let e=ey(this),t=e?.current;if(t){let n=e.previous;if(n===Do)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function HE(e,t,n,r,s){let c=this.declaredInputs[r],f=ey(e)||zE(e,{previous:Do,current:null}),g=f.current||(f.current={}),x=f.previous,v=x[c];g[c]=new Ph(v&&v.currentValue,n,x===Do),Q1(e,t,s,n)}var J1="__ngSimpleChanges__";function ey(e){return e[J1]||null}function zE(e,t){return e[J1]=t}var Wm=null;var ft=function(e,t=null,n){Wm?.(e,t,n)},ty="svg",GE="math";function Fr(e){for(;Array.isArray(e);)e=e[pi];return e}function ny(e,t){return Fr(t[e])}function Vr(e,t){return Fr(t[e.index])}function ry(e,t){return e.data[t]}function $E(e,t){return e[t]}function Pr(e,t){let n=t[e];return ji(n)?n:n[pi]}function WE(e){return(e[Ae]&4)===4}function Tp(e){return(e[Ae]&128)===128}function qE(e){return gi(e[gn])}function ks(e,t){return t==null?null:e[t]}function iy(e){e[Is]=0}function oy(e){e[Ae]&1024||(e[Ae]|=1024,Tp(e)&&ol(e))}function YE(e,t){for(;e>0;)t=t[Hs],e--;return t}function Zu(e){return!!(e[Ae]&9216||e[or]?.dirty)}function Lh(e){e[ui].changeDetectionScheduler?.notify(8),e[Ae]&64&&(e[Ae]|=1024),Zu(e)&&ol(e)}function ol(e){e[ui].changeDetectionScheduler?.notify(0);let t=To(e);for(;t!==null&&!(t[Ae]&8192||(t[Ae]|=8192,!Tp(t)));)t=To(t)}function sy(e,t){if(il(e))throw new se(911,!1);e[Vi]===null&&(e[Vi]=[]),e[Vi].push(t)}function ZE(e,t){if(e[Vi]===null)return;let n=e[Vi].indexOf(t);n!==-1&&e[Vi].splice(n,1)}function To(e){let t=e[gn];return gi(t)?t[gn]:t}function ay(e){return e[Iu]??=[]}function ly(e){return e.cleanup??=[]}function XE(e,t,n,r){let s=ay(t);s.push(n),e.firstCreatePass&&ly(e).push(r,s.length-1)}var Pe={lFrame:my(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bh=!1;function QE(){return Pe.lFrame.elementDepthCount}function KE(){Pe.lFrame.elementDepthCount++}function JE(){Pe.lFrame.elementDepthCount--}function Mp(){return Pe.bindingsEnabled}function eb(){return Pe.skipHydrationRootTNode!==null}function tb(e){return Pe.skipHydrationRootTNode===e}function nb(){Pe.skipHydrationRootTNode=null}function rt(){return Pe.lFrame.lView}function ln(){return Pe.lFrame.tView}function jr(e){return Pe.lFrame.contextLView=e,e[kn]}function Hr(e){return Pe.lFrame.contextLView=null,e}function In(){let e=cy();for(;e!==null&&e.type===64;)e=e.parent;return e}function cy(){return Pe.lFrame.currentTNode}function rb(){let e=Pe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Fo(e,t){let n=Pe.lFrame;n.currentTNode=e,n.isParent=t}function Np(){return Pe.lFrame.isParent}function uy(){Pe.lFrame.isParent=!1}function dy(){return Bh}function qm(e){let t=Bh;return Bh=e,t}function Rp(){let e=Pe.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ib(){return Pe.lFrame.bindingIndex}function ob(e){return Pe.lFrame.bindingIndex=e}function Op(){return Pe.lFrame.bindingIndex++}function fy(e){let t=Pe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function sb(){return Pe.lFrame.inI18n}function ab(e,t){let n=Pe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Uh(t)}function lb(){return Pe.lFrame.currentDirectiveIndex}function Uh(e){Pe.lFrame.currentDirectiveIndex=e}function cb(e){let t=Pe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function hy(){return Pe.lFrame.currentQueryIndex}function kp(e){Pe.lFrame.currentQueryIndex=e}function ub(e){let t=e[Ge];return t.type===2?t.declTNode:t.type===1?e[Cr]:null}function py(e,t,n){if(n&je.SkipSelf){let s=t,c=e;for(;s=s.parent,s===null&&!(n&je.Host);)if(s=ub(c),s===null||(c=c[Hs],s.type&10))break;if(s===null)return!1;t=s,e=c}let r=Pe.lFrame=gy();return r.currentTNode=t,r.lView=e,!0}function Fp(e){let t=gy(),n=e[Ge];Pe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gy(){let e=Pe.lFrame,t=e===null?null:e.child;return t===null?my(e):t}function my(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function yy(){let e=Pe.lFrame;return Pe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var wy=yy;function Pp(){let e=yy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function db(e){return(Pe.lFrame.contextLView=YE(e,Pe.lFrame.contextLView))[kn]}function Po(){return Pe.lFrame.selectedIndex}function Mo(e){Pe.lFrame.selectedIndex=e}function vy(){let e=Pe.lFrame;return ry(e.tView,e.selectedIndex)}function It(){Pe.lFrame.currentNamespace=ty}function Vt(){fb()}function fb(){Pe.lFrame.currentNamespace=null}function hb(){return Pe.lFrame.currentNamespace}var Cy=!0;function Xu(){return Cy}function Qu(e){Cy=e}function pb(e,t,n){let{ngOnChanges:r,ngOnInit:s,ngDoCheck:c}=t.type.prototype;if(r){let f=K1(t);(n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f)}s&&(n.preOrderHooks??=[]).push(0-e,s),c&&((n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c))}function Lp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let c=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:g,ngAfterViewInit:x,ngAfterViewChecked:v,ngOnDestroy:A}=c;f&&(e.contentHooks??=[]).push(-n,f),g&&((e.contentHooks??=[]).push(n,g),(e.contentCheckHooks??=[]).push(n,g)),x&&(e.viewHooks??=[]).push(-n,x),v&&((e.viewHooks??=[]).push(n,v),(e.viewCheckHooks??=[]).push(n,v)),A!=null&&(e.destroyHooks??=[]).push(n,A)}}function hu(e,t,n){xy(e,t,3,n)}function pu(e,t,n,r){(e[Ae]&3)===n&&xy(e,t,n,r)}function vh(e,t){let n=e[Ae];(n&3)===t&&(n&=16383,n+=1,e[Ae]=n)}function xy(e,t,n,r){let s=r!==void 0?e[Is]&65535:0,c=r??-1,f=t.length-1,g=0;for(let x=s;x<f;x++)if(typeof t[x+1]=="number"){if(g=t[x],r!=null&&g>=r)break}else t[x]<0&&(e[Is]+=65536),(g<c||c==-1)&&(gb(e,n,t,x),e[Is]=(e[Is]&4294901760)+x+2),x++}function Ym(e,t){ft(4,e,t);let n=Ye(null);try{t.call(e)}finally{Ye(n),ft(5,e,t)}}function gb(e,t,n,r){let s=n[r]<0,c=n[r+1],f=s?-n[r]:n[r],g=e[f];s?e[Ae]>>14<e[Is]>>16&&(e[Ae]&3)===t&&(e[Ae]+=16384,Ym(g,c)):Ym(g,c)}var _s=-1,No=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function mb(e){return(e.flags&8)!==0}function yb(e){return(e.flags&16)!==0}function wb(e,t,n){let r=0;for(;r<n.length;){let s=n[r];if(typeof s=="number"){if(s!==0)break;r++;let c=n[r++],f=n[r++],g=n[r++];e.setAttribute(t,f,g,c)}else{let c=s,f=n[++r];vb(c)?e.setProperty(t,c,f):e.setAttribute(t,c,f),r++}}return r}function Ey(e){return e===3||e===4||e===6}function vb(e){return e.charCodeAt(0)===64}function Fs(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let s=t[r];typeof s=="number"?n=s:n===0||(n===-1||n===2?Zm(e,n,s,null,t[++r]):Zm(e,n,s,null,null))}}return e}function Zm(e,t,n,r,s){let c=0,f=e.length;if(t===-1)f=-1;else for(;c<e.length;){let g=e[c++];if(typeof g=="number"){if(g===t){f=-1;break}else if(g>t){f=c-1;break}}}for(;c<e.length;){let g=e[c];if(typeof g=="number")break;if(g===n){s!==null&&(e[c+1]=s);return}c++,s!==null&&c++}f!==-1&&(e.splice(f,0,t),c=f+1),e.splice(c++,0,n),s!==null&&e.splice(c++,0,s)}var Ch={},Vh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=$u(r);let s=this.injector.get(t,Ch,r);return s!==Ch||n===Ch?s:this.parentInjector.get(t,n,r)}};function by(e){return e!==_s}function _u(e){return e&32767}function Cb(e){return e>>16}function Tu(e,t){let n=Cb(e),r=t;for(;n>0;)r=r[Hs],n--;return r}var jh=!0;function Mu(e){let t=jh;return jh=e,t}var xb=256,Iy=xb-1,Dy=5,Eb=0,Rr={};function bb(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xa)&&(r=n[Xa]),r==null&&(r=n[Xa]=Eb++);let s=r&Iy,c=1<<s;t.data[e+(s>>Dy)]|=c}function Nu(e,t){let n=Ay(e,t);if(n!==-1)return n;let r=t[Ge];r.firstCreatePass&&(e.injectorIndex=t.length,xh(r.data,e),xh(t,null),xh(r.blueprint,null));let s=Bp(e,t),c=e.injectorIndex;if(by(s)){let f=_u(s),g=Tu(s,t),x=g[Ge].data;for(let v=0;v<8;v++)t[c+v]=g[f+v]|x[f+v]}return t[c+8]=s,c}function xh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ay(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Bp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;s!==null;){if(r=Ny(s),r===null)return _s;if(n++,s=s[Hs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _s}function Hh(e,t,n){bb(e,t,n)}function Ib(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,s=0;for(;s<r;){let c=n[s];if(Ey(c))break;if(c===0)s=s+2;else if(typeof c=="number")for(s++;s<r&&typeof n[s]=="string";)s++;else{if(c===t)return n[s+1];s=s+2}}}return null}function Sy(e,t,n){if(n&je.Optional||e!==void 0)return e;Ip(t,"NodeInjector")}function _y(e,t,n,r){if(n&je.Optional&&r===void 0&&(r=null),(n&(je.Self|je.Host))===0){let s=e[Rs],c=Rn(void 0);try{return s?s.get(t,r,n&je.Optional):P1(t,r,n&je.Optional)}finally{Rn(c)}}return Sy(r,t,n)}function Ty(e,t,n,r=je.Default,s){if(e!==null){if(t[Ae]&2048&&!(r&je.Self)){let f=_b(e,t,n,r,Rr);if(f!==Rr)return f}let c=My(e,t,n,r,Rr);if(c!==Rr)return c}return _y(t,n,r,s)}function My(e,t,n,r,s){let c=Ab(n);if(typeof c=="function"){if(!py(t,e,r))return r&je.Host?Sy(s,n,r):_y(t,n,r,s);try{let f;if(f=c(r),f==null&&!(r&je.Optional))Ip(n);else return f}finally{wy()}}else if(typeof c=="number"){let f=null,g=Ay(e,t),x=_s,v=r&je.Host?t[Or][Cr]:null;for((g===-1||r&je.SkipSelf)&&(x=g===-1?Bp(e,t):t[g+8],x===_s||!Qm(r,!1)?g=-1:(f=t[Ge],g=_u(x),t=Tu(x,t)));g!==-1;){let A=t[Ge];if(Xm(c,g,A.data)){let D=Db(g,t,n,f,r,v);if(D!==Rr)return D}x=t[g+8],x!==_s&&Qm(r,t[Ge].data[g+8]===v)&&Xm(c,g,t)?(f=A,g=_u(x),t=Tu(x,t)):g=-1}}return s}function Db(e,t,n,r,s,c){let f=t[Ge],g=f.data[e+8],x=r==null?zs(g)&&jh:r!=f&&(g.type&3)!==0,v=s&je.Host&&c===g,A=gu(g,f,n,x,v);return A!==null?Ja(t,f,A,g):Rr}function gu(e,t,n,r,s){let c=e.providerIndexes,f=t.data,g=c&1048575,x=e.directiveStart,v=e.directiveEnd,A=c>>20,D=r?g:g+A,U=s?g+A:v;for(let R=D;R<U;R++){let G=f[R];if(R<x&&n===G||R>=x&&G.type===n)return R}if(s){let R=f[x];if(R&&kr(R)&&R.type===n)return x}return null}function Ja(e,t,n,r){let s=e[n],c=t.data;if(s instanceof No){let f=s;f.resolving&&k1(hE(c[n]));let g=Mu(f.canSeeViewProviders);f.resolving=!0;let x,v=f.injectImpl?Rn(f.injectImpl):null,A=py(e,r,je.Default);try{s=e[n]=f.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&pb(n,c[n],t)}finally{v!==null&&Rn(v),Mu(g),f.resolving=!1,wy()}}return s}function Ab(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Xa)?e[Xa]:void 0;return typeof t=="number"?t>=0?t&Iy:Sb:t}function Xm(e,t,n){let r=1<<e;return!!(n[t+(e>>Dy)]&r)}function Qm(e,t){return!(e&je.Self)&&!(e&je.Host&&t)}var bo=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ty(this._tNode,this._lView,t,$u(r),n)}};function Sb(){return new bo(In(),rt())}function sl(e){return nl(()=>{let t=e.prototype.constructor,n=t[wu]||zh(t),r=Object.prototype,s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){let c=s[wu]||zh(s);if(c&&c!==n)return c;s=Object.getPrototypeOf(s)}return c=>new c})}function zh(e){return T1(e)?()=>{let t=zh(xn(e));return t&&t()}:Io(e)}function _b(e,t,n,r,s){let c=e,f=t;for(;c!==null&&f!==null&&f[Ae]&2048&&!Su(f);){let g=My(c,f,n,r|je.Self,Rr);if(g!==Rr)return g;let x=c.parent;if(!x){let v=f[Z1];if(v){let A=v.get(n,Rr,r);if(A!==Rr)return A}x=Ny(f),f=f[Hs]}c=x}return s}function Ny(e){let t=e[Ge],n=t.type;return n===2?t.declTNode:n===1?e[Cr]:null}function Up(e){return Ib(In(),e)}function Km(e,t=null,n=null,r){let s=Ry(e,t,n,r);return s.resolveInjectorInitializers(),s}function Ry(e,t=null,n=null,r,s=new Set){let c=[n||ir,ME(e)];return r=r||(typeof e=="object"?void 0:On(e)),new Qa(c,t||Sp(),r||null,s)}var bn=class e{static THROW_IF_NOT_FOUND=Eo;static NULL=new Eu;static create(t,n){if(Array.isArray(t))return Km({name:""},n,t,"");{let r=t.name??"";return Km({name:r},t.parent,t.providers,r)}}static \u0275prov=ue({token:e,providedIn:"any",factory:()=>ge(V1)});static __NG_ELEMENT_ID__=-1};var Tb=new de("");Tb.__NG_ELEMENT_ID__=e=>{let t=In();if(t===null)throw new se(204,!1);if(t.type&2)return t.value;if(e&je.Optional)return null;throw new se(204,!1)};var Oy=!1,al=(()=>{class e{static __NG_ELEMENT_ID__=Mb;static __NG_ENV_ID__=n=>n}return e})(),Gh=class extends al{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return sy(this._lView,t),()=>ZE(this._lView,t)}};function Mb(){return new Gh(rt())}var Ps=class{},Ku=new de("",{providedIn:"root",factory:()=>!1});var ky=new de(""),Fy=new de(""),zi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Jt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})();var $h=class extends _t{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,q1()&&(this.destroyRef=q(al,{optional:!0})??void 0,this.pendingTasks=q(zi,{optional:!0})??void 0)}emit(t){let n=Ye(null);try{super.next(t)}finally{Ye(n)}}subscribe(t,n,r){let s=t,c=n||(()=>null),f=r;if(t&&typeof t=="object"){let x=t;s=x.next?.bind(x),c=x.error?.bind(x),f=x.complete?.bind(x)}this.__isAsync&&(c=this.wrapInTimeout(c),s&&(s=this.wrapInTimeout(s)),f&&(f=this.wrapInTimeout(f)));let g=super.subscribe({next:s,error:c,complete:f});return t instanceof Ot&&t.add(g),g}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},$t=$h;function Ru(...e){}function Py(e){let t,n;function r(){e=Ru;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Jm(e){return queueMicrotask(()=>e()),()=>{e=Ru}}var Vp="isAngularZone",Ou=Vp+"_ID",Nb=0,kt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new $t(!1);onMicrotaskEmpty=new $t(!1);onStable=new $t(!1);onError=new $t(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:c=Oy}=t;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!s&&r,f.shouldCoalesceRunChangeDetection=s,f.callbackScheduled=!1,f.scheduleInRootZone=c,kb(f)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new se(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){let c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+s,t,Rb,Ru,Ru);try{return c.runTask(f,n,r)}finally{c.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Rb={};function jp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ob(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Py(()=>{e.callbackScheduled=!1,Wh(e),e.isCheckStableRunning=!0,jp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Wh(e)}function kb(e){let t=()=>{Ob(e)},n=Nb++;e._inner=e._inner.fork({name:"angular",properties:{[Vp]:!0,[Ou]:n,[Ou+n]:!0},onInvokeTask:(r,s,c,f,g,x)=>{if(Fb(x))return r.invokeTask(c,f,g,x);try{return e1(e),r.invokeTask(c,f,g,x)}finally{(e.shouldCoalesceEventChangeDetection&&f.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),t1(e)}},onInvoke:(r,s,c,f,g,x,v)=>{try{return e1(e),r.invoke(c,f,g,x,v)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Pb(x)&&t(),t1(e)}},onHasTask:(r,s,c,f)=>{r.hasTask(c,f),s===c&&(f.change=="microTask"?(e._hasPendingMicrotasks=f.microTask,Wh(e),jp(e)):f.change=="macroTask"&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(r,s,c,f)=>(r.handleError(c,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}function Wh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function e1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function t1(e){e._nesting--,jp(e)}var qh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new $t;onMicrotaskEmpty=new $t;onStable=new $t;onError=new $t;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}};function Fb(e){return Ly(e,"__ignore_ng_zone__")}function Pb(e){return Ly(e,"__scheduler_tick__")}function Ly(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Lr=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Lb=new de("",{providedIn:"root",factory:()=>{let e=q(kt),t=q(Lr);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function n1(e,t){return S1(e,t)}function Bb(e){return S1(A1,e)}var By=(n1.required=Bb,n1);function Ub(){return Gs(In(),rt())}function Gs(e,t){return new Pn(Vr(e,t))}var Pn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ub}return e})();function Vb(e){return e instanceof Pn?e.nativeElement:e}function $s(e,t){let n=Zf(e,t?.equal),r=n[mr];return n.set=s=>ja(r,s),n.update=s=>Xf(r,s),n.asReadonly=jb.bind(n),n}function jb(){let e=this[mr];if(e.readonlyFn===void 0){let t=()=>this();t[mr]=e,e.readonlyFn=t}return e.readonlyFn}function Hb(){return this._results[Symbol.iterator]()}var Yh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _t}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=IE(t);(this._changesDetected=!bE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Hb};function Uy(e){return(e.flags&128)===128}var Vy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Vy||{}),jy=new Map,zb=0;function Gb(){return zb++}function $b(e){jy.set(e[qu],e)}function Zh(e){jy.delete(e[qu])}var r1="__ngContext__";function Ws(e,t){ji(t)?(e[r1]=t[qu],$b(t)):e[r1]=t}function Hy(e){return Gy(e[Ka])}function zy(e){return Gy(e[vr])}function Gy(e){for(;e!==null&&!gi(e);)e=e[vr];return e}var Xh;function $y(e){Xh=e}function Wb(){if(Xh!==void 0)return Xh;if(typeof document<"u")return document;throw new se(210,!1)}var Hp=new de("",{providedIn:"root",factory:()=>qb}),qb="ng",zp=new de(""),Lo=new de("",{providedIn:"platform",factory:()=>"unknown"});var Gp=new de("",{providedIn:"root",factory:()=>Wb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Yb="h",Zb="b";var Wy=!1,Xb=new de("",{providedIn:"root",factory:()=>Wy});var $p=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}($p||{}),qs=new de(""),i1=new Set;function ll(e){i1.has(e)||(i1.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var qy=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Qb}return e})();function Qb(){return new qy(rt(),In())}var Ds=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ds||{}),Yy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),Kb=[Ds.EarlyRead,Ds.Write,Ds.MixedReadWrite,Ds.Read],Jb=(()=>{class e{ngZone=q(kt);scheduler=q(Ps);errorHandler=q(Lr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){q(qs,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ft(16),this.executing=!0;for(let r of Kb)for(let s of this.sequences)if(!(s.erroredOrDestroyed||!s.hooks[r]))try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let c=s.hooks[r];return c(s.pipelinedValue)},s.snapshot))}catch(c){s.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ft(17)}register(n){let{view:r}=n;r!==void 0?((r[Ss]??=[]).push(n),ol(r),r[Ae]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run($p.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),Qh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,s,c,f=null){this.impl=t,this.hooks=n,this.view=r,this.once=s,this.snapshot=f,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ss];t&&(this.view[Ss]=t.filter(n=>n!==this))}};function Wp(e,t){!t?.injector&&Y1(Wp);let n=t?.injector??q(bn);return ll("NgAfterNextRender"),tI(e,n,t,!0)}function eI(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function tI(e,t,n,r){let s=t.get(Yy);s.impl??=t.get(Jb);let c=t.get(qs,null,{optional:!0}),f=n?.phase??Ds.MixedReadWrite,g=n?.manualCleanup!==!0?t.get(al):null,x=t.get(qy,null,{optional:!0}),v=new Qh(s.impl,eI(e,f),x?.view,r,g,c?.snapshot(null));return s.impl.register(v),v}var nI=()=>null;function Zy(e,t,n=!1){return nI(e,t,n)}function Xy(e,t){let n=e.contentQueries;if(n!==null){let r=Ye(null);try{for(let s=0;s<n.length;s+=2){let c=n[s],f=n[s+1];if(f!==-1){let g=e.data[f];kp(c),g.contentQueries(2,t[f],f)}}}finally{Ye(r)}}}function Kh(e,t,n){kp(0);let r=Ye(null);try{t(e,n)}finally{Ye(r)}}function qp(e,t,n){if(_p(t)){let r=Ye(null);try{let s=t.directiveStart,c=t.directiveEnd;for(let f=s;f<c;f++){let g=e.data[f];if(g.contentQueries){let x=n[f];g.contentQueries(1,x,f)}}}finally{Ye(r)}}}var Br=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Br||{});var uu;function rI(){if(uu===void 0&&(uu=null,Th.trustedTypes))try{uu=Th.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return uu}function o1(e){return rI()?.createScriptURL(e)||e}var ku=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${D1})`}};function cl(e){return e instanceof ku?e.changingThisBreaksApplicationSecurity:e}function Yp(e,t){let n=iI(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${D1})`)}return n===t}function iI(e){return e instanceof ku&&e.getTypeName()||null}var oI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qy(e){return e=String(e),e.match(oI)?e:"unsafe:"+e}var Ju=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ju||{});function sI(e){let t=Jy();return t?t.sanitize(Ju.URL,e)||"":Yp(e,"URL")?cl(e):Qy(Ts(e))}function aI(e){let t=Jy();if(t)return o1(t.sanitize(Ju.RESOURCE_URL,e)||"");if(Yp(e,"ResourceURL"))return o1(cl(e));throw new se(904,!1)}function lI(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?aI:sI}function Ky(e,t,n){return lI(t,n)(e)}function Jy(){let e=rt();return e&&e[ui].sanitizer}var cI=/^>|^->|<!--|-->|--!>|<!-$/g,uI=/(<|>)/g,dI="\u200B$1\u200B";function fI(e){return e.replace(cI,t=>t.replace(uI,dI))}function ew(e){return e instanceof Function?e():e}function hI(e,t,n){let r=e.length;for(;;){let s=e.indexOf(t,n);if(s===-1)return s;if(s===0||e.charCodeAt(s-1)<=32){let c=t.length;if(s+c===r||e.charCodeAt(s+c)<=32)return s}n=s+1}}var tw="ng-template";function pI(e,t,n,r){let s=0;if(r){for(;s<t.length&&typeof t[s]=="string";s+=2)if(t[s]==="class"&&hI(t[s+1].toLowerCase(),n,0)!==-1)return!0}else if(Zp(e))return!1;if(s=t.indexOf(1,s),s>-1){let c;for(;++s<t.length&&typeof(c=t[s])=="string";)if(c.toLowerCase()===n)return!0}return!1}function Zp(e){return e.type===4&&e.value!==tw}function gI(e,t,n){let r=e.type===4&&!n?tw:e.value;return t===r}function mI(e,t,n){let r=4,s=e.attrs,c=s!==null?vI(s):0,f=!1;for(let g=0;g<t.length;g++){let x=t[g];if(typeof x=="number"){if(!f&&!wr(r)&&!wr(x))return!1;if(f&&wr(x))continue;f=!1,r=x|r&1;continue}if(!f)if(r&4){if(r=2|r&1,x!==""&&!gI(e,x,n)||x===""&&t.length===1){if(wr(r))return!1;f=!0}}else if(r&8){if(s===null||!pI(e,s,x,n)){if(wr(r))return!1;f=!0}}else{let v=t[++g],A=yI(x,s,Zp(e),n);if(A===-1){if(wr(r))return!1;f=!0;continue}if(v!==""){let D;if(A>c?D="":D=s[A+1].toLowerCase(),r&2&&v!==D){if(wr(r))return!1;f=!0}}}}return wr(r)||f}function wr(e){return(e&1)===0}function yI(e,t,n,r){if(t===null)return-1;let s=0;if(r||!n){let c=!1;for(;s<t.length;){let f=t[s];if(f===e)return s;if(f===3||f===6)c=!0;else if(f===1||f===2){let g=t[++s];for(;typeof g=="string";)g=t[++s];continue}else{if(f===4)break;if(f===0){s+=4;continue}}s+=c?1:2}return-1}else return CI(t,e)}function wI(e,t,n=!1){for(let r=0;r<t.length;r++)if(mI(e,t[r],n))return!0;return!1}function vI(e){for(let t=0;t<e.length;t++){let n=e[t];if(Ey(n))return t}return e.length}function CI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function s1(e,t){return e?":not("+t.trim()+")":t}function xI(e){let t=e[0],n=1,r=2,s="",c=!1;for(;n<e.length;){let f=e[n];if(typeof f=="string")if(r&2){let g=e[++n];s+="["+f+(g.length>0?'="'+g+'"':"")+"]"}else r&8?s+="."+f:r&4&&(s+=" "+f);else s!==""&&!wr(f)&&(t+=s1(c,s),s=""),r=f,c=c||!wr(r);n++}return s!==""&&(t+=s1(c,s)),t}function EI(e){return e.map(xI).join(",")}function bI(e){let t=[],n=[],r=1,s=2;for(;r<e.length;){let c=e[r];if(typeof c=="string")s===2?c!==""&&t.push(c,e[++r]):s===8&&n.push(c);else{if(!wr(s))break;s=c}r++}return n.length&&t.push(1,...n),t}var zr={};function II(e,t){return e.createText(t)}function DI(e,t,n){e.setValue(t,n)}function AI(e,t){return e.createComment(fI(t))}function nw(e,t,n){return e.createElement(t,n)}function Fu(e,t,n,r,s){e.insertBefore(t,n,r,s)}function rw(e,t,n){e.appendChild(t,n)}function a1(e,t,n,r,s){r!==null?Fu(e,t,n,r,s):rw(e,t,n)}function SI(e,t,n){e.removeChild(null,t,n)}function _I(e,t,n){e.setAttribute(t,"style",n)}function TI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function iw(e,t,n){let{mergedAttrs:r,classes:s,styles:c}=n;r!==null&&wb(e,t,r),s!==null&&TI(e,t,s),c!==null&&_I(e,t,c)}function Xp(e,t,n,r,s,c,f,g,x,v,A){let D=sr+r,U=D+s,R=MI(D,U),G=typeof v=="function"?v():v;return R[Ge]={type:e,blueprint:R,template:n,queries:null,viewQuery:g,declTNode:t,data:R.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof c=="function"?c():c,pipeRegistry:typeof f=="function"?f():f,firstChild:null,schemas:x,consts:G,incompleteFirstPass:!1,ssrId:A}}function MI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:zr);return n}function NI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Xp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Qp(e,t,n,r,s,c,f,g,x,v,A){let D=t.blueprint.slice();return D[pi]=s,D[Ae]=r|4|128|8|64|1024,(v!==null||e&&e[Ae]&2048)&&(D[Ae]|=2048),iy(D),D[gn]=D[Hs]=e,D[kn]=n,D[ui]=f||e&&e[ui],D[nn]=g||e&&e[nn],D[Rs]=x||e&&e[Rs]||null,D[Cr]=c,D[qu]=Gb(),D[bu]=A,D[Z1]=v,D[Or]=t.type==2?e[Or]:D,D}function RI(e,t,n){let r=Vr(t,e),s=NI(n),c=e[ui].rendererFactory,f=Kp(e,Qp(e,s,null,ow(n),r,t,null,c.createRenderer(r,n),null,null,null));return e[t.index]=f}function ow(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function sw(e,t,n,r){if(n===0)return-1;let s=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Kp(e,t){return e[Ka]?e[$m][vr]=t:e[Ka]=t,e[$m]=t,t}function ae(e=1){aw(ln(),rt(),Po()+e,!1)}function aw(e,t,n,r){if(!r)if((t[Ae]&3)===3){let c=e.preOrderCheckHooks;c!==null&&hu(t,c,n)}else{let c=e.preOrderHooks;c!==null&&pu(t,c,0,n)}Mo(n)}var ed=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ed||{});function Jh(e,t,n,r){let s=Ye(null);try{let[c,f,g]=e.inputs[n],x=null;(f&ed.SignalBased)!==0&&(x=t[c][mr]),x!==null&&x.transformFn!==void 0?r=x.transformFn(r):g!==null&&(r=g.call(t,r)),e.setInput!==null?e.setInput(t,x,r,n,c):Q1(t,x,c,r)}finally{Ye(s)}}function lw(e,t,n,r,s){let c=Po(),f=r&2;try{Mo(-1),f&&t.length>sr&&aw(e,t,sr,!1),ft(f?2:0,s),n(r,s)}finally{Mo(c),ft(f?3:1,s)}}function td(e,t,n){UI(e,t,n),(n.flags&64)===64&&VI(e,t,n)}function Jp(e,t,n=Vr){let r=t.localNames;if(r!==null){let s=t.index+1;for(let c=0;c<r.length;c+=2){let f=r[c+1],g=f===-1?n(t,e):e[f];e[s++]=g}}}function OI(e,t,n,r){let c=r.get(Xb,Wy)||n===Br.ShadowDom,f=e.selectRootElement(t,c);return kI(f),f}function kI(e){FI(e)}var FI=()=>null;function PI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function LI(e,t,n,r,s,c,f,g){if(!g&&tg(t,e,n,r,s)){zs(t)&&BI(n,t.index);return}if(t.type&3){let x=Vr(t,n);r=PI(r),s=f!=null?f(s,t.value||"",r):s,c.setProperty(x,r,s)}else t.type&12}function BI(e,t){let n=Pr(t,e);n[Ae]&16||(n[Ae]|=64)}function UI(e,t,n){let r=n.directiveStart,s=n.directiveEnd;zs(n)&&RI(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Nu(n,t);let c=n.initialInputs;for(let f=r;f<s;f++){let g=e.data[f],x=Ja(t,e,f,n);if(Ws(x,t),c!==null&&GI(t,f-r,x,g,n,c),kr(g)){let v=Pr(n.index,t);v[kn]=Ja(t,e,f,n)}}}function VI(e,t,n){let r=n.directiveStart,s=n.directiveEnd,c=n.index,f=lb();try{Mo(c);for(let g=r;g<s;g++){let x=e.data[g],v=t[g];Uh(g),(x.hostBindings!==null||x.hostVars!==0||x.hostAttrs!==null)&&jI(x,v)}}finally{Mo(-1),Uh(f)}}function jI(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function eg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let s=0;s<n.length;s++){let c=n[s];wI(t,c.selectors,!1)&&(r??=[],kr(c)?r.unshift(c):r.push(c))}return r}function HI(e,t,n,r,s,c){let f=Vr(e,t);zI(t[nn],f,c,e.value,n,r,s)}function zI(e,t,n,r,s,c,f){if(c==null)e.removeAttribute(t,s,n);else{let g=f==null?Ts(c):f(c,r||"",s);e.setAttribute(t,s,g,n)}}function GI(e,t,n,r,s,c){let f=c[t];if(f!==null)for(let g=0;g<f.length;g+=2){let x=f[g],v=f[g+1];Jh(r,n,x,v)}}function $I(e,t){let n=e[Rs],r=n?n.get(Lr,null):null;r&&r.handleError(t)}function tg(e,t,n,r,s){let c=e.inputs?.[r],f=e.hostDirectiveInputs?.[r],g=!1;if(f)for(let x=0;x<f.length;x+=2){let v=f[x],A=f[x+1],D=t.data[v];Jh(D,n[v],A,s),g=!0}if(c)for(let x of c){let v=n[x],A=t.data[x];Jh(A,v,r,s),g=!0}return g}function WI(e,t){let n=Pr(t,e),r=n[Ge];qI(r,n);let s=n[pi];s!==null&&n[bu]===null&&(n[bu]=Zy(s,n[Rs])),ft(18),ng(r,n,n[kn]),ft(19,n[kn])}function qI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ng(e,t,n){Fp(t);try{let r=e.viewQuery;r!==null&&Kh(1,r,n);let s=e.template;s!==null&&lw(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[di]?.finishViewCreation(e),e.staticContentQueries&&Xy(e,t),e.staticViewQueries&&Kh(2,e.viewQuery,n);let c=e.components;c!==null&&YI(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ae]&=-5,Pp()}}function YI(e,t){for(let n=0;n<t.length;n++)WI(e,t[n])}function ZI(e,t,n,r){let s=Ye(null);try{let c=t.tView,g=e[Ae]&4096?4096:16,x=Qp(e,c,n,g,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),v=e[t.index];x[So]=v;let A=e[di];return A!==null&&(x[di]=A.createEmbeddedView(c)),ng(c,x,n),x}finally{Ye(s)}}function l1(e,t){return!t||t.firstChild===null||Uy(e)}var XI;function rg(e,t){return XI(e,t)}var fi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(fi||{});function cw(e){return(e.flags&32)===32}function As(e,t,n,r,s){if(r!=null){let c,f=!1;gi(r)?c=r:ji(r)&&(f=!0,r=r[pi]);let g=Fr(r);e===0&&n!==null?s==null?rw(t,n,g):Fu(t,n,g,s||null,!0):e===1&&n!==null?Fu(t,n,g,s||null,!0):e===2?SI(t,g,f):e===3&&t.destroyNode(g),c!=null&&lD(t,e,c,n,s)}}function QI(e,t){uw(e,t),t[pi]=null,t[Cr]=null}function KI(e,t,n,r,s,c){r[pi]=s,r[Cr]=t,rd(e,r,n,1,s,c)}function uw(e,t){t[ui].changeDetectionScheduler?.notify(9),rd(e,t,t[nn],2,null,null)}function JI(e){let t=e[Ka];if(!t)return Eh(e[Ge],e);for(;t;){let n=null;if(ji(t))n=t[Ka];else{let r=t[qn];r&&(n=r)}if(!n){for(;t&&!t[vr]&&t!==e;)ji(t)&&Eh(t[Ge],t),t=t[gn];t===null&&(t=e),ji(t)&&Eh(t[Ge],t),n=t&&t[vr]}t=n}}function ig(e,t){let n=e[Os],r=n.indexOf(t);n.splice(r,1)}function dw(e,t){if(il(t))return;let n=t[nn];n.destroyNode&&rd(e,t,n,3,null,null),JI(t)}function Eh(e,t){if(il(t))return;let n=Ye(null);try{t[Ae]&=-129,t[Ae]|=256,t[or]&&Wf(t[or]),tD(e,t),eD(e,t),t[Ge].type===1&&t[nn].destroy();let r=t[So];if(r!==null&&gi(t[gn])){r!==t[gn]&&ig(r,t);let s=t[di];s!==null&&s.detachView(e)}Zh(t)}finally{Ye(n)}}function eD(e,t){let n=e.cleanup,r=t[Iu];if(n!==null)for(let f=0;f<n.length-1;f+=2)if(typeof n[f]=="string"){let g=n[f+3];g>=0?r[g]():r[-g].unsubscribe(),f+=2}else{let g=r[n[f+1]];n[f].call(g)}r!==null&&(t[Iu]=null);let s=t[Vi];if(s!==null){t[Vi]=null;for(let f=0;f<s.length;f++){let g=s[f];g()}}let c=t[Du];if(c!==null){t[Du]=null;for(let f of c)f.destroy()}}function tD(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let s=t[n[r]];if(!(s instanceof No)){let c=n[r+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){let g=s[c[f]],x=c[f+1];ft(4,g,x);try{x.call(g)}finally{ft(5,g,x)}}else{ft(4,s,c);try{c.call(s)}finally{ft(5,s,c)}}}}}function nD(e,t,n){return rD(e,t.parent,n)}function rD(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[pi];if(zs(r)){let{encapsulation:s}=e.data[r.directiveStart+r.componentOffset];if(s===Br.None||s===Br.Emulated)return null}return Vr(r,n)}function iD(e,t,n){return sD(e,t,n)}function oD(e,t,n){return e.type&40?Vr(e,n):null}var sD=oD,c1;function nd(e,t,n,r){let s=nD(e,r,t),c=t[nn],f=r.parent||t[Cr],g=iD(f,r,t);if(s!=null)if(Array.isArray(n))for(let x=0;x<n.length;x++)a1(c,s,n[x],g,!1);else a1(c,s,n,g,!1);c1!==void 0&&c1(c,r,t,n,s)}function Za(e,t){if(t!==null){let n=t.type;if(n&3)return Vr(t,e);if(n&4)return ep(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Za(e,r);{let s=e[t.index];return gi(s)?ep(-1,s):Fr(s)}}else{if(n&128)return Za(e,t.next);if(n&32)return rg(t,e)()||Fr(e[t.index]);{let r=fw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let s=To(e[Or]);return Za(s,r)}else return Za(e,t.next)}}}return null}function fw(e,t){if(t!==null){let r=e[Or][Cr],s=t.projection;return r.projection[s]}return null}function ep(e,t){let n=qn+e+1;if(n<t.length){let r=t[n],s=r[Ge].firstChild;if(s!==null)return Za(r,s)}return t[_o]}function og(e,t,n,r,s,c,f){for(;n!=null;){if(n.type===128){n=n.next;continue}let g=r[n.index],x=n.type;if(f&&t===0&&(g&&Ws(Fr(g),r),n.flags|=2),!cw(n))if(x&8)og(e,t,n.child,r,s,c,!1),As(t,e,s,g,c);else if(x&32){let v=rg(n,r),A;for(;A=v();)As(t,e,s,A,c);As(t,e,s,g,c)}else x&16?aD(e,t,r,n,s,c):As(t,e,s,g,c);n=f?n.projectionNext:n.next}}function rd(e,t,n,r,s,c){og(n,r,e.firstChild,t,s,c,!1)}function aD(e,t,n,r,s,c){let f=n[Or],x=f[Cr].projection[r.projection];if(Array.isArray(x))for(let v=0;v<x.length;v++){let A=x[v];As(t,e,s,A,c)}else{let v=x,A=f[gn];Uy(r)&&(v.flags|=128),og(e,t,v,A,s,c,!0)}}function lD(e,t,n,r,s){let c=n[_o],f=Fr(n);c!==f&&As(t,e,r,c,s);for(let g=qn;g<n.length;g++){let x=n[g];rd(x[Ge],x,e,t,r,c)}}function cD(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let c=r.indexOf("-")===-1?void 0:fi.DashCase;s==null?e.removeStyle(n,r,c):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),c|=fi.Important),e.setStyle(n,r,s,c))}}function Pu(e,t,n,r,s=!1){for(;n!==null;){if(n.type===128){n=s?n.projectionNext:n.next;continue}let c=t[n.index];c!==null&&r.push(Fr(c)),gi(c)&&uD(c,r);let f=n.type;if(f&8)Pu(e,t,n.child,r);else if(f&32){let g=rg(n,t),x;for(;x=g();)r.push(x)}else if(f&16){let g=fw(t,n);if(Array.isArray(g))r.push(...g);else{let x=To(t[Or]);Pu(x[Ge],x,g,r,!0)}}n=s?n.projectionNext:n.next}return r}function uD(e,t){for(let n=qn;n<e.length;n++){let r=e[n],s=r[Ge].firstChild;s!==null&&Pu(r[Ge],r,s,t)}e[_o]!==e[pi]&&t.push(e[_o])}function hw(e){if(e[Ss]!==null){for(let t of e[Ss])t.impl.addSequence(t);e[Ss].length=0}}var pw=[];function dD(e){return e[or]??fD(e)}function fD(e){let t=pw.pop()??Object.create(pD);return t.lView=e,t}function hD(e){e.lView[or]!==e&&(e.lView=null,pw.push(e))}var pD=qe(re({},Ua),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ol(e.lView)},consumerOnSignalRead(){this.lView[or]=this}});function gD(e){let t=e[or]??Object.create(mD);return t.lView=e,t}var mD=qe(re({},Ua),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=To(e.lView);for(;t&&!gw(t[Ge]);)t=To(t);t&&oy(t)},consumerOnSignalRead(){this.lView[or]=this}});function gw(e){return e.type!==2}function mw(e){if(e[Du]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Du])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Ae]&8192)}}var yD=100;function yw(e,t=!0,n=0){let s=e[ui].rendererFactory,c=!1;c||s.begin?.();try{wD(e,n)}catch(f){throw t&&$I(e,f),f}finally{c||s.end?.()}}function wD(e,t){let n=dy();try{qm(!0),tp(e,t);let r=0;for(;Zu(e);){if(r===yD)throw new se(103,!1);r++,tp(e,1)}}finally{qm(n)}}function vD(e,t,n,r){if(il(t))return;let s=t[Ae],c=!1,f=!1;Fp(t);let g=!0,x=null,v=null;c||(gw(e)?(v=dD(t),x=Rc(v)):Vf()===null?(g=!1,v=gD(t),x=Rc(v)):t[or]&&(Wf(t[or]),t[or]=null));try{iy(t),ob(e.bindingStartIndex),n!==null&&lw(e,t,n,2,r);let A=(s&3)===3;if(!c)if(A){let R=e.preOrderCheckHooks;R!==null&&hu(t,R,null)}else{let R=e.preOrderHooks;R!==null&&pu(t,R,0,null),vh(t,0)}if(f||CD(t),mw(t),ww(t,0),e.contentQueries!==null&&Xy(e,t),!c)if(A){let R=e.contentCheckHooks;R!==null&&hu(t,R)}else{let R=e.contentHooks;R!==null&&pu(t,R,1),vh(t,1)}ED(e,t);let D=e.components;D!==null&&Cw(t,D,0);let U=e.viewQuery;if(U!==null&&Kh(2,U,r),!c)if(A){let R=e.viewCheckHooks;R!==null&&hu(t,R)}else{let R=e.viewHooks;R!==null&&pu(t,R,2),vh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[wh]){for(let R of t[wh])R();t[wh]=null}c||(hw(t),t[Ae]&=-73)}catch(A){throw c||ol(t),A}finally{v!==null&&(Gf(v,x),g&&hD(v)),Pp()}}function ww(e,t){for(let n=Hy(e);n!==null;n=zy(n))for(let r=qn;r<n.length;r++){let s=n[r];vw(s,t)}}function CD(e){for(let t=Hy(e);t!==null;t=zy(t)){if(!(t[Ae]&2))continue;let n=t[Os];for(let r=0;r<n.length;r++){let s=n[r];oy(s)}}}function xD(e,t,n){ft(18);let r=Pr(t,e);vw(r,n),ft(19,r[kn])}function vw(e,t){Tp(e)&&tp(e,t)}function tp(e,t){let r=e[Ge],s=e[Ae],c=e[or],f=!!(t===0&&s&16);if(f||=!!(s&64&&t===0),f||=!!(s&1024),f||=!!(c?.dirty&&$f(c)),f||=!1,c&&(c.dirty=!1),e[Ae]&=-9217,f)vD(r,e,r.template,e[kn]);else if(s&8192){mw(e),ww(e,1);let g=r.components;g!==null&&Cw(e,g,1),hw(e)}}function Cw(e,t,n){for(let r=0;r<t.length;r++)xD(e,t[r],n)}function ED(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let s=n[r];if(s<0)Mo(~s);else{let c=s,f=n[++r],g=n[++r];ab(f,c);let x=t[c];ft(24,x),g(2,x),ft(25,x)}}}finally{Mo(-1)}}function sg(e,t){let n=dy()?64:1088;for(e[ui].changeDetectionScheduler?.notify(t);e;){e[Ae]|=n;let r=To(e);if(Su(e)&&!r)return e;e=r}return null}function xw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function bD(e,t,n,r=!0){let s=t[Ge];if(ID(s,t,e,n),r){let f=ep(n,e),g=t[nn],x=g.parentNode(e[_o]);x!==null&&KI(s,e[Cr],g,t,x,f)}let c=t[bu];c!==null&&c.firstChild!==null&&(c.firstChild=null)}function np(e,t){if(e.length<=qn)return;let n=qn+t,r=e[n];if(r){let s=r[So];s!==null&&s!==e&&ig(s,r),t>0&&(e[n-1][vr]=r[vr]);let c=xu(e,qn+t);QI(r[Ge],r);let f=c[di];f!==null&&f.detachView(c[Ge]),r[gn]=null,r[vr]=null,r[Ae]&=-129}return r}function ID(e,t,n,r){let s=qn+r,c=n.length;r>0&&(n[s-1][vr]=t),r<c-qn?(t[vr]=n[s],U1(n,qn+r,t)):(n.push(t),t[vr]=null),t[gn]=n;let f=t[So];f!==null&&n!==f&&Ew(f,t);let g=t[di];g!==null&&g.insertView(e),Lh(t),t[Ae]|=128}function Ew(e,t){let n=e[Os],r=t[gn];if(ji(r))e[Ae]|=2;else{let s=r[gn][Or];t[Or]!==s&&(e[Ae]|=2)}n===null?e[Os]=[t]:n.push(t)}var el=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Ge];return Pu(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[kn]}set context(t){this._lView[kn]=t}get destroyed(){return il(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[gn];if(gi(t)){let n=t[Au],r=n?n.indexOf(this):-1;r>-1&&(np(t,r),xu(n,r))}this._attachedToViewContainer=!1}dw(this._lView[Ge],this._lView)}onDestroy(t){sy(this._lView,t)}markForCheck(){sg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ae]&=-129}reattach(){Lh(this._lView),this._lView[Ae]|=128}detectChanges(){this._lView[Ae]|=1024,yw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Su(this._lView),n=this._lView[So];n!==null&&!t&&ig(n,this._lView),uw(this._lView[Ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=t;let n=Su(this._lView),r=this._lView[So];r!==null&&!n&&Ew(r,this._lView),Lh(this._lView)}};var Ro=(()=>{class e{static __NG_ELEMENT_ID__=SD}return e})(),DD=Ro,AD=class extends DD{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let s=ZI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new el(s)}};function SD(){return ag(In(),rt())}function ag(e,t){return e.type&4?new AD(t,e,Gs(e,t)):null}function id(e,t,n,r,s){let c=e.data[t];if(c===null)c=_D(e,t,n,r,s),sb()&&(c.flags|=32);else if(c.type&64){c.type=n,c.value=r,c.attrs=s;let f=rb();c.injectorIndex=f===null?-1:f.injectorIndex}return Fo(c,!0),c}function _D(e,t,n,r,s){let c=cy(),f=Np(),g=f?c:c&&c.parent,x=e.data[t]=MD(e,g,n,t,r,s);return TD(e,x,c,f),x}function TD(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function MD(e,t,n,r,s,c){let f=t?t.injectorIndex:-1,g=0;return eb()&&(g|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:s,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FF=new RegExp(`^(\\d+)*(${Zb}|${Yb})*(.*)`);var ND=()=>null;function u1(e,t){return ND(e,t)}var RD=class{},bw=class{},rp=class{resolveComponentFactory(t){throw Error(`No component factory found for ${On(t)}.`)}},od=class{static NULL=new rp},Ls=class{},Gr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>OD()}return e})();function OD(){let e=rt(),t=In(),n=Pr(t.index,e);return(ji(n)?n:e)[nn]}var kD=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>null})}return e})();function ip(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,c=0;if(t!==null)for(let f=0;f<t.length;f++){let g=t[f];if(typeof g=="number")c=g;else if(c==1)s=Bm(s,g);else if(c==2){let x=g,v=t[++f];r=Bm(r,x+": "+v+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function ce(e,t=je.Default){let n=rt();if(n===null)return ge(e,t);let r=In();return Ty(r,n,xn(e),t)}function Iw(){let e="invalid";throw new Error(e)}function lg(e,t,n,r,s){let c=r===null?null:{"":-1},f=s(e,n);if(f!==null){let g,x=null,v=null,A=PD(f);A===null?g=f:[g,x,v]=A,UD(e,t,n,g,c,x,v)}c!==null&&r!==null&&FD(n,r,c)}function FD(e,t,n){let r=e.localNames=[];for(let s=0;s<t.length;s+=2){let c=n[t[s+1]];if(c==null)throw new se(-301,!1);r.push(t[s],c)}}function PD(e){let t=null,n=!1;for(let f=0;f<e.length;f++){let g=e[f];if(f===0&&kr(g)&&(t=g),g.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,s=null,c=null;for(let f of e)f.findHostDirectiveDefs!==null&&(r??=[],s??=new Map,c??=new Map,LD(f,r,c,s)),f===t&&(r??=[],r.push(f));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,s,c]):null}function LD(e,t,n,r){let s=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[s,t.length-1])}function BD(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function UD(e,t,n,r,s,c,f){let g=r.length,x=!1;for(let U=0;U<g;U++){let R=r[U];!x&&kr(R)&&(x=!0,BD(e,n,U)),Hh(Nu(n,t),e,R.type)}$D(n,e.data.length,g);for(let U=0;U<g;U++){let R=r[U];R.providersResolver&&R.providersResolver(R)}let v=!1,A=!1,D=sw(e,t,g,null);g>0&&(n.directiveToIndex=new Map);for(let U=0;U<g;U++){let R=r[U];if(n.mergedAttrs=Fs(n.mergedAttrs,R.hostAttrs),jD(e,n,t,D,R),GD(D,R,s),f!==null&&f.has(R)){let[X,W]=f.get(R);n.directiveToIndex.set(R.type,[D,X+n.directiveStart,W+n.directiveStart])}else(c===null||!c.has(R))&&n.directiveToIndex.set(R.type,D);R.contentQueries!==null&&(n.flags|=4),(R.hostBindings!==null||R.hostAttrs!==null||R.hostVars!==0)&&(n.flags|=64);let G=R.type.prototype;!v&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),v=!0),!A&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),A=!0),D++}VD(e,n,c)}function VD(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let s=e.data[r];if(n===null||!n.has(s))d1(0,t,s,r),d1(1,t,s,r),h1(t,r,!1);else{let c=n.get(s);f1(0,t,c,r),f1(1,t,c,r),h1(t,r,!0)}}}function d1(e,t,n,r){let s=e===0?n.inputs:n.outputs;for(let c in s)if(s.hasOwnProperty(c)){let f;e===0?f=t.inputs??={}:f=t.outputs??={},f[c]??=[],f[c].push(r),Dw(t,c)}}function f1(e,t,n,r){let s=e===0?n.inputs:n.outputs;for(let c in s)if(s.hasOwnProperty(c)){let f=s[c],g;e===0?g=t.hostDirectiveInputs??={}:g=t.hostDirectiveOutputs??={},g[f]??=[],g[f].push(r,c),Dw(t,f)}}function Dw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function h1(e,t,n){let{attrs:r,inputs:s,hostDirectiveInputs:c}=e;if(r===null||!n&&s===null||n&&c===null||Zp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let f=null,g=0;for(;g<r.length;){let x=r[g];if(x===0){g+=4;continue}else if(x===5){g+=2;continue}else if(typeof x=="number")break;if(!n&&s.hasOwnProperty(x)){let v=s[x];for(let A of v)if(A===t){f??=[],f.push(x,r[g+1]);break}}else if(n&&c.hasOwnProperty(x)){let v=c[x];for(let A=0;A<v.length;A+=2)if(v[A]===t){f??=[],f.push(v[A+1],r[g+1]);break}}g+=2}e.initialInputs??=[],e.initialInputs.push(f)}function jD(e,t,n,r,s){e.data[r]=s;let c=s.factory||(s.factory=Io(s.type,!0)),f=new No(c,kr(s),ce);e.blueprint[r]=f,n[r]=f,HD(e,t,r,sw(e,n,s.hostVars,zr),s)}function HD(e,t,n,r,s){let c=s.hostBindings;if(c){let f=e.hostBindingOpCodes;f===null&&(f=e.hostBindingOpCodes=[]);let g=~t.index;zD(f)!=g&&f.push(g),f.push(n,r,c)}}function zD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function GD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kr(t)&&(n[""]=e)}}function $D(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Aw(e,t,n,r,s,c,f,g){let x=t.consts,v=ks(x,f),A=id(t,e,2,r,v);return c&&lg(t,n,A,ks(x,g),s),A.mergedAttrs=Fs(A.mergedAttrs,A.attrs),A.attrs!==null&&ip(A,A.attrs,!1),A.mergedAttrs!==null&&ip(A,A.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,A),A}function Sw(e,t){Lp(e,t),_p(t)&&e.queries.elementEnd(t)}var Lu=class extends od{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Ao(t);return new Bs(n,this.ngModule)}};function WD(e){return Object.keys(e).map(t=>{let[n,r,s]=e[t],c={propName:n,templateName:t,isSignal:(r&ed.SignalBased)!==0};return s&&(c.transform=s),c})}function qD(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function YD(e,t,n){let r=t instanceof En?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Vh(n,r):n}function ZD(e){let t=e.get(Ls,null);if(t===null)throw new se(407,!1);let n=e.get(kD,null),r=e.get(Ps,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function XD(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return nw(t,n,n==="svg"?ty:n==="math"?GE:null)}var Bs=class extends bw{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=WD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qD(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=EI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,s){ft(22);let c=Ye(null);try{let f=this.componentDef,g=r?["ng-version","19.2.4"]:bI(this.componentDef.selectors[0]),x=Xp(0,null,null,1,0,null,null,null,null,[g],null),v=YD(f,s||this.ngModule,t),A=ZD(v),D=A.rendererFactory.createRenderer(null,f),U=r?OI(D,r,f.encapsulation,v):XD(f,D),R=Qp(null,x,null,512|ow(f),null,null,A,D,v,null,Zy(U,v,!0));R[sr]=U,Fp(R);let G=null;try{let X=Aw(sr,x,R,"#host",()=>[this.componentDef],!0,0);U&&(iw(D,U,X),Ws(U,R)),td(x,R,X),qp(x,X,R),Sw(x,X),n!==void 0&&QD(X,this.ngContentSelectors,n),G=Pr(X.index,R),R[kn]=G[kn],ng(x,R,null)}catch(X){throw G!==null&&Zh(G),Zh(R),X}finally{ft(23),Pp()}return new op(this.componentType,R)}finally{Ye(c)}}},op=class extends RD{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=ry(n[Ge],sr),this.location=Gs(this._tNode,n),this.instance=Pr(this._tNode.index,n)[kn],this.hostView=this.changeDetectorRef=new el(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView,c=tg(r,s[Ge],s,t,n);this.previousInputValues.set(t,n);let f=Pr(r.index,s);sg(f,1)}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function QD(e,t,n){let r=e.projection=[];for(let s=0;s<t.length;s++){let c=n[s];r.push(c!=null&&c.length?Array.from(c):null)}}var Gi=(()=>{class e{static __NG_ELEMENT_ID__=KD}return e})();function KD(){let e=In();return Tw(e,rt())}var JD=Gi,_w=class extends JD{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){let t=Bp(this._hostTNode,this._hostLView);if(by(t)){let n=Tu(t,this._hostLView),r=_u(t),s=n[Ge].data[r+8];return new bo(s,n)}else return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=p1(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(t,n,r){let s,c;typeof r=="number"?s=r:r!=null&&(s=r.index,c=r.injector);let f=u1(this._lContainer,t.ssrId),g=t.createEmbeddedViewImpl(n||{},c,f);return this.insertImpl(g,s,l1(this._hostTNode,f)),g}createComponent(t,n,r,s,c){let f=t&&!VE(t),g;if(f)g=n;else{let G=n||{};g=G.index,r=G.injector,s=G.projectableNodes,c=G.environmentInjector||G.ngModuleRef}let x=f?t:new Bs(Ao(t)),v=r||this.parentInjector;if(!c&&x.ngModule==null){let X=(f?v:this.parentInjector).get(En,null);X&&(c=X)}let A=Ao(x.componentType??{}),D=u1(this._lContainer,A?.id??null),U=D?.firstChild??null,R=x.create(v,s,U,c);return this.insertImpl(R.hostView,g,l1(this._hostTNode,D)),R}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let s=t._lView;if(qE(s)){let g=this.indexOf(t);if(g!==-1)this.detach(g);else{let x=s[gn],v=new _w(x,x[Cr],x[gn]);v.detach(v.indexOf(t))}}let c=this._adjustIndex(n),f=this._lContainer;return bD(f,s,c,r),t.attachToViewContainerRef(),U1(bh(f),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=p1(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=np(this._lContainer,n);r&&(xu(bh(this._lContainer),n),dw(r[Ge],r))}detach(t){let n=this._adjustIndex(t,-1),r=np(this._lContainer,n);return r&&xu(bh(this._lContainer),n)!=null?new el(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function p1(e){return e[Au]}function bh(e){return e[Au]||(e[Au]=[])}function Tw(e,t){let n,r=t[e.index];return gi(r)?n=r:(n=xw(r,t,null,e),t[e.index]=n,Kp(t,n)),tA(n,t,e,r),new _w(n,e,t)}function eA(e,t){let n=e[nn],r=n.createComment(""),s=Vr(t,e),c=n.parentNode(s);return Fu(n,c,r,n.nextSibling(s),!1),r}var tA=iA,nA=()=>!1;function rA(e,t,n){return nA(e,t,n)}function iA(e,t,n,r){if(e[_o])return;let s;n.type&8?s=Fr(r):s=eA(t,n),e[_o]=s}var sp=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ap=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,s=[];for(let c=0;c<r;c++){let f=n.getByIndex(c),g=this.queries[f.indexInDeclarationView];s.push(g.clone())}return new e(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)cg(t,n).matches!==null&&this.queries[n].setDirty()}},Bu=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=fA(t):this.predicate=t}},lp=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let s=n!==null?n.length:0,c=this.getByIndex(r).embeddedTView(t,s);c&&(c.indexInDeclarationView=r,n!==null?n.push(c):n=[c])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},cp=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){let c=r[s];this.matchTNodeWithReadOption(t,n,oA(n,c)),this.matchTNodeWithReadOption(t,n,gu(n,t,c,!1,!1))}else r===Ro?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,gu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let s=this.metadata.read;if(s!==null)if(s===Pn||s===Gi||s===Ro&&n.type&4)this.addMatch(n.index,-2);else{let c=gu(n,t,s,!1,!1);c!==null&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function oA(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function sA(e,t){return e.type&11?Gs(e,t):e.type&4?ag(e,t):null}function aA(e,t,n,r){return n===-1?sA(t,e):n===-2?lA(e,t,r):Ja(e,e[Ge],n,t)}function lA(e,t,n){if(n===Pn)return Gs(t,e);if(n===Ro)return ag(t,e);if(n===Gi)return Tw(t,e)}function Mw(e,t,n,r){let s=t[di].queries[r];if(s.matches===null){let c=e.data,f=n.matches,g=[];for(let x=0;f!==null&&x<f.length;x+=2){let v=f[x];if(v<0)g.push(null);else{let A=c[v];g.push(aA(t,A,f[x+1],n.metadata.read))}}s.matches=g}return s.matches}function up(e,t,n,r){let s=e.queries.getByIndex(n),c=s.matches;if(c!==null){let f=Mw(e,t,s,n);for(let g=0;g<c.length;g+=2){let x=c[g];if(x>0)r.push(f[g/2]);else{let v=c[g+1],A=t[-x];for(let D=qn;D<A.length;D++){let U=A[D];U[So]===U[gn]&&up(U[Ge],U,v,r)}if(A[Os]!==null){let D=A[Os];for(let U=0;U<D.length;U++){let R=D[U];up(R[Ge],R,v,r)}}}}}return r}function cA(e,t){return e[di].queries[t].queryList}function Nw(e,t,n){let r=new Yh((n&4)===4);return XE(e,t,r,r.destroy),(t[di]??=new ap).queries.push(new sp(r))-1}function uA(e,t,n){let r=ln();return r.firstCreatePass&&(Rw(r,new Bu(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Nw(r,rt(),t)}function dA(e,t,n,r){let s=ln();if(s.firstCreatePass){let c=In();Rw(s,new Bu(t,n,r),c.index),hA(s,e),(n&2)===2&&(s.staticContentQueries=!0)}return Nw(s,rt(),n)}function fA(e){return e.split(",").map(t=>t.trim())}function Rw(e,t,n){e.queries===null&&(e.queries=new lp),e.queries.track(new cp(t,n))}function hA(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function cg(e,t){return e.queries.getByIndex(t)}function pA(e,t){let n=e[Ge],r=cg(n,t);return r.crossesNgTemplate?up(n,e,t,[]):Mw(n,e,r,t)}var Us=class{},ug=class{};var dp=class extends Us{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Lu(this);constructor(t,n,r,s=!0){super(),this.ngModuleType=t,this._parent=n;let c=H1(t);this._bootstrapComponents=ew(c.bootstrap),this._r3Injector=Ry(t,n,[{provide:Us,useValue:this},{provide:od,useValue:this.componentFactoryResolver},...r],On(t),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},fp=class extends ug{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new dp(this.moduleType,t,[])}};var Uu=class extends Us{injector;componentFactoryResolver=new Lu(this);instance=null;constructor(t){super();let n=new Qa([...t.providers,{provide:Us,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],t.parent||Sp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function sd(e,t,n=null){return new Uu({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var gA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=z1(!1,n.type),s=r.length>0?sd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:e,providedIn:"environment",factory:()=>new e(ge(En))})}return e})();function mn(e){return nl(()=>{let t=kw(e),n=qe(re({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?s=>s.get(gA).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Br.Emulated,styles:e.styles||ir,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ll("NgStandalone"),Fw(n);let r=e.dependencies;return n.directiveDefs=g1(r,!1),n.pipeDefs=g1(r,!0),n.id=CA(n),n})}function mA(e){return Ao(e)||_E(e)}function yA(e){return e!==null}function $r(e){return nl(()=>({type:e.type,bootstrap:e.bootstrap||ir,declarations:e.declarations||ir,imports:e.imports||ir,exports:e.exports||ir,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function wA(e,t){if(e==null)return Do;let n={};for(let r in e)if(e.hasOwnProperty(r)){let s=e[r],c,f,g,x;Array.isArray(s)?(g=s[0],c=s[1],f=s[2]??c,x=s[3]||null):(c=s,f=s,g=ed.None,x=null),n[c]=[r,g,x],t[c]=f}return n}function vA(e){if(e==null)return Do;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function en(e){return nl(()=>{let t=kw(e);return Fw(t),t})}function Ow(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function kw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Do,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ir,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wA(e.inputs,t),outputs:vA(e.outputs),debugInfo:null}}function Fw(e){e.features?.forEach(t=>t(e))}function g1(e,t){if(!e)return null;let n=t?TE:mA;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(yA)}function CA(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let c of r.join("|"))t=Math.imul(31,t)+c.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function xA(e){return Object.getPrototypeOf(e.prototype).constructor}function Wr(e){let t=xA(e.type),n=!0,r=[e];for(;t;){let s;if(kr(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new se(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);let f=e;f.inputs=Ih(e.inputs),f.declaredInputs=Ih(e.declaredInputs),f.outputs=Ih(e.outputs);let g=s.hostBindings;g&&AA(e,g);let x=s.viewQuery,v=s.contentQueries;if(x&&IA(e,x),v&&DA(e,v),EA(e,s),oE(e.outputs,s.outputs),kr(s)&&s.data.animation){let A=e.data;A.animation=(A.animation||[]).concat(s.data.animation)}}let c=s.features;if(c)for(let f=0;f<c.length;f++){let g=c[f];g&&g.ngInherit&&g(e),g===Wr&&(n=!1)}}t=Object.getPrototypeOf(t)}bA(r)}function EA(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function bA(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Fs(s.hostAttrs,n=Fs(n,s.hostAttrs))}}function Ih(e){return e===Do?{}:e===ir?[]:e}function IA(e,t){let n=e.viewQuery;n?e.viewQuery=(r,s)=>{t(r,s),n(r,s)}:e.viewQuery=t}function DA(e,t){let n=e.contentQueries;n?e.contentQueries=(r,s,c)=>{t(r,s,c),n(r,s,c)}:e.contentQueries=t}function AA(e,t){let n=e.hostBindings;n?e.hostBindings=(r,s)=>{t(r,s),n(r,s)}:e.hostBindings=t}function Pw(e){return _A(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function SA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function _A(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Lw(e,t,n){return e[t]=n}function TA(e,t){return e[t]}function Oo(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function MA(e,t,n,r){let s=Oo(e,t,n);return Oo(e,t+1,r)||s}function NA(e,t,n,r,s,c,f,g,x){let v=t.consts,A=id(t,e,4,f||null,g||null);Mp()&&lg(t,n,A,ks(v,x),eg),A.mergedAttrs=Fs(A.mergedAttrs,A.attrs),Lp(t,A);let D=A.tView=Xp(2,A,r,s,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v,null);return t.queries!==null&&(t.queries.template(t,A),D.queries=t.queries.embeddedTView(A)),A}function RA(e,t,n,r,s,c,f,g,x,v){let A=n+sr,D=t.firstCreatePass?NA(A,t,e,r,s,c,f,g,x):t.data[A];Fo(D,!1);let U=OA(t,e,D,n);Xu()&&nd(t,e,U,D),Ws(U,e);let R=xw(U,e,U,D);return e[A]=R,Kp(e,R),rA(R,D,e),Yu(D)&&td(t,e,D),x!=null&&Jp(e,D,v),D}function Tt(e,t,n,r,s,c,f,g){let x=rt(),v=ln(),A=ks(v.consts,c);return RA(x,v,e,t,n,r,s,A,f,g),Tt}var OA=kA;function kA(e,t,n,r){return Qu(!0),t[nn].createComment("")}var dg=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Bw=new de("");var FA=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new hp})}return e})(),hp=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Bo(e){return!!e&&typeof e.then=="function"}function Uw(e){return!!e&&typeof e.subscribe=="function"}var ad=new de("");var Vw=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=q(ad,{optional:!0})??[];injector=q(bn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let c=Fn(this.injector,s);if(Bo(c))n.push(c);else if(Uw(c)){let f=new Promise((g,x)=>{c.subscribe({complete:g,error:x})});n.push(f)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ul=new de("");function PA(){Yf(()=>{throw new se(600,!1)})}function LA(e){return e.isBoundToModule}var BA=10;var hi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=q(Lb);afterRenderManager=q(Yy);zonelessEnabled=q(Ku);rootEffectScheduler=q(FA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _t;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=q(zi).hasPendingTasks.pipe(Oe(n=>!n));constructor(){q(qs,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=q(En);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){ft(10);let s=n instanceof bw;if(!this._injector.get(Vw).done){let U="";throw new se(405,U)}let f;s?f=n:f=this._injector.get(od).resolveComponentFactory(n),this.componentTypes.push(f.componentType);let g=LA(f)?void 0:this._injector.get(Us),x=r||f.selector,v=f.create(bn.NULL,[],x,g),A=v.location.nativeElement,D=v.injector.get(Bw,null);return D?.registerApplication(A),v.onDestroy(()=>{this.detachView(v.hostView),mu(this.components,v),D?.unregisterApplication(A)}),this._loadComponent(v),ft(11,v),v}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ft(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($p.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new se(101,!1);let n=Ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ye(n),this.afterTick.next(),ft(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ls,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<BA;)ft(14),this.synchronizeOnce(),ft(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:s}of this.allViews)UA(r,s,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Zu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;mu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ul,[]).forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>mu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new se(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mu(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function UA(e,t,n,r){if(!n&&!Zu(e))return;yw(e,t,n&&!r?0:1)}function ld(e,t,n,r){let s=rt(),c=Op();if(Oo(s,c,t)){let f=ln(),g=vy();HI(g,s,e,t,n,r)}return ld}function VA(e,t,n,r){return Oo(e,Op(),n)?t+Ts(n)+r:zr}function jA(e,t,n,r,s,c){let f=ib(),g=MA(e,f,n,s);return fy(2),g?t+Ts(n)+r+Ts(s)+c:zr}function du(e,t){return e<<17|t<<2}function ko(e){return e>>17&32767}function HA(e){return(e&2)==2}function zA(e,t){return e&131071|t<<17}function pp(e){return e|2}function Vs(e){return(e&131068)>>2}function Dh(e,t){return e&-131069|t<<2}function GA(e){return(e&1)===1}function gp(e){return e|1}function $A(e,t,n,r,s,c){let f=c?t.classBindings:t.styleBindings,g=ko(f),x=Vs(f);e[r]=n;let v=!1,A;if(Array.isArray(n)){let D=n;A=D[1],(A===null||rl(D,A)>0)&&(v=!0)}else A=n;if(s)if(x!==0){let U=ko(e[g+1]);e[r+1]=du(U,g),U!==0&&(e[U+1]=Dh(e[U+1],r)),e[g+1]=zA(e[g+1],r)}else e[r+1]=du(g,0),g!==0&&(e[g+1]=Dh(e[g+1],r)),g=r;else e[r+1]=du(x,0),g===0?g=r:e[x+1]=Dh(e[x+1],r),x=r;v&&(e[r+1]=pp(e[r+1])),m1(e,A,r,!0),m1(e,A,r,!1),WA(t,A,e,r,c),f=du(g,x),c?t.classBindings=f:t.styleBindings=f}function WA(e,t,n,r,s){let c=s?e.residualClasses:e.residualStyles;c!=null&&typeof t=="string"&&rl(c,t)>=0&&(n[r+1]=gp(n[r+1]))}function m1(e,t,n,r){let s=e[n+1],c=t===null,f=r?ko(s):Vs(s),g=!1;for(;f!==0&&(g===!1||c);){let x=e[f],v=e[f+1];qA(x,t)&&(g=!0,e[f+1]=r?gp(v):pp(v)),f=r?ko(v):Vs(v)}g&&(e[n+1]=r?pp(s):gp(s))}function qA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?rl(e,t)>=0:!1}function Ee(e,t,n){let r=rt(),s=Op();if(Oo(r,s,t)){let c=ln(),f=vy();LI(c,f,r,e,t,r[nn],n,!1)}return Ee}function y1(e,t,n,r,s){tg(t,e,n,s?"class":"style",r)}function Ys(e,t){return YA(e,t,null,!0),Ys}function YA(e,t,n,r){let s=rt(),c=ln(),f=fy(2);if(c.firstUpdatePass&&XA(c,e,f,r),t!==zr&&Oo(s,f,t)){let g=c.data[Po()];tS(c,g,s,s[nn],e,s[f+1]=nS(t,n),r,f)}}function ZA(e,t){return t>=e.expandoStartIndex}function XA(e,t,n,r){let s=e.data;if(s[n+1]===null){let c=s[Po()],f=ZA(e,n);rS(c,r)&&t===null&&!f&&(t=!1),t=QA(s,c,t,r),$A(s,c,t,n,f,r)}}function QA(e,t,n,r){let s=cb(e),c=r?t.residualClasses:t.residualStyles;if(s===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ah(null,e,t,n,r),n=tl(n,t.attrs,r),c=null);else{let f=t.directiveStylingLast;if(f===-1||e[f]!==s)if(n=Ah(s,e,t,n,r),c===null){let x=KA(e,t,r);x!==void 0&&Array.isArray(x)&&(x=Ah(null,e,t,x[1],r),x=tl(x,t.attrs,r),JA(e,t,r,x))}else c=eS(e,t,r)}return c!==void 0&&(r?t.residualClasses=c:t.residualStyles=c),n}function KA(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Vs(r)!==0)return e[ko(r)]}function JA(e,t,n,r){let s=n?t.classBindings:t.styleBindings;e[ko(s)]=r}function eS(e,t,n){let r,s=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<s;c++){let f=e[c].hostAttrs;r=tl(r,f,n)}return tl(r,t.attrs,n)}function Ah(e,t,n,r,s){let c=null,f=n.directiveEnd,g=n.directiveStylingLast;for(g===-1?g=n.directiveStart:g++;g<f&&(c=t[g],r=tl(r,c.hostAttrs,s),c!==e);)g++;return e!==null&&(n.directiveStylingLast=g),r}function tl(e,t,n){let r=n?1:2,s=-1;if(t!==null)for(let c=0;c<t.length;c++){let f=t[c];typeof f=="number"?s=f:s===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),AE(e,f,n?!0:t[++c]))}return e===void 0?null:e}function tS(e,t,n,r,s,c,f,g){if(!(t.type&3))return;let x=e.data,v=x[g+1],A=GA(v)?w1(x,t,n,s,Vs(v),f):void 0;if(!Vu(A)){Vu(c)||HA(v)&&(c=w1(x,null,n,s,g,f));let D=ny(Po(),n);cD(r,f,D,s,c)}}function w1(e,t,n,r,s,c){let f=t===null,g;for(;s>0;){let x=e[s],v=Array.isArray(x),A=v?x[1]:x,D=A===null,U=n[s+1];U===zr&&(U=D?ir:void 0);let R=D?mh(U,r):A===r?U:void 0;if(v&&!Vu(R)&&(R=mh(x,r)),Vu(R)&&(g=R,f))return g;let G=e[s+1];s=f?ko(G):Vs(G)}if(t!==null){let x=c?t.residualClasses:t.residualStyles;x!=null&&(g=mh(x,r))}return g}function Vu(e){return e!==void 0}function nS(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=On(cl(e)))),e}function rS(e,t){return(e.flags&(t?8:16))!==0}function V(e,t,n,r){let s=rt(),c=ln(),f=sr+e,g=s[nn],x=c.firstCreatePass?Aw(f,c,s,t,eg,Mp(),n,r):c.data[f],v=iS(c,s,x,g,t,e);s[f]=v;let A=Yu(x);return Fo(x,!0),iw(g,v,x),!cw(x)&&Xu()&&nd(c,s,v,x),(QE()===0||A)&&Ws(v,s),KE(),A&&(td(c,s,x),qp(c,x,s)),r!==null&&Jp(s,x),V}function j(){let e=In();Np()?uy():(e=e.parent,Fo(e,!1));let t=e;tb(t)&&nb(),JE();let n=ln();return n.firstCreatePass&&Sw(n,t),t.classesWithoutHost!=null&&mb(t)&&y1(n,t,rt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&yb(t)&&y1(n,t,rt(),t.stylesWithoutHost,!1),j}function De(e,t,n,r){return V(e,t,n,r),j(),De}var iS=(e,t,n,r,s,c)=>(Qu(!0),nw(r,s,hb()));function oS(e,t,n,r,s){let c=t.consts,f=ks(c,r),g=id(t,e,8,"ng-container",f);f!==null&&ip(g,f,!0);let x=ks(c,s);return Mp()&&lg(t,n,g,x,eg),g.mergedAttrs=Fs(g.mergedAttrs,g.attrs),t.queries!==null&&t.queries.elementStart(t,g),g}function cd(e,t,n){let r=rt(),s=ln(),c=e+sr,f=s.firstCreatePass?oS(c,s,r,t,n):s.data[c];Fo(f,!0);let g=sS(s,r,f,e);return r[c]=g,Xu()&&nd(s,r,g,f),Ws(g,r),Yu(f)&&(td(s,r,f),qp(s,f,r)),n!=null&&Jp(r,f),cd}function ud(){let e=In(),t=ln();return Np()?uy():(e=e.parent,Fo(e,!1)),t.firstCreatePass&&(Lp(t,e),_p(e)&&t.queries.elementEnd(e)),ud}var sS=(e,t,n,r)=>(Qu(!0),AI(t[nn],""));function Uo(){return rt()}var ju="en-US";var aS=ju;function lS(e){typeof e=="string"&&(aS=e.toLowerCase().replace(/_/g,"-"))}function v1(e,t,n,r){return function s(c){if(c===Function)return r;let f=zs(e)?Pr(e.index,t):t;sg(f,5);let g=C1(t,n,r,c),x=s.__ngNextListenerFn__;for(;x;)g=C1(t,n,x,c)&&g,x=x.__ngNextListenerFn__;return g}}function C1(e,t,n,r){let s=Ye(null);try{return ft(6,t,n),n(r)!==!1}catch(c){return cS(e,c),!1}finally{ft(7,t,n),Ye(s)}}function cS(e,t){let n=e[Rs],r=n?n.get(Lr,null):null;r&&r.handleError(t)}function x1(e,t,n,r,s,c,f,g,x){let v=n[r],D=t.data[r].outputs[s],R=v[D].subscribe(f),G=g.length;g.push(f,R),x&&x.push(c,e.index,G,-(G+1))}var uS=(e,t,n)=>{};function Mt(e,t,n,r){let s=rt(),c=ln(),f=In();return fS(c,s,s[nn],f,e,t,r),Mt}function dS(e,t,n,r){let s=e.cleanup;if(s!=null)for(let c=0;c<s.length-1;c+=2){let f=s[c];if(f===n&&s[c+1]===r){let g=t[Iu],x=s[c+2];return g.length>x?g[x]:null}typeof f=="string"&&(c+=2)}return null}function fS(e,t,n,r,s,c,f){let g=Yu(r),v=e.firstCreatePass?ly(e):null,A=t[kn],D=ay(t),U=!0;if(r.type&3||f){let R=Vr(r,t),G=f?f(R):R,X=D.length,W=f?ye=>f(Fr(ye[r.index])):r.index,Q=null;if(!f&&g&&(Q=dS(e,t,s,r.index)),Q!==null){let ye=Q.__ngLastListenerFn__||Q;ye.__ngNextListenerFn__=c,Q.__ngLastListenerFn__=c,U=!1}else{c=v1(r,t,A,c),uS(G,s,c);let ye=n.listen(G,s,c);D.push(c,ye),v&&v.push(s,W,X,X+1)}}else c=v1(r,t,A,c);if(U){let R=r.outputs?.[s],G=r.hostDirectiveOutputs?.[s];if(G&&G.length)for(let X=0;X<G.length;X+=2){let W=G[X],Q=G[X+1];x1(r,e,t,W,Q,s,c,D,v)}if(R&&R.length)for(let X of R)x1(r,e,t,X,s,s,c,D,v)}}function wt(e=1){return db(e)}function jw(e,t,n,r){dA(e,t,n,r)}function dd(e,t,n){uA(e,t,n)}function Zs(e){let t=rt(),n=ln(),r=hy();kp(r+1);let s=cg(n,r);if(e.dirty&&WE(t)===((s.metadata.flags&2)===2)){if(s.matches===null)e.reset([]);else{let c=pA(t,r);e.reset(c,Vb),e.notifyOnChanges()}return!0}return!1}function Xs(){return cA(rt(),hy())}function hS(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function J(e,t=""){let n=rt(),r=ln(),s=e+sr,c=r.firstCreatePass?id(r,s,1,t,null):r.data[s],f=pS(r,n,c,t,e);n[s]=f,Xu()&&nd(r,n,f,c),Fo(c,!1)}var pS=(e,t,n,r,s)=>(Qu(!0),II(t[nn],r));function yi(e){return Yn("",e,""),yi}function Yn(e,t,n){let r=rt(),s=VA(r,e,t,n);return s!==zr&&Hw(r,Po(),s),Yn}function fg(e,t,n,r,s){let c=rt(),f=jA(c,e,t,n,r,s);return f!==zr&&Hw(c,Po(),f),fg}function Hw(e,t,n){let r=ny(t,e);DI(e[nn],r,n)}function gS(e,t,n){let r=ln();if(r.firstCreatePass){let s=kr(e);mp(n,r.data,r.blueprint,s,!0),mp(t,r.data,r.blueprint,s,!1)}}function mp(e,t,n,r,s){if(e=xn(e),Array.isArray(e))for(let c=0;c<e.length;c++)mp(e[c],t,n,r,s);else{let c=ln(),f=rt(),g=In(),x=Ns(e)?e:xn(e.provide),v=W1(e),A=g.providerIndexes&1048575,D=g.directiveStart,U=g.providerIndexes>>20;if(Ns(e)||!e.multi){let R=new No(v,s,ce),G=_h(x,t,s?A:A+U,D);G===-1?(Hh(Nu(g,f),c,x),Sh(c,e,t.length),t.push(x),g.directiveStart++,g.directiveEnd++,s&&(g.providerIndexes+=1048576),n.push(R),f.push(R)):(n[G]=R,f[G]=R)}else{let R=_h(x,t,A+U,D),G=_h(x,t,A,A+U),X=R>=0&&n[R],W=G>=0&&n[G];if(s&&!W||!s&&!X){Hh(Nu(g,f),c,x);let Q=wS(s?yS:mS,n.length,s,r,v);!s&&W&&(n[G].providerFactory=Q),Sh(c,e,t.length,0),t.push(x),g.directiveStart++,g.directiveEnd++,s&&(g.providerIndexes+=1048576),n.push(Q),f.push(Q)}else{let Q=zw(n[s?G:R],v,!s&&r);Sh(c,e,R>-1?R:G,Q)}!s&&r&&W&&n[G].componentProviders++}}}function Sh(e,t,n,r){let s=Ns(t),c=kE(t);if(s||c){let x=(c?xn(t.useClass):t).prototype.ngOnDestroy;if(x){let v=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){let A=v.indexOf(n);A===-1?v.push(n,[r,x]):v[A+1].push(r,x)}else v.push(n,x)}}}function zw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function _h(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function mS(e,t,n,r){return yp(this.multi,[])}function yS(e,t,n,r){let s=this.multi,c;if(this.providerFactory){let f=this.providerFactory.componentProviders,g=Ja(n,n[Ge],this.providerFactory.index,r);c=g.slice(0,f),yp(s,c);for(let x=f;x<g.length;x++)c.push(g[x])}else c=[],yp(s,c);return c}function yp(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function wS(e,t,n,r,s){let c=new No(e,n,ce);return c.multi=[],c.index=t,c.componentProviders=0,zw(c,s,r&&!n),c}function Qs(e,t=[]){return n=>{n.providersResolver=(r,s)=>gS(r,s?s(e):e,t)}}function fd(e,t,n){let r=Rp()+e,s=rt();return s[r]===zr?Lw(s,r,n?t.call(n):t()):TA(s,r)}function Gw(e,t,n,r){return $w(rt(),Rp(),e,t,n,r)}function vS(e,t){let n=e[t];return n===zr?void 0:n}function $w(e,t,n,r,s,c){let f=t+n;return Oo(e,f,s)?Lw(e,f+1,c?r.call(c,s):r(s)):vS(e,f+1)}function Ww(e,t){let n=ln(),r,s=e+sr;n.firstCreatePass?(r=CS(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];let c=r.factory||(r.factory=Io(r.type,!0)),f,g=Rn(ce);try{let x=Mu(!1),v=c();return Mu(x),hS(n,rt(),s,v),v}finally{Rn(g)}}function CS(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function qw(e,t,n){let r=e+sr,s=rt(),c=$E(s,r);return xS(s,r)?$w(s,Rp(),t,c.transform,n,c):c.transform(n)}function xS(e,t){return e[Ge].data[t].pure}var wp=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},hd=(()=>{class e{compileModuleSync(n){return new fp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=H1(n),c=ew(s.declarations).reduce((f,g)=>{let x=Ao(g);return x&&f.push(new Bs(x)),f},[]);return new wp(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ES=(()=>{class e{zone=q(kt);changeDetectionScheduler=q(Ps);applicationRef=q(hi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bS=new de("",{factory:()=>!1});function Yw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new kt(qe(re({},Xw()),{scheduleInRootZone:n})),[{provide:kt,useFactory:e},{provide:Ms,multi:!0,useFactory:()=>{let r=q(ES,{optional:!0});return()=>r.initialize()}},{provide:Ms,multi:!0,useFactory:()=>{let r=q(IS);return()=>{r.initialize()}}},t===!0?{provide:ky,useValue:!0}:[],{provide:Fy,useValue:n??Oy}]}function Zw(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Yw({ngZoneFactory:()=>{let s=Xw(e);return s.scheduleInRootZone=n,s.shouldCoalesceEventChangeDetection&&ll("NgZone_CoalesceEvent"),new kt(s)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return js([{provide:bS,useValue:!0},{provide:Ku,useValue:!1},r])}function Xw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var IS=(()=>{class e{subscription=new Ot;initialized=!1;zone=q(kt);pendingTasks=q(zi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{kt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{kt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var DS=(()=>{class e{appRef=q(hi);taskService=q(zi);ngZone=q(kt);zonelessEnabled=q(Ku);tracing=q(qs,{optional:!0});disableScheduling=q(ky,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ot;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ou):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(Fy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let s=this.useMicrotaskScheduler?Jm:Py;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ou+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function AS(){return typeof $localize<"u"&&$localize.locale||ju}var hg=new de("",{providedIn:"root",factory:()=>q(hg,je.Optional|je.SkipSelf)||AS()});var vp=new de(""),SS=new de("");function qa(e){return!e.moduleRef}function _S(e){let t=qa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(kt);return n.run(()=>{qa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Lr,null),s;if(n.runOutsideAngular(()=>{s=n.onError.subscribe({next:c=>{r.handleError(c)}})}),qa(e)){let c=()=>t.destroy(),f=e.platformInjector.get(vp);f.add(c),t.onDestroy(()=>{s.unsubscribe(),f.delete(c)})}else{let c=()=>e.moduleRef.destroy(),f=e.platformInjector.get(vp);f.add(c),e.moduleRef.onDestroy(()=>{mu(e.allPlatformModules,e.moduleRef),s.unsubscribe(),f.delete(c)})}return MS(r,n,()=>{let c=t.get(Vw);return c.runInitializers(),c.donePromise.then(()=>{let f=t.get(hg,ju);if(lS(f||ju),!t.get(SS,!0))return qa(e)?t.get(hi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(qa(e)){let x=t.get(hi);return e.rootComponent!==void 0&&x.bootstrap(e.rootComponent),x}else return TS(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function TS(e,t){let n=e.injector.get(hi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new se(-403,!1);t.push(e)}function MS(e,t,n){try{let r=n();return Bo(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var yu=null;function NS(e=[],t){return bn.create({name:t,providers:[{provide:Wu,useValue:"platform"},{provide:vp,useValue:new Set([()=>yu=null])},...e]})}function RS(e=[]){if(yu)return yu;let t=NS(e);return yu=t,PA(),OS(t),t}function OS(e){let t=e.get(zp,null);Fn(e,()=>{t?.forEach(n=>n())})}var $i=(()=>{class e{static __NG_ELEMENT_ID__=kS}return e})();function kS(e){return FS(In(),rt(),(e&16)===16)}function FS(e,t,n){if(zs(e)&&!n){let r=Pr(e.index,t);return new el(r,r)}else if(e.type&175){let r=t[Or];return new el(r,t)}return null}var Cp=class{constructor(){}supports(t){return Pw(t)}create(t){return new xp(t)}},PS=(e,t)=>t,xp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||PS}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,c=null;for(;n||r;){let f=!r||n&&n.currentIndex<E1(r,s,c)?n:r,g=E1(f,s,c),x=f.currentIndex;if(f===r)s--,r=r._nextRemoved;else if(n=n._next,f.previousIndex==null)s++;else{c||(c=[]);let v=g-s,A=x-s;if(v!=A){for(let U=0;U<v;U++){let R=U<c.length?c[U]:c[U]=0,G=R+U;A<=G&&G<v&&(c[U]=R+1)}let D=f.previousIndex;c[D]=A-v}}g!==x&&t(f,g,x)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Pw(t))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,s,c,f;if(Array.isArray(t)){this.length=t.length;for(let g=0;g<this.length;g++)c=t[g],f=this._trackByFn(g,c),n===null||!Object.is(n.trackById,f)?(n=this._mismatch(n,c,f,g),r=!0):(r&&(n=this._verifyReinsertion(n,c,f,g)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next}else s=0,SA(t,g=>{f=this._trackByFn(s,g),n===null||!Object.is(n.trackById,f)?(n=this._mismatch(n,g,f,s),r=!0):(r&&(n=this._verifyReinsertion(n,g,f,s)),Object.is(n.item,g)||this._addIdentityChange(n,g)),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let c;return t===null?c=this._itTail:(c=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,s)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,s),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,s)):t=this._addAfter(new Ep(n,r),c,s)),t}_verifyReinsertion(t,n,r,s){let c=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return c!==null?t=this._reinsertAfter(c,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let s=t._prevRemoved,c=t._nextRemoved;return s===null?this._removalsHead=c:s._nextRemoved=c,c===null?this._removalsTail=s:c._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let s=n===null?this._itHead:n._next;return t._next=s,t._prev=n,s===null?this._itTail=t:s._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Hu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ep=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},bp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Hu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new bp,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,s=this.map.get(r);return s?s.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function E1(e,t,n){let r=e.previousIndex;if(r===null)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}function b1(){return new pg([new Cp])}var pg=(()=>{class e{factories;static \u0275prov=ue({token:e,providedIn:"root",factory:b1});constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||b1()),deps:[[e,new EE,new B1]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new se(901,!1)}}return e})();function Qw(e){ft(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,s=RS(r),c=[Yw({}),{provide:Ps,useExisting:DS},...n||[]],f=new Uu({providers:c,parent:s,debugName:"",runEnvironmentInitializers:!1});return _S({r3Injector:f.injector,platformInjector:s,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ft(9)}}function Vo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function wi(e){return Qf(e)}function Ks(e,t){return qf(e,t?.equal)}var I1=class{[mr];constructor(t){this[mr]=t}destroy(){this[mr].destroy()}};function Kw(e){let t=Ao(e);if(!t)return null;let n=new Bs(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var iv=null;function Ci(){return iv}function ov(e){iv??=e}var pd=class{};var yn=new de(""),Cg=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>q(LS),providedIn:"platform"})}return e})(),sv=new de(""),LS=(()=>{class e extends Cg{_location;_history;_doc=q(yn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(n){let r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function xg(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Jw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function vi(e){return e&&e[0]!=="?"?`?${e}`:e}var xi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>q(Eg),providedIn:"root"})}return e})(),av=new de(""),Eg=(()=>{class e extends xi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+vi(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,c){let f=this.prepareExternalUrl(s+vi(c));this._platformLocation.pushState(n,r,f)}replaceState(n,r,s,c){let f=this.prepareExternalUrl(s+vi(c));this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ge(Cg),ge(av,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lv=(()=>{class e extends xi{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=xg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,c){let f=this.prepareExternalUrl(s+vi(c))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,f)}replaceState(n,r,s,c){let f=this.prepareExternalUrl(s+vi(c))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ge(Cg),ge(av,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),ea=(()=>{class e{_subject=new _t;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=VS(Jw(ev(r))),this._locationStrategy.onPopState(s=>{this._subject.next({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vi(r))}normalize(n){return e.stripTrailingSlash(US(this._basePath,ev(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r??void 0,complete:s??void 0})}static normalizeQueryParams=vi;static joinWithSlash=xg;static stripTrailingSlash=Jw;static \u0275fac=function(r){return new(r||e)(ge(xi))};static \u0275prov=ue({token:e,factory:()=>BS(),providedIn:"root"})}return e})();function BS(){return new ea(ge(xi))}function US(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function ev(e){return e.replace(/\/index.html$/,"")}function VS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function gd(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[s,c]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===t)return decodeURIComponent(c)}return null}var gg=/\s+/,tv=[],md=(()=>{class e{_ngEl;_renderer;initialClasses=tv;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(gg):tv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(gg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(gg).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static \u0275fac=function(r){return new(r||e)(ce(Pn),ce(Gr))};static \u0275dir=en({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var mg=class{$implicit;ngForOf;index;count;constructor(t,n,r,s){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yd=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,c,f)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new mg(s.item,this._ngForOf,-1,-1),f===null?void 0:f);else if(f==null)r.remove(c===null?void 0:c);else if(c!==null){let g=r.get(c);r.move(g,f),nv(g,s)}});for(let s=0,c=r.length;s<c;s++){let g=r.get(s).context;g.index=s,g.count=c,g.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let c=r.get(s.currentIndex);nv(c,s)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ce(Gi),ce(Ro),ce(pg))};static \u0275dir=en({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function nv(e,t){e.context.$implicit=t.item}var ta=(()=>{class e{_viewContainer;_context=new yg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){rv(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){rv(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ce(Gi),ce(Ro))};static \u0275dir=en({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),yg=class{$implicit=null;ngIf=null};function rv(e,t){if(e&&!e.createEmbeddedView)throw new se(2020,!1)}function jS(e,t){return new se(2100,!1)}var HS=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,cv=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw jS(e,n);return n.replace(HS,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Ow({name:"titlecase",type:e,pure:!0})}return e})();var Zn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$r({type:e});static \u0275inj=Ur({})}return e})(),uv="browser",zS="server";function bg(e){return e===zS}var dv=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new wg(q(yn),window)})}return e})(),wg=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=GS(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],s-c[1])}};function GS(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),s=r.currentNode;for(;s;){let c=s.shadowRoot;if(c){let f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}s=r.nextNode()}}return null}var Js=class{};var pl=class{},gl=class{},Ei=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let s=n.slice(0,r),c=n.slice(r+1).trim();this.addHeaderEntry(s,c)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let s=(t.op==="a"?this.headers.get(n):void 0)||[];s.push(...r),this.headers.set(n,s);break;case"d":let c=t.value;if(!c)this.headers.delete(n),this.normalizedNames.delete(n);else{let f=this.headers.get(n);if(!f)return;f=f.filter(g=>c.indexOf(g)===-1),f.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(c=>c.toString()),s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Ag=class{encodeKey(t){return fv(t)}encodeValue(t){return fv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function $S(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{let c=s.indexOf("="),[f,g]=c==-1?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,c)),t.decodeValue(s.slice(c+1))],x=n.get(f)||[];x.push(g),n.set(f,x)}),n}var WS=/%(\d[a-f0-9])/gi,qS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fv(e){return encodeURIComponent(e).replace(WS,(t,n)=>qS[n]??t)}function wd(e){return`${e}`}var qi=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Ag,t.fromString){if(t.fromObject)throw new se(2805,!1);this.map=$S(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],s=Array.isArray(r)?r.map(wd):[wd(r)];this.map.set(n,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let s=t[r];Array.isArray(s)?s.forEach(c=>{n.push({param:r,value:c,op:"a"})}):n.push({param:r,value:s,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(wd(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],s=r.indexOf(wd(t.value));s!==-1&&r.splice(s,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Sg=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function YS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hv(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function pv(e){return typeof Blob<"u"&&e instanceof Blob}function gv(e){return typeof FormData<"u"&&e instanceof FormData}function ZS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var fl="Content-Type",vd="Accept",Mg="X-Request-URL",vv="text/plain",Cv="application/json",xv=`${Cv}, ${vv}, */*`,hl=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,s){this.url=n,this.method=t.toUpperCase();let c;if(YS(this.method)||s?(this.body=r!==void 0?r:null,c=s):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Ei,this.context??=new Sg,!this.params)this.params=new qi,this.urlWithParams=n;else{let f=this.params.toString();if(f.length===0)this.urlWithParams=n;else{let g=n.indexOf("?"),x=g===-1?"?":g<n.length-1?"&":"";this.urlWithParams=n+x+f}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hv(this.body)||pv(this.body)||gv(this.body)||ZS(this.body)?this.body:this.body instanceof qi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gv(this.body)?null:pv(this.body)?this.body.type||null:hv(this.body)?null:typeof this.body=="string"?vv:this.body instanceof qi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Cv:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=t.transferCache??this.transferCache,f=t.body!==void 0?t.body:this.body,g=t.withCredentials??this.withCredentials,x=t.reportProgress??this.reportProgress,v=t.headers||this.headers,A=t.params||this.params,D=t.context??this.context;return t.setHeaders!==void 0&&(v=Object.keys(t.setHeaders).reduce((U,R)=>U.set(R,t.setHeaders[R]),v)),t.setParams&&(A=Object.keys(t.setParams).reduce((U,R)=>U.set(R,t.setParams[R]),A)),new e(n,r,f,{params:A,headers:v,context:D,reportProgress:x,responseType:s,withCredentials:g,transferCache:c})}},Yi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Yi||{}),ml=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Ei,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Cd=class e extends ml{constructor(t={}){super(t)}type=Yi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},yl=class e extends ml{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Yi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Wi=class extends ml{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Ev=200,XS=204;function Ig(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var wl=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,s={}){let c;if(n instanceof hl)c=n;else{let x;s.headers instanceof Ei?x=s.headers:x=new Ei(s.headers);let v;s.params&&(s.params instanceof qi?v=s.params:v=new qi({fromObject:s.params})),c=new hl(n,r,s.body!==void 0?s.body:null,{headers:x,context:s.context,params:v,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let f=xe(c).pipe(ai(x=>this.handler.handle(x)));if(n instanceof hl||s.observe==="events")return f;let g=f.pipe(Nn(x=>x instanceof yl));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe(Oe(x=>{if(x.body!==null&&!(x.body instanceof ArrayBuffer))throw new se(2806,!1);return x.body}));case"blob":return g.pipe(Oe(x=>{if(x.body!==null&&!(x.body instanceof Blob))throw new se(2807,!1);return x.body}));case"text":return g.pipe(Oe(x=>{if(x.body!==null&&typeof x.body!="string")throw new se(2808,!1);return x.body}));case"json":default:return g.pipe(Oe(x=>x.body))}case"response":return g;default:throw new se(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new qi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Ig(s,r))}post(n,r,s={}){return this.request("POST",n,Ig(s,r))}put(n,r,s={}){return this.request("PUT",n,Ig(s,r))}static \u0275fac=function(r){return new(r||e)(ge(pl))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),QS=/^\)\]\}',?\n/;function mv(e){if(e.url)return e.url;let t=Mg.toLocaleLowerCase();return e.headers.get(t)}var bv=new de(""),Dg=(()=>{class e{fetchImpl=q(_g,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=q(kt);handle(n){return new Ke(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(Tg,c=>r.error(new Wi({error:c}))),()=>s.abort()})}doRequest(n,r,s){return La(this,null,function*(){let c=this.createRequestInit(n),f;try{let R=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,re({signal:r},c)));KS(R),s.next({type:Yi.Sent}),f=yield R}catch(R){s.error(new Wi({error:R,status:R.status??0,statusText:R.statusText,url:n.urlWithParams,headers:R.headers}));return}let g=new Ei(f.headers),x=f.statusText,v=mv(f)??n.urlWithParams,A=f.status,D=null;if(n.reportProgress&&s.next(new Cd({headers:g,status:A,statusText:x,url:v})),f.body){let R=f.headers.get("content-length"),G=[],X=f.body.getReader(),W=0,Q,ye,Ze=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>La(this,null,function*(){for(;;){let{done:Y,value:Me}=yield X.read();if(Y)break;if(G.push(Me),W+=Me.length,n.reportProgress){ye=n.responseType==="text"?(ye??"")+(Q??=new TextDecoder).decode(Me,{stream:!0}):void 0;let K=()=>s.next({type:Yi.DownloadProgress,total:R?+R:void 0,loaded:W,partialText:ye});Ze?Ze.run(K):K()}}}));let Se=this.concatChunks(G,W);try{let Y=f.headers.get(fl)??"";D=this.parseBody(n,Se,Y)}catch(Y){s.error(new Wi({error:Y,headers:new Ei(f.headers),status:f.status,statusText:f.statusText,url:mv(f)??n.urlWithParams}));return}}A===0&&(A=D?Ev:0),A>=200&&A<300?(s.next(new yl({body:D,headers:g,status:A,statusText:x,url:v})),s.complete()):s.error(new Wi({error:D,headers:g,status:A,statusText:x,url:v}))})}parseBody(n,r,s){switch(n.responseType){case"json":let c=new TextDecoder().decode(r).replace(QS,"");return c===""?null:JSON.parse(c);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((c,f)=>r[c]=f.join(",")),n.headers.has(vd)||(r[vd]=xv),!n.headers.has(fl)){let c=n.detectContentTypeHeader();c!==null&&(r[fl]=c)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),c=0;for(let f of n)s.set(f,c),c+=f.length;return s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),_g=class{};function Tg(){}function KS(e){e.then(Tg,Tg)}function JS(e,t){return t(e)}function e_(e,t,n){return(r,s)=>Fn(n,()=>t(r,c=>e(c,s)))}var Ng=new de(""),t_=new de(""),n_=new de("",{providedIn:"root",factory:()=>!0});var yv=(()=>{class e extends pl{backend;injector;chain=null;pendingTasks=q(zi);contributeToStability=q(n_);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ng),...this.injector.get(t_,[])]));this.chain=r.reduceRight((s,c)=>e_(s,c,this.injector),JS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(xo(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(ge(gl),ge(En))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();var r_=/^\)\]\}',?\n/,i_=RegExp(`^${Mg}:`,"m");function o_(e){return"responseURL"in e&&e.responseURL?e.responseURL:i_.test(e.getAllResponseHeaders())?e.getResponseHeader(Mg):null}var wv=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new se(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?yt(r.\u0275loadImpl()):xe(null)).pipe(an(()=>new Ke(c=>{let f=r.build();if(f.open(n.method,n.urlWithParams),n.withCredentials&&(f.withCredentials=!0),n.headers.forEach((X,W)=>f.setRequestHeader(X,W.join(","))),n.headers.has(vd)||f.setRequestHeader(vd,xv),!n.headers.has(fl)){let X=n.detectContentTypeHeader();X!==null&&f.setRequestHeader(fl,X)}if(n.responseType){let X=n.responseType.toLowerCase();f.responseType=X!=="json"?X:"text"}let g=n.serializeBody(),x=null,v=()=>{if(x!==null)return x;let X=f.statusText||"OK",W=new Ei(f.getAllResponseHeaders()),Q=o_(f)||n.url;return x=new Cd({headers:W,status:f.status,statusText:X,url:Q}),x},A=()=>{let{headers:X,status:W,statusText:Q,url:ye}=v(),Ze=null;W!==XS&&(Ze=typeof f.response>"u"?f.responseText:f.response),W===0&&(W=Ze?Ev:0);let Se=W>=200&&W<300;if(n.responseType==="json"&&typeof Ze=="string"){let Y=Ze;Ze=Ze.replace(r_,"");try{Ze=Ze!==""?JSON.parse(Ze):null}catch(Me){Ze=Y,Se&&(Se=!1,Ze={error:Me,text:Ze})}}Se?(c.next(new yl({body:Ze,headers:X,status:W,statusText:Q,url:ye||void 0})),c.complete()):c.error(new Wi({error:Ze,headers:X,status:W,statusText:Q,url:ye||void 0}))},D=X=>{let{url:W}=v(),Q=new Wi({error:X,status:f.status||0,statusText:f.statusText||"Unknown Error",url:W||void 0});c.error(Q)},U=!1,R=X=>{U||(c.next(v()),U=!0);let W={type:Yi.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(W.total=X.total),n.responseType==="text"&&f.responseText&&(W.partialText=f.responseText),c.next(W)},G=X=>{let W={type:Yi.UploadProgress,loaded:X.loaded};X.lengthComputable&&(W.total=X.total),c.next(W)};return f.addEventListener("load",A),f.addEventListener("error",D),f.addEventListener("timeout",D),f.addEventListener("abort",D),n.reportProgress&&(f.addEventListener("progress",R),g!==null&&f.upload&&f.upload.addEventListener("progress",G)),f.send(g),c.next({type:Yi.Sent}),()=>{f.removeEventListener("error",D),f.removeEventListener("abort",D),f.removeEventListener("load",A),f.removeEventListener("timeout",D),n.reportProgress&&(f.removeEventListener("progress",R),g!==null&&f.upload&&f.upload.removeEventListener("progress",G)),f.readyState!==f.DONE&&f.abort()}})))}static \u0275fac=function(r){return new(r||e)(ge(Js))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Iv=new de(""),s_="XSRF-TOKEN",a_=new de("",{providedIn:"root",factory:()=>s_}),l_="X-XSRF-TOKEN",c_=new de("",{providedIn:"root",factory:()=>l_}),xd=class{},u_=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=gd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(ge(yn),ge(Lo),ge(a_))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function d_(e,t){let n=e.url.toLowerCase();if(!q(Iv)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=q(xd).getToken(),s=q(c_);return r!=null&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,r)})),t(e)}var Rg=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Rg||{});function Dv(e,t){return{\u0275kind:e,\u0275providers:t}}function Av(...e){let t=[wl,wv,yv,{provide:pl,useExisting:yv},{provide:gl,useFactory:()=>q(bv,{optional:!0})??q(wv)},{provide:Ng,useValue:d_,multi:!0},{provide:Iv,useValue:!0},{provide:xd,useClass:u_}];for(let n of e)t.push(...n.\u0275providers);return js(t)}function Sv(e){return Dv(Rg.Interceptors,e.map(t=>({provide:Ng,useValue:t,multi:!0})))}function _v(){return Dv(Rg.Fetch,[Dg,{provide:bv,useExisting:Dg},{provide:gl,useExisting:Dg}])}var kg=class extends pd{supportsDOMEvents=!0},Fg=class e extends kg{static makeCurrent(){ov(new e)}onAndCancel(t,n,r,s){return t.addEventListener(n,r,s),()=>{t.removeEventListener(n,r,s)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=f_();return n==null?null:h_(n)}resetBaseElement(){vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gd(document.cookie,t)}},vl=null;function f_(){return vl=vl||document.querySelector("base"),vl?vl.getAttribute("href"):null}function h_(e){return new URL(e,document.baseURI).pathname}var p_=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Pg=new de(""),Fv=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s,c){return this._findPluginFor(r).addEventListener(n,r,s,c)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(c=>c.supports(n)),!r)throw new se(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ge(Pg),ge(kt))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),bd=class{_doc;constructor(t){this._doc=t}manager},Ed="ng-app-id";function Mv(e){for(let t of e)t.remove()}function Nv(e,t){let n=t.createElement("style");return n.textContent=e,n}function g_(e,t,n,r){let s=e.head?.querySelectorAll(`style[${Ed}="${t}"],link[${Ed}="${t}"]`);if(s)for(let c of s)c.removeAttribute(Ed),c instanceof HTMLLinkElement?r.set(c.href.slice(c.href.lastIndexOf("/")+1),{usage:0,elements:[c]}):c.textContent&&n.set(c.textContent,{usage:0,elements:[c]})}function Lg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Pv=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,s,c={}){this.doc=n,this.appId=r,this.nonce=s,this.isServer=bg(c),g_(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let s of n)this.addUsage(s,this.inline,Nv);r?.forEach(s=>this.addUsage(s,this.external,Lg))}removeStyles(n,r){for(let s of n)this.removeUsage(s,this.inline);r?.forEach(s=>this.removeUsage(s,this.external))}addUsage(n,r,s){let c=r.get(n);c?c.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(f=>this.addElement(f,s(n,this.doc)))})}removeUsage(n,r){let s=r.get(n);s&&(s.usage--,s.usage<=0&&(Mv(s.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Mv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:s}]of this.inline)s.push(this.addElement(n,Nv(r,this.doc)));for(let[r,{elements:s}]of this.external)s.push(this.addElement(n,Lg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ed,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ge(yn),ge(Hp),ge(Gp,8),ge(Lo))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Og={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ug=/%COMP%/g;var Lv="%COMP%",m_=`_nghost-${Lv}`,y_=`_ngcontent-${Lv}`,w_=!0,v_=new de("",{providedIn:"root",factory:()=>w_});function C_(e){return y_.replace(Ug,e)}function x_(e){return m_.replace(Ug,e)}function Bv(e,t){return t.map(n=>n.replace(Ug,e))}var Rv=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,s,c,f,g,x,v=null,A=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=f,this.platformId=g,this.ngZone=x,this.nonce=v,this.tracingService=A,this.platformIsServer=bg(g),this.defaultRenderer=new Cl(n,f,x,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Br.ShadowDom&&(r=qe(re({},r),{encapsulation:Br.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof Id?s.applyToHost(n):s instanceof xl&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,c=s.get(r.id);if(!c){let f=this.doc,g=this.ngZone,x=this.eventManager,v=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,D=this.platformIsServer,U=this.tracingService;switch(r.encapsulation){case Br.Emulated:c=new Id(x,v,r,this.appId,A,f,g,D,U);break;case Br.ShadowDom:return new Bg(x,v,n,r,f,g,this.nonce,D,U);default:c=new xl(x,v,r,A,f,g,D,U);break}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ge(Fv),ge(Pv),ge(Hp),ge(v_),ge(yn),ge(Lo),ge(kt),ge(Gp),ge(qs,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Cl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,s,c){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.tracingService=c}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Og[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ov(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ov(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new se(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,s){if(s){n=s+":"+n;let c=Og[s];c?t.setAttributeNS(c,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let s=Og[r];s?t.removeAttributeNS(s,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,s){s&(fi.DashCase|fi.Important)?t.style.setProperty(n,r,s&fi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&fi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,s){if(typeof t=="string"&&(t=Ci().getGlobalEventTarget(this.doc,t),!t))throw new se(5102,!1);let c=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(c=this.tracingService.wrapEventListener(t,n,c)),this.eventManager.addEventListener(t,n,c,s)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Ov(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bg=class extends Cl{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,s,c,f,g,x,v){super(t,c,f,x,v),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let A=s.styles;A=Bv(s.id,A);for(let U of A){let R=document.createElement("style");g&&R.setAttribute("nonce",g),R.textContent=U,this.shadowRoot.appendChild(R)}let D=s.getExternalStyles?.();if(D)for(let U of D){let R=Lg(U,c);g&&R.setAttribute("nonce",g),this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xl=class extends Cl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,s,c,f,g,x,v){super(t,c,f,g,x),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s;let A=r.styles;this.styles=v?Bv(v,A):A,this.styleUrls=r.getExternalStyles?.(v)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Id=class extends xl{contentAttr;hostAttr;constructor(t,n,r,s,c,f,g,x,v){let A=s+"-"+r.id;super(t,n,r,c,f,g,x,v,A),this.contentAttr=C_(A),this.hostAttr=x_(A)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},E_=(()=>{class e extends bd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s,c){return n.addEventListener(r,s,c),()=>this.removeEventListener(n,r,s,c)}removeEventListener(n,r,s,c){return n.removeEventListener(r,s,c)}static \u0275fac=function(r){return new(r||e)(ge(yn))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),kv=["alt","control","meta","shift"],b_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I_={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},D_=(()=>{class e extends bd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s,c){let f=e.parseEventName(r),g=e.eventCallback(f.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(n,f.domEventName,g,c))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let c=e._normalizeKey(r.pop()),f="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),f="code."),kv.forEach(v=>{let A=r.indexOf(v);A>-1&&(r.splice(A,1),f+=v+".")}),f+=c,r.length!=0||c.length===0)return null;let x={};return x.domEventName=s,x.fullKey=f,x}static matchEventFullKeyCode(n,r){let s=b_[n.key]||n.key,c="";return r.indexOf("code.")>-1&&(s=n.code,c="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),kv.forEach(f=>{if(f!==s){let g=I_[f];g(n)&&(c+=f+".")}}),c+=s,c===r)}static eventCallback(n,r,s){return c=>{e.matchEventFullKeyCode(c,n)&&s.runGuarded(()=>r(c))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ge(yn))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function Uv(e,t){return Qw(re({rootComponent:e},A_(t)))}function A_(e){return{appProviders:[...N_,...e?.providers??[]],platformProviders:M_}}function S_(){Fg.makeCurrent()}function __(){return new Lr}function T_(){return $y(document),document}var M_=[{provide:Lo,useValue:uv},{provide:zp,useValue:S_,multi:!0},{provide:yn,useFactory:T_,deps:[]}];var N_=[{provide:Wu,useValue:"root"},{provide:Lr,useFactory:__,deps:[]},{provide:Pg,useClass:E_,multi:!0,deps:[yn]},{provide:Pg,useClass:D_,multi:!0,deps:[yn]},Rv,Pv,Fv,{provide:Ls,useExisting:Rv},{provide:Js,useClass:p_,deps:[]},[]];var Vv=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ge(yn))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Le="primary",kl=Symbol("RouteTitle"),Gg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function aa(e){return new Gg(e)}function O_(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let s={};for(let c=0;c<r.length;c++){let f=r[c],g=e[c];if(f[0]===":")s[f.substring(1)]=g;else if(f!==g.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function k_(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qr(e[n],t[n]))return!1;return!0}function qr(e,t){let n=e?$g(e):void 0,r=t?$g(t):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let c=0;c<n.length;c++)if(s=n[c],!Xv(e[s],t[s]))return!1;return!0}function $g(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Xv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((s,c)=>r[c]===s)}else return e===t}function Qv(e){return e.length>0?e[e.length-1]:null}function Xi(e){return ch(e)?e:Bo(e)?yt(Promise.resolve(e)):xe(e)}var F_={exact:Jv,subset:eC},Kv={exact:P_,subset:L_,ignored:()=>!0};function jv(e,t,n){return F_[n.paths](e.root,t.root,n.matrixParams)&&Kv[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function P_(e,t){return qr(e,t)}function Jv(e,t,n){if(!Ho(e.segments,t.segments)||!Sd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Jv(e.children[r],t.children[r],n))return!1;return!0}function L_(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Xv(e[n],t[n]))}function eC(e,t,n){return tC(e,t,t.segments,n)}function tC(e,t,n,r){if(e.segments.length>n.length){let s=e.segments.slice(0,n.length);return!(!Ho(s,n)||t.hasChildren()||!Sd(s,n,r))}else if(e.segments.length===n.length){if(!Ho(e.segments,n)||!Sd(e.segments,n,r))return!1;for(let s in t.children)if(!e.children[s]||!eC(e.children[s],t.children[s],r))return!1;return!0}else{let s=n.slice(0,e.segments.length),c=n.slice(e.segments.length);return!Ho(e.segments,s)||!Sd(e.segments,s,r)||!e.children[Le]?!1:tC(e.children[Le],t,c,r)}}function Sd(e,t,n){return t.every((r,s)=>Kv[n](e[s].parameters,r.parameters))}var Ii=class{root;queryParams;fragment;_queryParamMap;constructor(t=new lt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=aa(this.queryParams),this._queryParamMap}toString(){return V_.serialize(this)}},lt=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _d(this)}},jo=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=aa(this.parameters),this._parameterMap}toString(){return rC(this)}};function B_(e,t){return Ho(e,t)&&e.every((n,r)=>qr(n.parameters,t[r].parameters))}function Ho(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function U_(e,t){let n=[];return Object.entries(e.children).forEach(([r,s])=>{r===Le&&(n=n.concat(t(s,r)))}),Object.entries(e.children).forEach(([r,s])=>{r!==Le&&(n=n.concat(t(s,r)))}),n}var Fl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>new la,providedIn:"root"})}return e})(),la=class{parse(t){let n=new qg(t);return new Ii(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${El(t.root,!0)}`,r=z_(t.queryParams),s=typeof t.fragment=="string"?`#${j_(t.fragment)}`:"";return`${n}${r}${s}`}},V_=new la;function _d(e){return e.segments.map(t=>rC(t)).join("/")}function El(e,t){if(!e.hasChildren())return _d(e);if(t){let n=e.children[Le]?El(e.children[Le],!1):"",r=[];return Object.entries(e.children).forEach(([s,c])=>{s!==Le&&r.push(`${s}:${El(c,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=U_(e,(r,s)=>s===Le?[El(e.children[Le],!1)]:[`${s}:${El(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Le]!=null?`${_d(e)}/${n[0]}`:`${_d(e)}/(${n.join("//")})`}}function nC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(e){return nC(e).replace(/%3B/gi,";")}function j_(e){return encodeURI(e)}function Wg(e){return nC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Td(e){return decodeURIComponent(e)}function Hv(e){return Td(e.replace(/\+/g,"%20"))}function rC(e){return`${Wg(e.path)}${H_(e.parameters)}`}function H_(e){return Object.entries(e).map(([t,n])=>`;${Wg(t)}=${Wg(n)}`).join("")}function z_(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(s=>`${Dd(n)}=${Dd(s)}`).join("&"):`${Dd(n)}=${Dd(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var G_=/^[^\/()?;#]+/;function Vg(e){let t=e.match(G_);return t?t[0]:""}var $_=/^[^\/()?;=#]+/;function W_(e){let t=e.match($_);return t?t[0]:""}var q_=/^[^=?&#]+/;function Y_(e){let t=e.match(q_);return t?t[0]:""}var Z_=/^[^&#]+/;function X_(e){let t=e.match(Z_);return t?t[0]:""}var qg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Le]=new lt(t,n)),r}parseSegment(){let t=Vg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(t),new jo(Td(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=W_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Vg(this.remaining);s&&(r=s,this.capture(r))}t[Td(n)]=Td(r)}parseQueryParam(t){let n=Y_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let f=X_(this.remaining);f&&(r=f,this.capture(r))}let s=Hv(n),c=Hv(r);if(t.hasOwnProperty(s)){let f=t[s];Array.isArray(f)||(f=[f],t[s]=f),f.push(c)}else t[s]=c}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vg(this.remaining),s=this.remaining[r.length];if(s!=="/"&&s!==")"&&s!==";")throw new se(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Le);let f=this.parseChildren();n[c]=Object.keys(f).length===1?f[Le]:new lt([],f),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new se(4011,!1)}};function iC(e){return e.segments.length>0?new lt([],{[Le]:e}):e}function oC(e){let t={};for(let[r,s]of Object.entries(e.children)){let c=oC(s);if(r===Le&&c.segments.length===0&&c.hasChildren())for(let[f,g]of Object.entries(c.children))t[f]=g;else(c.segments.length>0||c.hasChildren())&&(t[r]=c)}let n=new lt(e.segments,t);return Q_(n)}function Q_(e){if(e.numberOfChildren===1&&e.children[Le]){let t=e.children[Le];return new lt(e.segments.concat(t.segments),t.children)}return e}function zo(e){return e instanceof Ii}function K_(e,t,n=null,r=null){let s=sC(e);return aC(s,t,n,r)}function sC(e){let t;function n(c){let f={};for(let x of c.children){let v=n(x);f[x.outlet]=v}let g=new lt(c.url,f);return c===e&&(t=g),g}let r=n(e.root),s=iC(r);return t??s}function aC(e,t,n,r){let s=e;for(;s.parent;)s=s.parent;if(t.length===0)return jg(s,s,s,n,r);let c=J_(t);if(c.toRoot())return jg(s,s,new lt([],{}),n,r);let f=eT(c,s,e),g=f.processChildren?Il(f.segmentGroup,f.index,c.commands):cC(f.segmentGroup,f.index,c.commands);return jg(s,f.segmentGroup,g,n,r)}function Nd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Al(e){return typeof e=="object"&&e!=null&&e.outlets}function jg(e,t,n,r,s){let c={};r&&Object.entries(r).forEach(([x,v])=>{c[x]=Array.isArray(v)?v.map(A=>`${A}`):`${v}`});let f;e===t?f=n:f=lC(e,t,n);let g=iC(oC(f));return new Ii(g,c,s)}function lC(e,t,n){let r={};return Object.entries(e.children).forEach(([s,c])=>{c===t?r[s]=n:r[s]=lC(c,t,n)}),new lt(e.segments,r)}var Rd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Nd(r[0]))throw new se(4003,!1);let s=r.find(Al);if(s&&s!==Qv(r))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function J_(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Rd(!0,0,e);let t=0,n=!1,r=e.reduce((s,c,f)=>{if(typeof c=="object"&&c!=null){if(c.outlets){let g={};return Object.entries(c.outlets).forEach(([x,v])=>{g[x]=typeof v=="string"?v.split("/"):v}),[...s,{outlets:g}]}if(c.segmentPath)return[...s,c.segmentPath]}return typeof c!="string"?[...s,c]:f===0?(c.split("/").forEach((g,x)=>{x==0&&g==="."||(x==0&&g===""?n=!0:g===".."?t++:g!=""&&s.push(g))}),s):[...s,c]},[]);return new Rd(n,t,r)}var ia=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function eT(e,t,n){if(e.isAbsolute)return new ia(t,!0,0);if(!n)return new ia(t,!1,NaN);if(n.parent===null)return new ia(n,!0,0);let r=Nd(e.commands[0])?0:1,s=n.segments.length-1+r;return tT(n,s,e.numberOfDoubleDots)}function tT(e,t,n){let r=e,s=t,c=n;for(;c>s;){if(c-=s,r=r.parent,!r)throw new se(4005,!1);s=r.segments.length}return new ia(r,!1,s-c)}function nT(e){return Al(e[0])?e[0].outlets:{[Le]:e}}function cC(e,t,n){if(e??=new lt([],{}),e.segments.length===0&&e.hasChildren())return Il(e,t,n);let r=rT(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let c=new lt(e.segments.slice(0,r.pathIndex),{});return c.children[Le]=new lt(e.segments.slice(r.pathIndex),e.children),Il(c,0,s)}else return r.match&&s.length===0?new lt(e.segments,{}):r.match&&!e.hasChildren()?Yg(e,t,n):r.match?Il(e,0,s):Yg(e,t,n)}function Il(e,t,n){if(n.length===0)return new lt(e.segments,{});{let r=nT(n),s={};if(Object.keys(r).some(c=>c!==Le)&&e.children[Le]&&e.numberOfChildren===1&&e.children[Le].segments.length===0){let c=Il(e.children[Le],t,n);return new lt(e.segments,c.children)}return Object.entries(r).forEach(([c,f])=>{typeof f=="string"&&(f=[f]),f!==null&&(s[c]=cC(e.children[c],t,f))}),Object.entries(e.children).forEach(([c,f])=>{r[c]===void 0&&(s[c]=f)}),new lt(e.segments,s)}}function rT(e,t,n){let r=0,s=t,c={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return c;let f=e.segments[s],g=n[r];if(Al(g))break;let x=`${g}`,v=r<n.length-1?n[r+1]:null;if(s>0&&x===void 0)break;if(x&&v&&typeof v=="object"&&v.outlets===void 0){if(!Gv(x,v,f))return c;r+=2}else{if(!Gv(x,{},f))return c;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}function Yg(e,t,n){let r=e.segments.slice(0,t),s=0;for(;s<n.length;){let c=n[s];if(Al(c)){let x=iT(c.outlets);return new lt(r,x)}if(s===0&&Nd(n[0])){let x=e.segments[t];r.push(new jo(x.path,zv(n[0]))),s++;continue}let f=Al(c)?c.outlets[Le]:`${c}`,g=s<n.length-1?n[s+1]:null;f&&g&&Nd(g)?(r.push(new jo(f,zv(g))),s+=2):(r.push(new jo(f,{})),s++)}return new lt(r,{})}function iT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Yg(new lt([],{}),0,r))}),t}function zv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Gv(e,t,n){return e==n.path&&qr(t,n.parameters)}var Md="imperative",rn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(rn||{}),ar=class{id;url;constructor(t,n){this.id=t,this.url=n}},ca=class extends ar{type=rn.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",s=null){super(t,n),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Er=class extends ar{urlAfterRedirects;type=rn.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Qn||{}),Od=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Od||{}),bi=class extends ar{reason;code;type=rn.NavigationCancel;constructor(t,n,r,s){super(t,n),this.reason=r,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zi=class extends ar{reason;code;type=rn.NavigationSkipped;constructor(t,n,r,s){super(t,n),this.reason=r,this.code=s}},Sl=class extends ar{error;target;type=rn.NavigationError;constructor(t,n,r,s){super(t,n),this.error=r,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kd=class extends ar{urlAfterRedirects;state;type=rn.RoutesRecognized;constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zg=class extends ar{urlAfterRedirects;state;type=rn.GuardsCheckStart;constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xg=class extends ar{urlAfterRedirects;state;shouldActivate;type=rn.GuardsCheckEnd;constructor(t,n,r,s,c){super(t,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qg=class extends ar{urlAfterRedirects;state;type=rn.ResolveStart;constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class extends ar{urlAfterRedirects;state;type=rn.ResolveEnd;constructor(t,n,r,s){super(t,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jg=class{route;type=rn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},e0=class{route;type=rn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},t0=class{snapshot;type=rn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n0=class{snapshot;type=rn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r0=class{snapshot;type=rn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i0=class{snapshot;type=rn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{routerEvent;position;anchor;type=rn.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},_l=class{},ua=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function oT(e,t){return e.providers&&!e._injector&&(e._injector=sd(e.providers,t,`Route: ${e.path}`)),e._injector??t}function xr(e){return e.outlet||Le}function sT(e,t){let n=e.filter(r=>xr(r)===t);return n.push(...e.filter(r=>xr(r)!==t)),n}function Pl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var o0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pl(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ll(this.rootInjector)}},Ll=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new o0(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ge(En))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=s0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=s0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=a0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return a0(t,this._root).map(n=>n.value)}};function s0(e,t){if(e===t.value)return t;for(let n of t.children){let r=s0(e,n);if(r)return r}return null}function a0(e,t){if(e===t.value)return[t];for(let n of t.children){let r=a0(e,n);if(r.length)return r.unshift(t),r}return[]}var Xn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ra(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ld=class extends Pd{snapshot;constructor(t,n){super(t),this.snapshot=n,m0(this,t)}toString(){return this.snapshot.toString()}};function uC(e){let t=aT(e),n=new Jt([new jo("",{})]),r=new Jt({}),s=new Jt({}),c=new Jt({}),f=new Jt(""),g=new Yr(n,r,c,f,s,Le,e,t.root);return g.snapshot=t.root,new Ld(new Xn(g,[]),t)}function aT(e){let t={},n={},r={},s="",c=new oa([],t,r,s,n,Le,e,null,{});return new Ud("",new Xn(c,[]))}var Yr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,s,c,f,g,x){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=c,this.outlet=f,this.component=g,this._futureSnapshot=x,this.title=this.dataSubject?.pipe(Oe(v=>v[kl]))??xe(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(t=>aa(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(t=>aa(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bd(e,t,n="emptyOnly"){let r,{routeConfig:s}=e;return t!==null&&(n==="always"||s?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:re(re({},t.params),e.params),data:re(re({},t.data),e.data),resolve:re(re(re(re({},e.data),t.data),s?.data),e._resolvedData)}:r={params:re({},e.params),data:re({},e.data),resolve:re(re({},e.data),e._resolvedData??{})},s&&fC(s)&&(r.resolve[kl]=s.title),r}var oa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kl]}constructor(t,n,r,s,c,f,g,x,v){this.url=t,this.params=n,this.queryParams=r,this.fragment=s,this.data=c,this.outlet=f,this.component=g,this.routeConfig=x,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=aa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=aa(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ud=class extends Pd{url;constructor(t,n){super(n),this.url=t,m0(this,n)}toString(){return dC(this._root)}};function m0(e,t){t.value._routerState=e,t.children.forEach(n=>m0(e,n))}function dC(e){let t=e.children.length>0?` { ${e.children.map(dC).join(", ")} } `:"";return`${e.value}${t}`}function Hg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qr(t.params,n.params)||e.paramsSubject.next(n.params),k_(t.url,n.url)||e.urlSubject.next(n.url),qr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function l0(e,t){let n=qr(e.params,t.params)&&B_(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||l0(e.parent,t.parent))}function fC(e){return typeof e.title=="string"||e.title===null}var lT=new de(""),y0=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Le;activateEvents=new $t;deactivateEvents=new $t;attachEvents=new $t;detachEvents=new $t;routerOutletData=By(void 0);parentContexts=q(Ll);location=q(Gi);changeDetector=q($i);inputBinder=q(zd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=n;let s=this.location,f=n.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,x=new c0(n,g,s.injector,this.routerOutletData);this.activated=s.createComponent(f,{index:s.length,injector:x,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=en({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mi]})}return e})(),c0=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,s){this.route=t,this.childContexts=n,this.parent=r,this.outletData=s}get(t,n){return t===Yr?this.route:t===Ll?this.childContexts:t===lT?this.outletData:this.parent.get(t,n)}},zd=new de(""),$v=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=$a([r.queryParams,r.params,r.data]).pipe(an(([c,f,g],x)=>(g=re(re(re({},c),f),g),x===0?xe(g):Promise.resolve(g)))).subscribe(c=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let f=Kw(r.component);if(!f){this.unsubscribeFromRouteData(n);return}for(let{templateName:g}of f.inputs)n.activatedComponentRef.setInput(g,c[g])});this.outletDataSubscriptions.set(n,s)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function cT(e,t,n){let r=Tl(e,t._root,n?n._root:void 0);return new Ld(r,t)}function Tl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let s=uT(e,t,n);return new Xn(r,s)}else{if(e.shouldAttach(t.value)){let c=e.retrieve(t.value);if(c!==null){let f=c.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(g=>Tl(e,g)),f}}let r=dT(t.value),s=t.children.map(c=>Tl(e,c));return new Xn(r,s)}}function uT(e,t,n){return t.children.map(r=>{for(let s of n.children)if(e.shouldReuseRoute(r.value,s.value.snapshot))return Tl(e,r,s);return Tl(e,r)})}function dT(e){return new Yr(new Jt(e.url),new Jt(e.params),new Jt(e.queryParams),new Jt(e.fragment),new Jt(e.data),e.outlet,e.component,e)}var Ml=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},hC="ngNavigationCancelingError";function Vd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=zo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=pC(!1,Qn.Redirect);return s.url=n,s.navigationBehaviorOptions=r,s}function pC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[hC]=!0,n.cancellationCode=t,n}function fT(e){return gC(e)&&zo(e.url)}function gC(e){return!!e&&e[hC]}var hT=(e,t,n,r)=>Oe(s=>(new u0(t,s.targetRouterState,s.currentRouterState,n,r).activate(e),s)),u0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,s,c){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=c}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Hg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let s=ra(n);t.children.forEach(c=>{let f=c.value.outlet;this.deactivateRoutes(c,s[f],r),delete s[f]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,n,r){let s=t.value,c=n?n.value:null;if(s===c)if(s.component){let f=r.getContext(s.outlet);f&&this.deactivateChildRoutes(t,n,f.children)}else this.deactivateChildRoutes(t,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),s=r&&t.value.component?r.children:n,c=ra(t);for(let f of Object.values(c))this.deactivateRouteAndItsChildren(f,s);if(r&&r.outlet){let f=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:g})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),s=r&&t.value.component?r.children:n,c=ra(t);for(let f of Object.values(c))this.deactivateRouteAndItsChildren(f,s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let s=ra(n);t.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],r),this.forwardEvent(new i0(c.value.snapshot))}),t.children.length&&this.forwardEvent(new n0(t.value.snapshot))}activateRoutes(t,n,r){let s=t.value,c=n?n.value:null;if(Hg(s),s===c)if(s.component){let f=r.getOrCreateContext(s.outlet);this.activateChildRoutes(t,n,f.children)}else this.activateChildRoutes(t,n,r);else if(s.component){let f=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(g.contexts),f.attachRef=g.componentRef,f.route=g.route.value,f.outlet&&f.outlet.attach(g.componentRef,g.route.value),Hg(g.route.value),this.activateChildRoutes(t,null,f.children)}else f.attachRef=null,f.route=s,f.outlet&&f.outlet.activateWith(s,f.injector),this.activateChildRoutes(t,null,f.children)}else this.activateChildRoutes(t,null,r)}},jd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},sa=class{component;route;constructor(t,n){this.component=t,this.route=n}};function pT(e,t,n){let r=e._root,s=t?t._root:null;return bl(r,s,n,[r.value])}function gT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ha(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!M1(e)?e:t.get(e):r}function bl(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){let c=ra(t);return e.children.forEach(f=>{mT(f,c[f.value.outlet],n,r.concat([f.value]),s),delete c[f.value.outlet]}),Object.entries(c).forEach(([f,g])=>Dl(g,n.getContext(f),s)),s}function mT(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){let c=e.value,f=t?t.value:null,g=n?n.getContext(e.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){let x=yT(f,c,c.routeConfig.runGuardsAndResolvers);x?s.canActivateChecks.push(new jd(r)):(c.data=f.data,c._resolvedData=f._resolvedData),c.component?bl(e,t,g?g.children:null,r,s):bl(e,t,n,r,s),x&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new sa(g.outlet.component,f))}else f&&Dl(t,g,s),s.canActivateChecks.push(new jd(r)),c.component?bl(e,null,g?g.children:null,r,s):bl(e,null,n,r,s);return s}function yT(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ho(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ho(e.url,t.url)||!qr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l0(e,t)||!qr(e.queryParams,t.queryParams);case"paramsChange":default:return!l0(e,t)}}function Dl(e,t,n){let r=ra(e),s=e.value;Object.entries(r).forEach(([c,f])=>{s.component?t?Dl(f,t.children.getContext(c),n):Dl(f,null,n):Dl(f,t,n)}),s.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new sa(t.outlet.component,s)):n.canDeactivateChecks.push(new sa(null,s)):n.canDeactivateChecks.push(new sa(null,s))}function Bl(e){return typeof e=="function"}function wT(e){return typeof e=="boolean"}function vT(e){return e&&Bl(e.canLoad)}function CT(e){return e&&Bl(e.canActivate)}function xT(e){return e&&Bl(e.canActivateChild)}function ET(e){return e&&Bl(e.canDeactivate)}function bT(e){return e&&Bl(e.canMatch)}function mC(e){return e instanceof si||e?.name==="EmptyError"}var Ad=Symbol("INITIAL_VALUE");function da(){return an(e=>$a(e.map(t=>t.pipe(li(1),gh(Ad)))).pipe(Oe(t=>{for(let n of t)if(n!==!0){if(n===Ad)return Ad;if(n===!1||IT(n))return n}return!0}),Nn(t=>t!==Ad),li(1)))}function IT(e){return zo(e)||e instanceof Ml}function DT(e,t){return zt(n=>{let{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:f}}=n;return f.length===0&&c.length===0?xe(qe(re({},n),{guardsResult:!0})):AT(f,r,s,e).pipe(zt(g=>g&&wT(g)?ST(r,c,e,t):xe(g)),Oe(g=>qe(re({},n),{guardsResult:g})))})}function AT(e,t,n,r){return yt(e).pipe(zt(s=>RT(s.component,s.route,n,t,r)),ci(s=>s!==!0,!0))}function ST(e,t,n,r){return yt(t).pipe(ai(s=>xs(TT(s.route.parent,r),_T(s.route,r),NT(e,s.path,n),MT(e,s.route,n))),ci(s=>s!==!0,!0))}function _T(e,t){return e!==null&&t&&t(new r0(e)),xe(!0)}function TT(e,t){return e!==null&&t&&t(new t0(e)),xe(!0)}function MT(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return xe(!0);let s=r.map(c=>au(()=>{let f=Pl(t)??n,g=ha(c,f),x=CT(g)?g.canActivate(t,e):Fn(f,()=>g(t,e));return Xi(x).pipe(ci())}));return xe(s).pipe(da())}function NT(e,t,n){let r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>gT(f)).filter(f=>f!==null).map(f=>au(()=>{let g=f.guards.map(x=>{let v=Pl(f.node)??n,A=ha(x,v),D=xT(A)?A.canActivateChild(r,e):Fn(v,()=>A(r,e));return Xi(D).pipe(ci())});return xe(g).pipe(da())}));return xe(c).pipe(da())}function RT(e,t,n,r,s){let c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||c.length===0)return xe(!0);let f=c.map(g=>{let x=Pl(t)??s,v=ha(g,x),A=ET(v)?v.canDeactivate(e,t,n,r):Fn(x,()=>v(e,t,n,r));return Xi(A).pipe(ci())});return xe(f).pipe(da())}function OT(e,t,n,r){let s=t.canLoad;if(s===void 0||s.length===0)return xe(!0);let c=s.map(f=>{let g=ha(f,e),x=vT(g)?g.canLoad(t,n):Fn(e,()=>g(t,n));return Xi(x)});return xe(c).pipe(da(),yC(r))}function yC(e){return ih(Gt(t=>{if(typeof t!="boolean")throw Vd(e,t)}),Oe(t=>t===!0))}function kT(e,t,n,r){let s=t.canMatch;if(!s||s.length===0)return xe(!0);let c=s.map(f=>{let g=ha(f,e),x=bT(g)?g.canMatch(t,n):Fn(e,()=>g(t,n));return Xi(x)});return xe(c).pipe(da(),yC(r))}var Nl=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Rl=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function na(e){return rr(new Nl(e))}function FT(e){return rr(new se(4e3,!1))}function PT(e){return rr(pC(!1,Qn.GuardRejected))}var d0=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),s.numberOfChildren===0)return xe(r);if(s.numberOfChildren>1||!s.children[Le])return FT(`${t.redirectTo}`);s=s.children[Le]}}applyRedirectCommands(t,n,r,s,c){if(typeof n!="string"){let g=n,{queryParams:x,fragment:v,routeConfig:A,url:D,outlet:U,params:R,data:G,title:X}=s,W=Fn(c,()=>g({params:R,data:G,queryParams:x,fragment:v,routeConfig:A,url:D,outlet:U,title:X}));if(W instanceof Ii)throw new Rl(W);n=W}let f=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Rl(f);return f}applyRedirectCreateUrlTree(t,n,r,s){let c=this.createSegmentGroup(t,n.root,r,s);return new Ii(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([s,c])=>{if(typeof c=="string"&&c[0]===":"){let g=c.substring(1);r[s]=n[g]}else r[s]=c}),r}createSegmentGroup(t,n,r,s){let c=this.createSegments(t,n.segments,r,s),f={};return Object.entries(n.children).forEach(([g,x])=>{f[g]=this.createSegmentGroup(t,x,r,s)}),new lt(c,f)}createSegments(t,n,r,s){return n.map(c=>c.path[0]===":"?this.findPosParam(t,c,s):this.findOrReturn(c,r))}findPosParam(t,n,r){let s=r[n.path.substring(1)];if(!s)throw new se(4001,!1);return s}findOrReturn(t,n){let r=0;for(let s of n){if(s.path===t.path)return n.splice(r),s;r++}return t}},f0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LT(e,t,n,r,s){let c=wC(e,t,n);return c.matched?(r=oT(t,r),kT(r,t,n,s).pipe(Oe(f=>f===!0?c:re({},f0)))):xe(c)}function wC(e,t,n){if(t.path==="**")return BT(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?re({},f0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let s=(t.matcher||O_)(n,e,t);if(!s)return re({},f0);let c={};Object.entries(s.posParams??{}).forEach(([g,x])=>{c[g]=x.path});let f=s.consumed.length>0?re(re({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:f,positionalParamSegments:s.posParams??{}}}function BT(e){return{matched:!0,parameters:e.length>0?Qv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Wv(e,t,n,r){return n.length>0&&jT(e,n,r)?{segmentGroup:new lt(t,VT(r,new lt(n,e.children))),slicedSegments:[]}:n.length===0&&HT(e,n,r)?{segmentGroup:new lt(e.segments,UT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new lt(e.segments,e.children),slicedSegments:n}}function UT(e,t,n,r){let s={};for(let c of n)if(Gd(e,t,c)&&!r[xr(c)]){let f=new lt([],{});s[xr(c)]=f}return re(re({},r),s)}function VT(e,t){let n={};n[Le]=t;for(let r of e)if(r.path===""&&xr(r)!==Le){let s=new lt([],{});n[xr(r)]=s}return n}function jT(e,t,n){return n.some(r=>Gd(e,t,r)&&xr(r)!==Le)}function HT(e,t,n){return n.some(r=>Gd(e,t,r))}function Gd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zT(e,t,n){return t.length===0&&!e.children[n]}var h0=class{};function GT(e,t,n,r,s,c,f="emptyOnly"){return new p0(e,t,n,r,s,f,c).recognize()}var $T=31,p0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,s,c,f,g){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=f,this.urlSerializer=g,this.applyRedirects=new d0(this.urlSerializer,this.urlTree)}noMatchError(t){return new se(4002,`'${t.segmentGroup}'`)}recognize(){let t=Wv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Oe(({children:n,rootSnapshot:r})=>{let s=new Xn(r,n),c=new Ud("",s),f=K_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(f),{state:c,tree:f}}))}match(t){let n=new oa([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Le,n).pipe(Oe(r=>({children:r,rootSnapshot:n})),Cn(r=>{if(r instanceof Rl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Nl?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,s,c){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,c):this.processSegment(t,n,r,r.segments,s,!0,c).pipe(Oe(f=>f instanceof Xn?[f]:[]))}processChildren(t,n,r,s){let c=[];for(let f of Object.keys(r.children))f==="primary"?c.unshift(f):c.push(f);return yt(c).pipe(ai(f=>{let g=r.children[f],x=sT(n,f);return this.processSegmentGroup(t,x,g,f,s)}),ph((f,g)=>(f.push(...g),f)),Ui(null),hh(),zt(f=>{if(f===null)return na(r);let g=vC(f);return WT(g),xe(g)}))}processSegment(t,n,r,s,c,f,g){return yt(n).pipe(ai(x=>this.processSegmentAgainstRoute(x._injector??t,n,x,r,s,c,f,g).pipe(Cn(v=>{if(v instanceof Nl)return xe(null);throw v}))),ci(x=>!!x),Cn(x=>{if(mC(x))return zT(r,s,c)?xe(new h0):na(r);throw x}))}processSegmentAgainstRoute(t,n,r,s,c,f,g,x){return xr(r)!==f&&(f===Le||!Gd(s,c,r))?na(s):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,s,r,c,f,x):this.allowRedirects&&g?this.expandSegmentAgainstRouteUsingRedirect(t,s,n,r,c,f,x):na(s)}expandSegmentAgainstRouteUsingRedirect(t,n,r,s,c,f,g){let{matched:x,parameters:v,consumedSegments:A,positionalParamSegments:D,remainingSegments:U}=wC(n,s,c);if(!x)return na(n);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$T&&(this.allowRedirects=!1));let R=new oa(c,v,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,qv(s),xr(s),s.component??s._loadedComponent??null,s,Yv(s)),G=Bd(R,g,this.paramsInheritanceStrategy);R.params=Object.freeze(G.params),R.data=Object.freeze(G.data);let X=this.applyRedirects.applyRedirectCommands(A,s.redirectTo,D,R,t);return this.applyRedirects.lineralizeSegments(s,X).pipe(zt(W=>this.processSegment(t,r,n,W.concat(U),f,!1,g)))}matchSegmentAgainstRoute(t,n,r,s,c,f){let g=LT(n,r,s,t,this.urlSerializer);return r.path==="**"&&(n.children={}),g.pipe(an(x=>x.matched?(t=r._injector??t,this.getChildConfig(t,r,s).pipe(an(({routes:v})=>{let A=r._loadedInjector??t,{parameters:D,consumedSegments:U,remainingSegments:R}=x,G=new oa(U,D,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,qv(r),xr(r),r.component??r._loadedComponent??null,r,Yv(r)),X=Bd(G,f,this.paramsInheritanceStrategy);G.params=Object.freeze(X.params),G.data=Object.freeze(X.data);let{segmentGroup:W,slicedSegments:Q}=Wv(n,U,R,v);if(Q.length===0&&W.hasChildren())return this.processChildren(A,v,W,G).pipe(Oe(Ze=>new Xn(G,Ze)));if(v.length===0&&Q.length===0)return xe(new Xn(G,[]));let ye=xr(r)===c;return this.processSegment(A,v,W,Q,ye?Le:c,!0,G).pipe(Oe(Ze=>new Xn(G,Ze instanceof Xn?[Ze]:[])))}))):na(n)))}getChildConfig(t,n,r){return n.children?xe({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?xe({routes:n._loadedRoutes,injector:n._loadedInjector}):OT(t,n,r,this.urlSerializer).pipe(zt(s=>s?this.configLoader.loadChildren(t,n).pipe(Gt(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):PT(n))):xe({routes:[],injector:t})}};function WT(e){e.sort((t,n)=>t.value.outlet===Le?-1:n.value.outlet===Le?1:t.value.outlet.localeCompare(n.value.outlet))}function qT(e){let t=e.value.routeConfig;return t&&t.path===""}function vC(e){let t=[],n=new Set;for(let r of e){if(!qT(r)){t.push(r);continue}let s=t.find(c=>r.value.routeConfig===c.value.routeConfig);s!==void 0?(s.children.push(...r.children),n.add(s)):t.push(r)}for(let r of n){let s=vC(r.children);t.push(new Xn(r.value,s))}return t.filter(r=>!n.has(r))}function qv(e){return e.data||{}}function Yv(e){return e.resolve||{}}function YT(e,t,n,r,s,c){return zt(f=>GT(e,t,n,r,f.extractedUrl,s,c).pipe(Oe(({state:g,tree:x})=>qe(re({},f),{targetSnapshot:g,urlAfterRedirects:x}))))}function ZT(e,t){return zt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return xe(n);let c=new Set(s.map(x=>x.route)),f=new Set;for(let x of c)if(!f.has(x))for(let v of CC(x))f.add(v);let g=0;return yt(f).pipe(ai(x=>c.has(x)?XT(x,r,e,t):(x.data=Bd(x,x.parent,e).resolve,xe(void 0))),Gt(()=>g++),Es(1),zt(x=>g===f.size?xe(n):Tn))})}function CC(e){let t=e.children.map(n=>CC(n)).flat();return[e,...t]}function XT(e,t,n,r){let s=e.routeConfig,c=e._resolve;return s?.title!==void 0&&!fC(s)&&(c[kl]=s.title),QT(c,e,t,r).pipe(Oe(f=>(e._resolvedData=f,e.data=Bd(e,e.parent,n).resolve,null)))}function QT(e,t,n,r){let s=$g(e);if(s.length===0)return xe({});let c={};return yt(s).pipe(zt(f=>KT(e[f],t,n,r).pipe(ci(),Gt(g=>{if(g instanceof Ml)throw Vd(new la,g);c[f]=g}))),Es(1),Oe(()=>c),Cn(f=>mC(f)?Tn:rr(f)))}function KT(e,t,n,r){let s=Pl(t)??r,c=ha(e,s),f=c.resolve?c.resolve(t,n):Fn(s,()=>c(t,n));return Xi(f)}function zg(e){return an(t=>{let n=e(t);return n?yt(n).pipe(Oe(()=>t)):xe(t)})}var xC=(()=>{class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===Le);return r}getResolvedTitleForRoute(n){return n.data[kl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>q(JT),providedIn:"root"})}return e})(),JT=(()=>{class e extends xC{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ge(Vv))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ul=new de("",{providedIn:"root",factory:()=>({})}),eM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,s){r&1&&De(0,"router-outlet")},dependencies:[y0],encapsulation:2})}return e})();function w0(e){let t=e.children&&e.children.map(w0),n=t?qe(re({},e),{children:t}):re({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Le&&(n.component=eM),n}var Ol=new de(""),v0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=q(hd);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return xe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Xi(n.loadComponent()).pipe(Oe(EC),Gt(c=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=c}),xo(()=>{this.componentLoaders.delete(n)})),s=new vs(r,()=>new _t).pipe(ws());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let c=tM(r,this.compiler,n,this.onLoadEndListener).pipe(xo(()=>{this.childrenLoaders.delete(r)})),f=new vs(c,()=>new _t).pipe(ws());return this.childrenLoaders.set(r,f),f}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tM(e,t,n,r){return Xi(e.loadChildren()).pipe(Oe(EC),zt(s=>s instanceof ug||Array.isArray(s)?xe(s):yt(t.compileModuleAsync(s))),Oe(s=>{r&&r(e);let c,f,g=!1;return Array.isArray(s)?(f=s,g=!0):(c=s.create(n).injector,f=c.get(Ol,[],{optional:!0,self:!0}).flat()),{routes:f.map(w0),injector:c}}))}function nM(e){return e&&typeof e=="object"&&"default"in e}function EC(e){return nM(e)?e.default:e}var C0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>q(rM),providedIn:"root"})}return e})(),rM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bC=new de(""),IC=new de("");function iM(e,t,n){let r=e.get(IC),s=e.get(yn);return e.get(kt).runOutsideAngular(()=>{if(!s.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(v=>setTimeout(v));let c,f=new Promise(v=>{c=v}),g=s.startViewTransition(()=>(c(),oM(e))),{onViewTransitionCreated:x}=r;return x&&Fn(e,()=>x({transition:g,from:t,to:n})),f})}function oM(e){return new Promise(t=>{Wp({read:()=>setTimeout(t)},{injector:e})})}var DC=new de(""),x0=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _t;transitionAbortSubject=new _t;configLoader=q(v0);environmentInjector=q(En);destroyRef=q(al);urlSerializer=q(Fl);rootContexts=q(Ll);location=q(ea);inputBindingEnabled=q(zd,{optional:!0})!==null;titleStrategy=q(xC);options=q(Ul,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=q(C0);createViewTransition=q(bC,{optional:!0});navigationErrorHandler=q(DC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>xe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=s=>this.events.next(new Jg(s)),r=s=>this.events.next(new e0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(qe(re({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Jt(null),this.transitions.pipe(Nn(r=>r!==null),an(r=>{let s=!1,c=!1;return xe(r).pipe(an(f=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qn.SupersededByNewNavigation),Tn;this.currentTransition=r,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,targetBrowserUrl:typeof f.extras.browserUrl=="string"?this.urlSerializer.parse(f.extras.browserUrl):f.extras.browserUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?qe(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let g=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),x=f.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!g&&x!=="reload"){let v="";return this.events.next(new Zi(f.id,this.urlSerializer.serialize(f.rawUrl),v,Od.IgnoredSameUrlNavigation)),f.resolve(!1),Tn}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return xe(f).pipe(an(v=>(this.events.next(new ca(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),v.id!==this.navigationId?Tn:Promise.resolve(v))),YT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Gt(v=>{r.targetSnapshot=v.targetSnapshot,r.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=qe(re({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let A=new kd(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(A)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:v,extractedUrl:A,source:D,restoredState:U,extras:R}=f,G=new ca(v,this.urlSerializer.serialize(A),D,U);this.events.next(G);let X=uC(this.rootComponentType).snapshot;return this.currentTransition=r=qe(re({},f),{targetSnapshot:X,urlAfterRedirects:A,extras:qe(re({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=A,xe(r)}else{let v="";return this.events.next(new Zi(f.id,this.urlSerializer.serialize(f.extractedUrl),v,Od.IgnoredByUrlHandlingStrategy)),f.resolve(!1),Tn}}),Gt(f=>{let g=new Zg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Oe(f=>(this.currentTransition=r=qe(re({},f),{guards:pT(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),r)),DT(this.environmentInjector,f=>this.events.next(f)),Gt(f=>{if(r.guardsResult=f.guardsResult,f.guardsResult&&typeof f.guardsResult!="boolean")throw Vd(this.urlSerializer,f.guardsResult);let g=new Xg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(g)}),Nn(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Qn.GuardRejected),!1)),zg(f=>{if(f.guards.canActivateChecks.length!==0)return xe(f).pipe(Gt(g=>{let x=new Qg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(x)}),an(g=>{let x=!1;return xe(g).pipe(ZT(this.paramsInheritanceStrategy,this.environmentInjector),Gt({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(g,"",Qn.NoDataFromResolver)}}))}),Gt(g=>{let x=new Kg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(x)}))}),zg(f=>{let g=x=>{let v=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(x.routeConfig).pipe(Gt(A=>{x.component=A}),Oe(()=>{})));for(let A of x.children)v.push(...g(A));return v};return $a(g(f.targetSnapshot.root)).pipe(Ui(null),li(1))}),zg(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:f,targetSnapshot:g}=r,x=this.createViewTransition?.(this.environmentInjector,f.root,g.root);return x?yt(x).pipe(Oe(()=>r)):xe(r)}),Oe(f=>{let g=cT(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=r=qe(re({},f),{targetRouterState:g}),this.currentNavigation.targetRouterState=g,r}),Gt(()=>{this.events.next(new _l)}),hT(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),li(1),Gt({next:f=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{s=!0}}),Wa(this.transitionAbortSubject.pipe(Gt(f=>{throw f}))),xo(()=>{!s&&!c&&this.cancelNavigationTransition(r,"",Qn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Cn(f=>{if(this.destroyed)return r.resolve(!1),Tn;if(c=!0,gC(f))this.events.next(new bi(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode)),fT(f)?this.events.next(new ua(f.url,f.navigationBehaviorOptions)):r.resolve(!1);else{let g=new Sl(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);try{let x=Fn(this.environmentInjector,()=>this.navigationErrorHandler?.(g));if(x instanceof Ml){let{message:v,cancellationCode:A}=Vd(this.urlSerializer,x);this.events.next(new bi(r.id,this.urlSerializer.serialize(r.extractedUrl),v,A)),this.events.next(new ua(x.redirectTo,x.navigationBehaviorOptions))}else throw this.events.next(g),f}catch(x){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(x)}}return Tn}))}))}cancelNavigationTransition(n,r,s){let c=new bi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(c),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sM(e){return e!==Md}var aM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>q(lM),providedIn:"root"})}return e})(),g0=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},lM=(()=>{class e extends g0{static \u0275fac=(()=>{let n;return function(s){return(n||(n=sl(e)))(s||e)}})();static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>q(cM),providedIn:"root"})}return e})(),cM=(()=>{class e extends AC{location=q(ea);urlSerializer=q(Fl);options=q(Ul,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=q(C0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ii;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=uC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ca)this.stateMemento=this.createStateMemento();else if(n instanceof Zi)this.rawUrlTree=r.initialUrl;else if(n instanceof kd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else n instanceof _l?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof bi&&(n.code===Qn.GuardRejected||n.code===Qn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Sl?this.restoreHistory(r,!0):n instanceof Er&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=n instanceof Ii?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let c=this.browserPageId,f=re(re({},r.extras.state),this.generateNgRouterState(r.id,c));this.location.replaceState(s,"",f)}else{let c=re(re({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,c=this.currentPageId-s;c!==0?this.location.historyGo(c):this.currentUrlTree===n.finalUrl&&c===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(s){return(n||(n=sl(e)))(s||e)}})();static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SC(e,t){e.events.pipe(Nn(n=>n instanceof Er||n instanceof bi||n instanceof Sl||n instanceof Zi),Oe(n=>n instanceof Er||n instanceof Zi?0:(n instanceof bi?n.code===Qn.Redirect||n.code===Qn.SupersededByNewNavigation:!1)?2:1),Nn(n=>n!==2),li(1)).subscribe(()=>{t()})}var uM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=q(dg);stateManager=q(AC);options=q(Ul,{optional:!0})||{};pendingTasks=q(zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=q(x0);urlSerializer=q(Fl);location=q(ea);urlHandlingStrategy=q(C0);_events=new _t;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=q(aM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=q(Ol,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!q(zd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ot;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(s!==null&&c!==null){if(this.stateManager.handleRouterEvent(r,c),r instanceof bi&&r.code!==Qn.Redirect&&r.code!==Qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Er)this.navigated=!0;else if(r instanceof ua){let f=r.navigationBehaviorOptions,g=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),x=re({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sM(s.source)},f);this.scheduleNavigation(g,Md,null,x,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}hM(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Md,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let c={replaceUrl:!0},f=s?.navigationId?s:null;if(s){let x=re({},s);delete x.navigationId,delete x.\u0275routerPageId,Object.keys(x).length!==0&&(c.state=x)}let g=this.parseUrl(n);this.scheduleNavigation(g,r,f,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(w0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:c,fragment:f,queryParamsHandling:g,preserveFragment:x}=r,v=x?this.currentUrlTree.fragment:f,A=null;switch(g??this.options.defaultQueryParamsHandling){case"merge":A=re(re({},this.currentUrlTree.queryParams),c);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}A!==null&&(A=this.removeEmptyProps(A));let D;try{let U=s?s.snapshot:this.routerState.snapshot.root;D=sC(U)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),D=this.currentUrlTree.root}return aC(D,n,A,v??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=zo(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Md,null,r)}navigate(n,r={skipLocationChange:!1}){return fM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=re({},uM):r===!1?s=re({},dM):s=r,zo(n))return jv(this.currentUrlTree,n,s);let c=this.parseUrl(n);return jv(this.currentUrlTree,c,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,c])=>(c!=null&&(r[s]=c),r),{})}scheduleNavigation(n,r,s,c,f){if(this.disposed)return Promise.resolve(!1);let g,x,v;f?(g=f.resolve,x=f.reject,v=f.promise):v=new Promise((D,U)=>{g=D,x=U});let A=this.pendingTasks.add();return SC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:c,resolve:g,reject:x,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new se(4008,!1)}function hM(e){return!(e instanceof _l)&&!(e instanceof ua)}var fa=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _t;constructor(n,r,s,c,f,g){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=c,this.el=f,this.locationStrategy=g;let x=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement=x==="a"||x==="area",this.isAnchorElement?this.subscription=n.events.subscribe(v=>{v instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(zo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,s,c,f){let g=this.urlTree;if(g===null||this.isAnchorElement&&(n!==0||r||s||c||f||typeof this.target=="string"&&this.target!="_self"))return!0;let x={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(g,x),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Ky(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,c=this.el.nativeElement;r!==null?s.setAttribute(c,n,r):s.removeAttribute(c,n)}get urlTree(){return this.routerLinkInput===null?null:zo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(ce(cn),ce(Yr),Up("tabindex"),ce(Gr),ce(Pn),ce(xi))};static \u0275dir=en({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Mt("click",function(f){return s.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),r&2&&ld("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vo],replaceUrl:[2,"replaceUrl","replaceUrl",Vo],routerLink:"routerLink"},features:[mi]})}return e})(),_C=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new $t;constructor(n,r,s,c,f){this.router=n,this.element=r,this.renderer=s,this.cdr=c,this.link=f,this.routerEventsSubscription=n.events.subscribe(g=>{g instanceof Er&&this.update()})}ngAfterContentInit(){xe(this.links.changes,xe(null)).pipe(Bi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=yt(n).pipe(Bi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=pM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let c=s.urlTree;return c?n.isActive(c,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(ce(cn),ce(Pn),ce(Gr),ce($i),ce(fa,8))};static \u0275dir=en({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,c){if(r&1&&jw(c,fa,5),r&2){let f;Zs(f=Xs())&&(s.links=f)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mi]})}return e})();function pM(e){return!!e.paths}var Hd=class{};var gM=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,s,c,f){this.router=n,this.injector=s,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(n=>n instanceof Er),ai(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let c of r){c.providers&&!c._injector&&(c._injector=sd(c.providers,n,`Route: ${c.path}`));let f=c._injector??n,g=c._loadedInjector??f;(c.loadChildren&&!c._loadedRoutes&&c.canLoad===void 0||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(f,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(g,c.children??c._loadedRoutes))}return yt(s).pipe(Bi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=xe(null);let c=s.pipe(zt(f=>f===null?xe(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??n,f.routes))));if(r.loadComponent&&!r._loadedComponent){let f=this.loader.loadComponent(r);return yt([c,f]).pipe(Bi())}else return c})}static \u0275fac=function(r){return new(r||e)(ge(cn),ge(hd),ge(En),ge(Hd),ge(v0))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TC=new de(""),mM=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,s,c,f={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=f,f.scrollPositionRestoration||="disabled",f.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ca?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Er?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zi&&n.code===Od.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Iw()};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function MC(e,...t){return js([{provide:Ol,multi:!0,useValue:e},[],{provide:Yr,useFactory:NC,deps:[cn]},{provide:ul,multi:!0,useFactory:RC},t.map(n=>n.\u0275providers)])}function NC(e){return e.routerState.root}function Vl(e,t){return{\u0275kind:e,\u0275providers:t}}function RC(){let e=q(bn);return t=>{let n=e.get(hi);if(t!==n.components[0])return;let r=e.get(cn),s=e.get(OC);e.get(E0)===1&&r.initialNavigation(),e.get(kC,null,je.Optional)?.setUpPreloading(),e.get(TC,null,je.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var OC=new de("",{factory:()=>new _t}),E0=new de("",{providedIn:"root",factory:()=>1});function yM(){return Vl(2,[{provide:E0,useValue:0},{provide:ad,multi:!0,deps:[bn],useFactory:t=>{let n=t.get(sv,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let s=t.get(cn),c=t.get(OC);SC(s,()=>{r(!0)}),t.get(x0).afterPreactivation=()=>(r(!0),c.closed?xe(void 0):c),s.initialNavigation()}))}}])}function wM(){return Vl(3,[{provide:ad,multi:!0,useFactory:()=>{let t=q(cn);return()=>{t.setUpLocationChangeListener()}}},{provide:E0,useValue:2}])}var kC=new de("");function vM(e){return Vl(0,[{provide:kC,useExisting:gM},{provide:Hd,useExisting:e}])}function CM(){return Vl(8,[$v,{provide:zd,useExisting:$v}])}function xM(e){let t=[{provide:bC,useValue:iM},{provide:IC,useValue:re({skipNextTransition:!!e?.skipInitialTransition},e)}];return Vl(9,t)}var EM=[ea,{provide:Fl,useClass:la},cn,Ll,{provide:Yr,useFactory:NC,deps:[cn]},v0,[]],pa=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[EM,[],{provide:Ol,multi:!0,useValue:n},[],r?.errorHandler?{provide:DC,useValue:r.errorHandler}:[],{provide:Ul,useValue:r||{}},r?.useHash?IM():DM(),bM(),r?.preloadingStrategy?vM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?AM(r):[],r?.bindToComponentInputs?CM().\u0275providers:[],r?.enableViewTransitions?xM().\u0275providers:[],SM()]}}static forChild(n){return{ngModule:e,providers:[{provide:Ol,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=$r({type:e});static \u0275inj=Ur({})}return e})();function bM(){return{provide:TC,useFactory:()=>{let e=q(dv),t=q(kt),n=q(Ul),r=q(x0),s=q(Fl);return n.scrollOffset&&e.setOffset(n.scrollOffset),new mM(s,r,e,t,n)}}}function IM(){return{provide:xi,useClass:lv}}function DM(){return{provide:xi,useClass:Eg}}function AM(e){return[e.initialNavigation==="disabled"?wM().\u0275providers:[],e.initialNavigation==="enabledBlocking"?yM().\u0275providers:[]]}var Zv=new de("");function SM(){return[{provide:Zv,useFactory:RC},{provide:ul,multi:!0,useExisting:Zv}]}var zC=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(ce(Gr),ce(Pn))};static \u0275dir=en({type:e})}return e})(),GC=(()=>{class e extends zC{static \u0275fac=(()=>{let n;return function(s){return(n||(n=sl(e)))(s||e)}})();static \u0275dir=en({type:e,features:[Wr]})}return e})(),Jd=new de("");var _M={provide:Jd,useExisting:Hi(()=>wa),multi:!0};function TM(){let e=Ci()?Ci().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var MM=new de(""),wa=(()=>{class e extends zC{_compositionMode;_composing=!1;constructor(n,r,s){super(n,r),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!TM())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(ce(Gr),ce(Pn),ce(MM,8))};static \u0275dir=en({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Mt("input",function(f){return s._handleInput(f.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(f){return s._compositionEnd(f.target.value)})},standalone:!1,features:[Qs([_M]),Wr]})}return e})();function T0(e){return e==null||M0(e)===0}function M0(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var N0=new de(""),R0=new de(""),NM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Go=class{static min(t){return RM(t)}static max(t){return OM(t)}static required(t){return kM(t)}static requiredTrue(t){return FM(t)}static email(t){return PM(t)}static minLength(t){return LM(t)}static maxLength(t){return BM(t)}static pattern(t){return UM(t)}static nullValidator(t){return $C()}static compose(t){return QC(t)}static composeAsync(t){return JC(t)}};function RM(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function OM(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function kM(e){return T0(e.value)?{required:!0}:null}function FM(e){return e.value===!0?null:{required:!0}}function PM(e){return T0(e.value)||NM.test(e.value)?null:{email:!0}}function LM(e){return t=>{let n=t.value?.length??M0(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function BM(e){return t=>{let n=t.value?.length??M0(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function UM(e){if(!e)return $C;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(T0(r.value))return null;let s=r.value;return t.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}function $C(e){return null}function WC(e){return e!=null}function qC(e){return Bo(e)?yt(e):e}function YC(e){let t={};return e.forEach(n=>{t=n!=null?re(re({},t),n):t}),Object.keys(t).length===0?null:t}function ZC(e,t){return t.map(n=>n(e))}function VM(e){return!e.validate}function XC(e){return e.map(t=>VM(t)?t:n=>t.validate(n))}function QC(e){if(!e)return null;let t=e.filter(WC);return t.length==0?null:function(n){return YC(ZC(n,t))}}function KC(e){return e!=null?QC(XC(e)):null}function JC(e){if(!e)return null;let t=e.filter(WC);return t.length==0?null:function(n){let r=ZC(n,t).map(qC);return uh(r).pipe(Oe(YC))}}function ex(e){return e!=null?JC(XC(e)):null}function FC(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function tx(e){return e._rawValidators}function nx(e){return e._rawAsyncValidators}function b0(e){return e?Array.isArray(e)?e:[e]:[]}function Wd(e,t){return Array.isArray(e)?e.includes(t):e===t}function PC(e,t){let n=b0(t);return b0(e).forEach(s=>{Wd(n,s)||n.push(s)}),n}function LC(e,t){return b0(t).filter(n=>!Wd(e,n))}var qd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},$o=class extends qd{name;get formDirective(){return null}get path(){return null}},Qi=class extends qd{_parent=null;name=null;valueAccessor=null},Yd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},BL=qe(re({},jM),{"[class.ng-submitted]":"isSubmitted"}),ef=(()=>{class e extends Yd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ce(Qi,2))};static \u0275dir=en({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ys("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[Wr]})}return e})(),rx=(()=>{class e extends Yd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ce($o,10))};static \u0275dir=en({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Ys("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},standalone:!1,features:[Wr]})}return e})();var Hl="VALID",$d="INVALID",ga="PENDING",zl="DISABLED",Ki=class{},Zd=class extends Ki{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Gl=class extends Ki{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},$l=class extends Ki{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ma=class extends Ki{status;source;constructor(t,n){super(),this.status=t,this.source=n}},I0=class extends Ki{source;constructor(t){super(),this.source=t}},D0=class extends Ki{source;constructor(t){super(),this.source=t}};function O0(e){return(tf(e)?e.validators:e)||null}function HM(e){return Array.isArray(e)?KC(e):e||null}function k0(e,t){return(tf(t)?t.asyncValidators:e)||null}function zM(e){return Array.isArray(e)?ex(e):e||null}function tf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function ix(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new se(1e3,"");if(!r[n])throw new se(1001,"")}function ox(e,t,n){e._forEachChild((r,s)=>{if(n[s]===void 0)throw new se(1002,"")})}var ya=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return wi(this.statusReactive)}set status(t){wi(()=>this.statusReactive.set(t))}_status=Ks(()=>this.statusReactive());statusReactive=$s(void 0);get valid(){return this.status===Hl}get invalid(){return this.status===$d}get pending(){return this.status==ga}get disabled(){return this.status===zl}get enabled(){return this.status!==zl}errors;get pristine(){return wi(this.pristineReactive)}set pristine(t){wi(()=>this.pristineReactive.set(t))}_pristine=Ks(()=>this.pristineReactive());pristineReactive=$s(!0);get dirty(){return!this.pristine}get touched(){return wi(this.touchedReactive)}set touched(t){wi(()=>this.touchedReactive.set(t))}_touched=Ks(()=>this.touchedReactive());touchedReactive=$s(!1);get untouched(){return!this.touched}_events=new _t;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(PC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LC(t,this._rawAsyncValidators))}hasValidator(t){return Wd(this._rawValidators,t)}hasAsyncValidator(t){return Wd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(qe(re({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new $l(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new $l(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(qe(re({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Gl(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Gl(!0,r))}markAsPending(t={}){this.status=ga;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ma(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(qe(re({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=zl,this.errors=null,this._forEachChild(s=>{s.disable(qe(re({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zd(this.value,r)),this._events.next(new ma(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qe(re({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Hl,this._forEachChild(r=>{r.enable(qe(re({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(qe(re({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hl||this.status===ga)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zd(this.value,n)),this._events.next(new ma(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(qe(re({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zl:Hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=qC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ma(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new $t,this.statusChanges=new $t}_calculateStatus(){return this._allControlsDisabled()?zl:this.errors?$d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus($d)?$d:Hl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),s&&this._events.next(new Gl(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new $l(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=HM(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=zM(this._rawAsyncValidators)}},Xd=class extends ya{constructor(t,n,r){super(O0(n),k0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){ox(this,!0,t),Object.keys(t).forEach(r=>{ix(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let s=this.controls[r];s&&s.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,s)=>{r.reset(t?t[s]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((s,c)=>{r=n(r,s,c)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var A0=class extends Xd{};var ql=new de("",{providedIn:"root",factory:()=>Yl}),Yl="always";function sx(e,t){return[...t.path,e]}function S0(e,t,n=Yl){F0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),$M(e,t),qM(e,t),WM(e,t),GM(e,t)}function BC(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Kd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Qd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function GM(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function F0(e,t){let n=tx(e);t.validator!==null?e.setValidators(FC(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=nx(e);t.asyncValidator!==null?e.setAsyncValidators(FC(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let s=()=>e.updateValueAndValidity();Qd(t._rawValidators,s),Qd(t._rawAsyncValidators,s)}function Kd(e,t){let n=!1;if(e!==null){if(t.validator!==null){let s=tx(e);if(Array.isArray(s)&&s.length>0){let c=s.filter(f=>f!==t.validator);c.length!==s.length&&(n=!0,e.setValidators(c))}}if(t.asyncValidator!==null){let s=nx(e);if(Array.isArray(s)&&s.length>0){let c=s.filter(f=>f!==t.asyncValidator);c.length!==s.length&&(n=!0,e.setAsyncValidators(c))}}}let r=()=>{};return Qd(t._rawValidators,r),Qd(t._rawAsyncValidators,r),n}function $M(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ax(e,t)})}function WM(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ax(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ax(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function qM(e,t){let n=(r,s)=>{t.valueAccessor.writeValue(r),s&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function YM(e,t){e==null,F0(e,t)}function ZM(e,t){return Kd(e,t)}function lx(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function XM(e){return Object.getPrototypeOf(e.constructor)===GC}function QM(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cx(e,t){if(!t)return null;Array.isArray(t);let n,r,s;return t.forEach(c=>{c.constructor===wa?n=c:XM(c)?r=c:s=c}),s||r||n||null}function KM(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function UC(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function VC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Wl=class extends ya{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(O0(n),k0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(VC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){VC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var JM=e=>e instanceof Wl;var eN={provide:Qi,useExisting:Hi(()=>P0)},jC=Promise.resolve(),P0=(()=>{class e extends Qi{_changeDetectorRef;callSetDisabledState;control=new Wl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new $t;constructor(n,r,s,c,f,g){super(),this._changeDetectorRef=f,this.callSetDisabledState=g,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=cx(this,c)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),lx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){S0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&Vo(r);jC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?sx(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(ce($o,9),ce(N0,10),ce(R0,10),ce(Jd,10),ce($i,8),ce(ql,8))};static \u0275dir=en({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Qs([eN]),Wr,mi]})}return e})();var ux=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=en({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var tN={provide:Jd,useExisting:Hi(()=>L0),multi:!0};var nN=(()=>{class e{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),L0=(()=>{class e extends GC{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=q(ql,{optional:!0})??Yl;constructor(n,r,s,c){super(n,r),this._registry=s,this._injector=c}ngOnInit(){this._control=this._injector.get(Qi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(ce(Gr),ce(Pn),ce(nN),ce(bn))};static \u0275dir=en({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,s){r&1&&Mt("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Qs([tN]),Wr]})}return e})();var dx=new de("");var rN={provide:$o,useExisting:Hi(()=>B0)},B0=(()=>{class e extends $o{callSetDisabledState;get submitted(){return wi(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Ks(()=>this._submittedReactive());_submittedReactive=$s(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new $t;constructor(n,r,s){super(),this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return S0(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){BC(n.control||null,n,!1),KM(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),QM(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new I0(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new D0(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,s=this.form.get(n.path);r!==s&&(BC(r||null,n),JM(s)&&(S0(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);YM(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&ZM(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){F0(this.form,this),this._oldForm&&Kd(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(ce(N0,10),ce(R0,10),ce(ql,8))};static \u0275dir=en({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Mt("submit",function(f){return s.onSubmit(f)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qs([rN]),Wr,mi]})}return e})();var iN={provide:Qi,useExisting:Hi(()=>U0)},U0=(()=>{class e extends Qi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new $t;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,s,c,f){super(),this._ngModelWarningConfig=f,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=cx(this,c)}ngOnChanges(n){this._added||this._setUpControl(),lx(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return sx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(ce($o,13),ce(N0,10),ce(R0,10),ce(Jd,10),ce(dx,8))};static \u0275dir=en({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Qs([iN]),Wr,mi]})}return e})();var fx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$r({type:e});static \u0275inj=Ur({})}return e})(),_0=class extends ya{constructor(t,n,r){super(O0(n),k0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),n&&(this.controls.splice(s,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){ox(this,!1,t),t.forEach((r,s)=>{ix(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,s)=>{r.reset(t[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function HC(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var hx=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let s=this._reduceControls(n),c={};return HC(r)?c=r:r!==null&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new Xd(s,c)}record(n,r=null){let s=this._reduceControls(n);return new A0(s,r)}control(n,r,s){let c={};return this.useNonNullable?(HC(r)?c=r:(c.validators=r,c.asyncValidators=s),new Wl(n,qe(re({},c),{nonNullable:!0}))):new Wl(n,r,s)}array(n,r,s){let c=n.map(f=>this._createControl(f));return new _0(c,r,s)}_reduceControls(n){let r={};return Object.keys(n).forEach(s=>{r[s]=this._createControl(n[s])}),r}_createControl(n){if(n instanceof Wl)return n;if(n instanceof ya)return n;if(Array.isArray(n)){let r=n[0],s=n.length>1?n[1]:null,c=n.length>2?n[2]:null;return this.control(r,s,c)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var px=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ql,useValue:n.callSetDisabledState??Yl}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=$r({type:e});static \u0275inj=Ur({imports:[fx]})}return e})(),gx=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:dx,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ql,useValue:n.callSetDisabledState??Yl}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=$r({type:e});static \u0275inj=Ur({imports:[fx]})}return e})();var H0=Tc(nf());var lr=class e{constructor(t,n){this.http=t;this.router=n;this.loadUserFromStorage()}currentUserSubject=new Jt(null);currentUser$=this.currentUserSubject.asObservable();tokenExpirationTimer;baseUrls={superadmin:"https://hoamsapi.onrender.com/api/superadmin",admin:"https://hoamsapi.onrender.com/api/admin"};loadUserFromStorage(){let t=localStorage.getItem("currentUser"),n=localStorage.getItem("accessToken"),r=localStorage.getItem("userRole");if(t&&n){let s=JSON.parse(t);this.currentUserSubject.next(s),this.autoLogout(this.getTokenRemainingTime(n))}}login(t,n,r="superadmin"){let s=this.baseUrls[r];return this.http.post(`${s}/auth/login`,{email:t,password:n},{withCredentials:!0}).pipe(Gt(c=>{localStorage.setItem("currentUser",JSON.stringify(c.user)),localStorage.setItem("accessToken",c.accessToken),localStorage.setItem("userRole",r),this.currentUserSubject.next(c.user),this.autoLogout(15*60*1e3)}),Cn(c=>(console.error("Login error:",c),rr(()=>new Error(c.error?.message||"Login failed")))))}loginAsSuperAdmin(t,n){return this.login(t,n,"superadmin")}loginAsAdmin(t,n){return this.login(t,n,"admin")}logout(){let t=localStorage.getItem("userRole")||"superadmin",n=this.baseUrls[t];this.http.post(`${n}/logout`,{}).subscribe({next:()=>this.handleLogout(),error:()=>this.handleLogout()})}handleLogout(){localStorage.removeItem("currentUser"),localStorage.removeItem("accessToken"),localStorage.removeItem("fullName"),localStorage.removeItem("userRole"),this.currentUserSubject.next(null),this.tokenExpirationTimer&&(clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null),this.router.navigate(["/auth/login"])}refreshToken(){let t=localStorage.getItem("userRole")||"superadmin",n=this.baseUrls[t];return this.http.post(`${n}/refresh-token`,{},{withCredentials:!0}).pipe(Oe(r=>{localStorage.setItem("accessToken",r.accessToken),r.user&&(localStorage.setItem("currentUser",JSON.stringify(r.user)),this.currentUserSubject.next(r.user));let s=this.getTokenRemainingTime(r.accessToken);return this.autoLogout(s),r.accessToken}),Cn(r=>(console.error("Token refresh failed:",r),(r.status===401||r.status===403)&&this.handleLogout(),rr(()=>new Error("Token refresh failed")))))}autoLogout(t){if(this.tokenExpirationTimer&&(clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null),t>0){let n=t>6e4?t-6e4:t/2;this.tokenExpirationTimer=setTimeout(()=>{this.refreshToken().subscribe({next:r=>console.log("Token refreshed successfully via timer"),error:r=>{console.error("Failed to refresh token via timer:",r),this.handleLogout()}})},n)}}getToken(){return localStorage.getItem("accessToken")}isAuthenticated(){return!!this.currentUserSubject.value&&!!this.getToken()}isSuperAdmin(){return this.currentUserSubject.value?.role==="superadmin"}isAdmin(){return this.currentUserSubject.value?.role==="admin"}getCurrentUserRole(){return localStorage.getItem("userRole")}getTokenRemainingTime(t){try{let s=JSON.parse(atob(t.split(".")[1])).exp*1e3-Date.now();return s>0?s:0}catch{return 0}}static \u0275fac=function(n){return new(n||e)(ge(wl),ge(cn))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})};function oN(e,t){e&1&&(V(0,"span"),J(1,"Email is required"),j())}function sN(e,t){e&1&&(V(0,"span"),J(1,"Please enter a valid email address"),j())}function aN(e,t){if(e&1&&(V(0,"div",43),Tt(1,oN,2,0,"span",44)(2,sN,2,0,"span",44),j()),e&2){let n=wt();ae(),Ee("ngIf",n.f.email.errors.required),ae(),Ee("ngIf",n.f.email.errors.email)}}function lN(e,t){e&1&&(V(0,"span"),J(1,"Password is required"),j())}function cN(e,t){if(e&1&&(V(0,"div",43),Tt(1,lN,2,0,"span",44),j()),e&2){let n=wt();ae(),Ee("ngIf",n.f.password.errors.required)}}function uN(e,t){e&1&&De(0,"span",45)}var Zl=class e{constructor(t,n,r,s){this.formBuilder=t;this.route=n;this.router=r;this.authService=s;if(this.loginForm=this.formBuilder.group({email:["",[Go.required,Go.email]],password:["",Go.required],role:["superadmin",Go.required]}),this.authService.isAuthenticated()){let c=this.authService.getCurrentUserRole();this.navigateToHomePage(c||"superadmin")}}loginForm;loading=!1;submitted=!1;error="";returnUrl="/home";userRole="superadmin";ngOnInit(){this.route.snapshot.queryParams.role==="admin"?(this.userRole="admin",this.loginForm.get("role")?.setValue("admin"),this.returnUrl="/home"):this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home",this.loginForm.get("role")?.valueChanges.subscribe(n=>{this.userRole=n,this.returnUrl="/home"})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.invalid)return;this.loading=!0,this.error="";let t=this.f.email.value,n=this.f.password.value,r=this.f.role.value;this.authService.login(t,n,r).subscribe({next:()=>{H0.default.fire({icon:"success",title:"Login Successful!",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.navigateToHomePage(r)},error:s=>{this.error=s.message||"Invalid credentials",this.loading=!1,H0.default.fire({icon:"error",title:"Login Failed!",text:this.error,toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}})}navigateToHomePage(t){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||e)(ce(hx),ce(Yr),ce(cn),ce(lr))};static \u0275cmp=mn({type:e,selectors:[["app-login"]],decls:73,vars:5,consts:[[1,"area","min-h-screen","flex","flex-col","items-center","justify-center","p-4"],[1,"circles"],[1,"w-full","max-w-4xl","rounded-2xl","bg-white","bg-opacity-10","backdrop-blur-lg","shadow-2xl","overflow-hidden","flex"],[1,"w-full","lg:w-1/2","p-8","md:p-10"],[1,"flex","flex-col","items-center","mb-8"],["src","hoa-removedbg.png","alt","HOA Logo",1,"w-24","h-24","mb-4"],[1,"text-3xl","font-bold","text-center"],[1,"h-1","w-24","bg-blue-950","mt-2","mb-4","rounded-full"],[1,"text-gray-700","text-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-2"],["for","email",1,"text-gray-700","text-sm","font-medium","block"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-400"],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],["type","email","id","email","formControlName","email","placeholder","email@gmail.com",1,"bg-opacity-40","placeholder-gray-400","w-full","pl-10","pr-4","py-3","rounded-lg","border","border-gray-700","focus:outline-none","focus:border-blue-900","focus:ring-1","focus:ring-blue-900","transition","duration-200"],["class","text-red-300 text-xs mt-1",4,"ngIf"],["for","password",1,"text-gray-700","text-sm","font-medium","block"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"bg-opacity-40","placeholder-gray-400","w-full","pl-10","pr-4","py-3","rounded-lg","border","border-gray-700","focus:outline-none","focus:border-blue-900","focus:ring-1","focus:ring-blue-900","transition","duration-200"],[1,"text-gray-700","text-sm","font-medium","block"],["formControlName","role",1,"role-toggle"],["type","radio","id","superadmin","formControlName","role","value","superadmin"],["for","superadmin",1,"role-option"],[1,"role-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule","evenodd"],["type","radio","id","admin","formControlName","role","value","admin"],["for","admin",1,"role-option"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"],[1,"slider"],["type","submit",1,"cursor-pointer","w-full","py-3","px-4","bg-blue-950","font-medium","rounded-lg","shadow-lg","transition","duration-300","transform","hover:-translate-y-1",3,"disabled"],[1,"flex","items-center","justify-center"],["class","w-5 h-5 border-t-2 border-white border-r-2 rounded-full animate-spin mr-3",4,"ngIf"],[1,"text-white"],[1,"mt-8","text-center","text-xs"],[1,"hidden","lg:block","lg:w-1/2","bg-cover","bg-center"],[1,"h-full","w-full","bg-blue-900","bg-opacity-50","flex","items-center"],[1,"px-12","py-12"],[1,"text-white","text-3xl","font-bold","leading-tight","mb-4"],[1,"text-gray-200","mb-6"],[1,"text-red-300","text-xs","mt-1"],[4,"ngIf"],[1,"w-5","h-5","border-t-2","border-white","border-r-2","rounded-full","animate-spin","mr-3"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"ul",1),De(2,"li")(3,"li")(4,"li")(5,"li")(6,"li")(7,"li")(8,"li")(9,"li")(10,"li")(11,"li"),j(),V(12,"div",2)(13,"div",3)(14,"div",4),De(15,"img",5),V(16,"h1",6),J(17,"HOASCAN"),j(),De(18,"div",7),V(19,"p",8),J(20,"SCAN SMART - MANAGE BETTER"),j()(),V(21,"form",9),Mt("ngSubmit",function(){return r.onSubmit()}),V(22,"div",10)(23,"label",11),J(24,"Email Address"),j(),V(25,"div",12)(26,"div",13),It(),V(27,"svg",14),De(28,"path",15)(29,"path",16),j()(),Vt(),De(30,"input",17),j(),Tt(31,aN,3,2,"div",18),j(),V(32,"div",10)(33,"label",19),J(34,"Password"),j(),V(35,"div",12)(36,"div",13),It(),V(37,"svg",14),De(38,"path",20),j()(),Vt(),De(39,"input",21),j(),Tt(40,cN,2,1,"div",18),j(),V(41,"div",10)(42,"label",22),J(43,"Login As"),j(),V(44,"div",23),De(45,"input",24),V(46,"label",25)(47,"span",26),It(),V(48,"svg",27),De(49,"path",28),j()(),J(50," Super Admin "),j(),Vt(),De(51,"input",29),V(52,"label",30)(53,"span",26),It(),V(54,"svg",27),De(55,"path",31),j()(),J(56," Admin "),j(),Vt(),De(57,"div",32),j()(),V(58,"button",33)(59,"div",34),Tt(60,uN,1,0,"span",35),V(61,"span",36),J(62,"Sign In"),j()()()(),V(63,"div",37)(64,"p"),J(65,"\xA9 2025 HOA Administration. All rights reserved."),j()()(),V(66,"div",38)(67,"div",39)(68,"div",40)(69,"h2",41),J(70,"Welcome to your community management portal"),j(),V(71,"p",42),J(72,"Manage residents, QR Codes, and monthly dues all in one place."),j()()()()()()),n&2&&(ae(21),Ee("formGroup",r.loginForm),ae(10),Ee("ngIf",r.submitted&&r.f.email.errors),ae(9),Ee("ngIf",r.submitted&&r.f.password.errors),ae(18),Ee("disabled",r.loading),ae(2),Ee("ngIf",r.loading))},dependencies:[Zn,ta,gx,ux,wa,L0,ef,rx,B0,U0],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;margin:0;padding:0}.area[_ngcontent-%COMP%]{background:#082f49;background:-webkit-linear-gradient(to left,#ff7b44,#4c9fa2);width:100%;height:100vh;position:relative}.circles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;display:block;list-style:none;width:20px;height:20px;background:#fff3;animation:_ngcontent-%COMP%_animate 25s linear infinite;bottom:-150px}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:25%;width:80px;height:80px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:10%;width:20px;height:20px;animation-delay:2s;animation-duration:12s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:70%;width:20px;height:20px;animation-delay:4s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-delay:0s;animation-duration:18s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:65%;width:20px;height:20px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:75%;width:110px;height:110px;animation-delay:3s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:35%;width:150px;height:150px;animation-delay:7s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:50%;width:25px;height:25px;animation-delay:15s;animation-duration:45s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:20%;width:15px;height:15px;animation-delay:2s;animation-duration:35s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:85%;width:150px;height:150px;animation-delay:0s;animation-duration:11s}@keyframes _ngcontent-%COMP%_animate{0%{transform:translateY(0) rotate(0);opacity:1;border-radius:0}to{transform:translateY(-1000px) rotate(720deg);opacity:0;border-radius:50%}}.role-toggle[_ngcontent-%COMP%]{display:flex;background-color:#f3f4f6;border-radius:.75rem;padding:.25rem;position:relative;margin-bottom:1.5rem}.role-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.role-option[_ngcontent-%COMP%]{flex:1;text-align:center;padding:.75rem 0;cursor:pointer;position:relative;z-index:1;transition:all .3s ease;font-size:.875rem;font-weight:500;color:#6b7280;border-radius:.5rem}.role-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .role-option[_ngcontent-%COMP%]{color:#fff}.slider[_ngcontent-%COMP%]{position:absolute;height:calc(100% - .5rem);width:calc(50% - .5rem);left:.25rem;top:.25rem;background-color:#1e3a8a;border-radius:.5rem;transition:all .3s ease;z-index:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.role-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(3):checked ~ .slider[_ngcontent-%COMP%]{transform:translate(100%)}.role-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem;vertical-align:middle}.role-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1rem;width:1rem}']})};var $0=Tc(nf());var G0=Tc(nf());var z0=()=>({exact:!0}),Ji=class e{constructor(t){this.authService=t}logout(){G0.default.fire({title:"Are you sure?",text:"You will be logged out of your account.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&(this.authService.logout(),G0.default.fire({icon:"success",title:"Logged Out Successfully",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}))})}static \u0275fac=function(n){return new(n||e)(ce(lr))};static \u0275cmp=mn({type:e,selectors:[["app-bot-menu"]],decls:22,vars:6,consts:[[1,"fixed","bottom-0","left-0","w-full","bg-white","shadow-lg","border-t","border-gray-200","z-50","safe-area-bottom"],[1,"flex","justify-around","items-center","py-2","max-w-screen-lg","mx-auto"],["routerLink","/home","routerLinkActive","text-indigo-600",1,"flex","flex-col","items-center","justify-center","space-y-1","px-1","py-1","sm:py-2","w-1/4","group",3,"routerLinkActiveOptions"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","sm:h-6","sm:w-6","text-gray-500","group-[.text-indigo-600]:text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9.75L12 3l9 6.75M4.5 10.5v9a1.5 1.5 0 001.5 1.5h3a1.5 1.5 0 001.5-1.5v-3.75A1.5 1.5 0 0112 14.25h0a1.5 1.5 0 011.5 1.5V19.5A1.5 1.5 0 0015 21h3a1.5 1.5 0 001.5-1.5v-9"],[1,"text-[10px]","sm:text-xs","font-medium","text-gray-500","group-[.text-indigo-600]:text-indigo-600","truncate"],["routerLink","/history","routerLinkActive","text-indigo-600",1,"flex","flex-col","items-center","justify-center","space-y-1","px-1","py-1","sm:py-2","w-1/4","group",3,"routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["routerLink","/scan","routerLinkActive","text-indigo-600",1,"flex","flex-col","items-center","justify-center","space-y-1","px-1","py-1","sm:py-2","w-1/4","group",3,"routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"],[1,"flex","flex-col","items-center","justify-center","space-y-1","px-1","py-1","sm:py-2","w-1/4","group","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","sm:h-6","sm:w-6","text-gray-500","group-hover:text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"text-[10px]","sm:text-xs","font-medium","text-gray-500","group-hover:text-red-500","truncate"]],template:function(n,r){n&1&&(V(0,"nav",0)(1,"div",1)(2,"a",2),It(),V(3,"svg",3),De(4,"path",4),j(),Vt(),V(5,"span",5),J(6,"Home"),j()(),V(7,"a",6),It(),V(8,"svg",3),De(9,"path",7),j(),Vt(),V(10,"span",5),J(11,"History"),j()(),V(12,"a",8),It(),V(13,"svg",3),De(14,"path",9),j(),Vt(),V(15,"span",5),J(16,"Scan QR"),j()(),V(17,"a",10),Mt("click",function(){return r.logout()}),It(),V(18,"svg",11),De(19,"path",12),j(),Vt(),V(20,"span",13),J(21,"Logout"),j()()()()),n&2&&(ae(2),Ee("routerLinkActiveOptions",fd(3,z0)),ae(5),Ee("routerLinkActiveOptions",fd(4,z0)),ae(5),Ee("routerLinkActiveOptions",fd(5,z0)))},dependencies:[pa,fa,_C,Zn],encapsulation:2})};var rf=class e{constructor(t){this.authService=t}logout(){$0.default.fire({title:"Are you sure?",text:"You will be logged out of your account.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&(this.authService.logout(),$0.default.fire({icon:"success",title:"Logged Out Successfully",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}))})}static \u0275fac=function(n){return new(n||e)(ce(lr))};static \u0275cmp=mn({type:e,selectors:[["app-home"]],decls:23,vars:0,consts:[[1,"h-screen","flex","flex-col"],[1,"bg-sky-900","text-white","px-6","py-4","flex","justify-between","items-center","shadow-md"],[1,"text-xl","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9.75L12 3l9 6.75V21a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 013 21V9.75z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 22V12h6v10"],[1,"flex-1","flex","flex-col","items-center","justify-center","px-4","pb-16"],[1,"w-full","max-w-md","bg-white","rounded-xl","shadow-lg","overflow-hidden"],[1,"bg-sky-900","py-5","px-6"],[1,"text-2xl","font-bold","text-white","text-center"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["routerLink","/scan",1,"flex","items-center","justify-center","space-x-3","bg-sky-600","hover:bg-sky-700","text-white","py-4","px-6","rounded-lg","transition","duration-300","shadow-md","group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","group-hover:scale-110","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"],[1,"font-medium"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"text-sm","text-gray-600","text-center"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"div",1)(2,"h2",2),It(),V(3,"svg",3),De(4,"path",4)(5,"path",5),j(),J(6," Home "),j()(),Vt(),V(7,"main",6)(8,"div",7)(9,"div",8)(10,"h1",9),J(11,"Payment Verification"),j()(),V(12,"div",10)(13,"div",11)(14,"a",12),It(),V(15,"svg",13),De(16,"path",14),j(),Vt(),V(17,"span",15),J(18,"Scan QR Code"),j()()(),V(19,"div",16)(20,"p",17),J(21," Scan QR codes to verify homeowner payments or view your scanning history. "),j()()()()(),De(22,"app-bot-menu"),j())},dependencies:[Zn,Ji,pa,fa],styles:['.backdrop-blur-sm[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(10px)}to{transform:translateY(0)}}[class*=fixed][_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}[class*=fixed][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}img[alt=Logo][_ngcontent-%COMP%]{transition:transform .3s ease}img[alt=Logo][_ngcontent-%COMP%]:hover{transform:scale(1.05)}button[_ngcontent-%COMP%]{position:relative;overflow:hidden}button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:5px;height:5px;background:#ffffff4d;opacity:0;border-radius:100%;transform:scale(1) translate(-50%);transform-origin:50% 50%}button[_ngcontent-%COMP%]:focus:not(:active):after{animation:_ngcontent-%COMP%_ripple 1s ease-out}@keyframes _ngcontent-%COMP%_ripple{0%{transform:scale(0);opacity:.5}20%{transform:scale(25);opacity:.3}to{opacity:0;transform:scale(40)}}']})};var of=(e,t)=>{let n=q(lr),r=q(cn);if(n.isAuthenticated()){let c=e.data.requiredRole;if(c){if(c==="superadmin"&&!n.isSuperAdmin())return r.navigate(["/auth/login"],{queryParams:{role:"superadmin"}}),!1;if(c==="admin"&&!n.isAdmin())return r.navigate(["/auth/login"],{queryParams:{role:"admin"}}),!1}return!0}let s="superadmin";return t.url.includes("/admin/")&&(s="admin"),r.navigate(["/auth/login"],{queryParams:{returnUrl:t.url,role:s}}),!1};var Ca=class e{constructor(t){this.http=t}baseUrl="https://hoamsapi.onrender.com/api";verifyPaymentByQRCode(t){return this.http.post(`${this.baseUrl}/monthlydues/verify-payment-by-qr`,t)}getMyScanHistory(){return this.http.get(`${this.baseUrl}/shared/scan/history`)}confirmGarbageCollection(t){return this.http.post(`${this.baseUrl}/monthlydues/confirm-garbage-collection`,{qrCodeData:t})}getGarbageCollectionStatus(t){return this.http.post(`${this.baseUrl}/garbage-collection`,{accountNumber:t})}static \u0275fac=function(n){return new(n||e)(ge(wl))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})};var dN=["tableContainer"];function fN(e,t){e&1&&(V(0,"div",17),De(1,"div",18),j())}function hN(e,t){if(e&1){let n=Uo();V(0,"div",17)(1,"div",19),It(),V(2,"svg",20),De(3,"path",21),j(),Vt(),V(4,"p"),J(5),j(),V(6,"button",22),Mt("click",function(){jr(n);let s=wt();return Hr(s.loadScanHistory())}),J(7," Try Again "),j()()()}if(e&2){let n=wt();ae(5),yi(n.error)}}function pN(e,t){e&1&&(V(0,"p"),J(1,"No scan history available"),j())}function gN(e,t){e&1&&(V(0,"p"),J(1,"No results match your search"),j())}function mN(e,t){if(e&1&&(V(0,"div",17)(1,"div",23),It(),V(2,"svg",20),De(3,"path",24),j(),Tt(4,pN,2,0,"p",25)(5,gN,2,0,"p",25),j()()),e&2){let n=wt();ae(4),Ee("ngIf",n.scanHistory.length===0),ae(),Ee("ngIf",n.scanHistory.length>0)}}function yN(e,t){if(e&1&&(V(0,"tr",34)(1,"td",35)(2,"div",36),J(3),j()(),V(4,"td",35)(5,"span",37),J(6),j()(),V(7,"td",38),J(8),j()()),e&2){let n=t.$implicit,r=wt(2);ae(3),fg("Block ",n.block,", Lot ",n.lot,""),ae(2),Ee("ngClass",r.getStatusClass(n.paymentStatus)),ae(),Yn(" ",n.paymentStatus," "),ae(2),Yn(" ",r.formatDate(n.scanTimestamp)," ")}}function wN(e,t){e&1&&(V(0,"div",39),De(1,"div",40),j())}function vN(e,t){e&1&&(V(0,"div",41),J(1," No more results "),j())}function CN(e,t){if(e&1){let n=Uo();V(0,"div",26,0),Mt("scroll",function(s){jr(n);let c=wt();return Hr(c.onTableScroll(s))}),V(2,"table",27)(3,"thead",28)(4,"tr")(5,"th",29),J(6," Block/Lot "),j(),V(7,"th",29),J(8," Status "),j(),V(9,"th",29),J(10," Date/Time "),j()()(),V(11,"tbody",30),Tt(12,yN,9,5,"tr",31),j()(),Tt(13,wN,2,0,"div",32)(14,vN,2,0,"div",33),j()}if(e&2){let n=wt();ae(12),Ee("ngForOf",n.displayedHistory),ae(),Ee("ngIf",n.isLoadingMore),ae(),Ee("ngIf",n.reachedEnd&&n.displayedHistory.length>0)}}var sf=class e{constructor(t){this.dataService=t}scanHistory=[];displayedHistory=[];isLoading=!0;isLoadingMore=!1;error=null;searchTerm="";searchSubject=new _t;destroy$=new _t;pageSize=20;currentPage=0;reachedEnd=!1;scrollThreshold=200;tableContainer;ngOnInit(){this.loadScanHistory(),this.searchSubject.pipe(dh(300),fh(),Wa(this.destroy$)).subscribe(t=>{this.searchTerm=t,this.resetPagination(),this.applyFilter()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadScanHistory(){this.isLoading=!0,this.dataService.getMyScanHistory().subscribe({next:t=>{t.success?(this.scanHistory=t.data,this.resetPagination(),this.applyFilter()):this.error="Failed to load scan history",this.isLoading=!1},error:t=>{this.error="An error occurred while fetching the scan history",this.isLoading=!1,console.error(t)}})}onSearch(t){let n=t.target.value;this.searchSubject.next(n)}resetPagination(){this.currentPage=0,this.reachedEnd=!1,this.displayedHistory=[]}applyFilter(){let t=this.getFilteredHistory();if(this.reachedEnd=t.length===0,!this.reachedEnd){let n=t.slice(0,this.pageSize);this.displayedHistory=n,this.currentPage=1,this.reachedEnd=n.length<this.pageSize}}loadMoreItems(){if(this.reachedEnd||this.isLoadingMore)return;this.isLoadingMore=!0;let t=this.getFilteredHistory(),n=this.currentPage*this.pageSize,r=t.slice(n,n+this.pageSize);r.length>0?(this.displayedHistory=[...this.displayedHistory,...r],this.currentPage++,this.reachedEnd=r.length<this.pageSize):this.reachedEnd=!0,this.isLoadingMore=!1}getFilteredHistory(){if(!this.searchTerm.trim())return this.scanHistory;let t=this.searchTerm.toLowerCase().trim();return this.scanHistory.filter(n=>n.homeownerAccountNumber?.toLowerCase().includes(t)||n.block?.toString().toLowerCase().includes(t)||n.lot?.toString().toLowerCase().includes(t))}onTableScroll(t){if(this.tableContainer){let n=this.tableContainer.nativeElement;n.scrollHeight-n.scrollTop-n.clientHeight<this.scrollThreshold&&!this.isLoadingMore&&!this.reachedEnd&&this.loadMoreItems()}}formatDate(t){return new Date(t).toLocaleString()}getStatusClass(t){switch(t.toLowerCase()){case"paid":return"bg-green-100 text-green-800";case"unpaid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}static \u0275fac=function(n){return new(n||e)(ce(Ca))};static \u0275cmp=mn({type:e,selectors:[["app-history"]],viewQuery:function(n,r){if(n&1&&dd(dN,5),n&2){let s;Zs(s=Xs())&&(r.tableContainer=s.first)}},hostBindings:function(n,r){n&1&&Mt("scroll",function(c){return r.onTableScroll(c)})},decls:20,vars:5,consts:[["tableContainer",""],[1,"flex","flex-col","h-screen"],[1,"bg-sky-900","text-white","px-6","py-4","flex","justify-between","items-center","shadow-md"],[1,"text-xl","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1","flex","flex-col","p-4","overflow-hidden","mb-16"],[1,"bg-white","rounded-lg","shadow-md","mb-4","sticky","top-0","z-10"],[1,"px-4","py-3"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by account, block, or lot...",1,"w-full","pl-10","pr-4","py-2","border","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"input","ngModel"],[1,"bg-white","rounded-lg","shadow-md","flex-1","flex","flex-col","overflow-hidden"],["class","flex-1 flex justify-center items-center p-6",4,"ngIf"],["class","flex-1 overflow-auto",3,"scroll",4,"ngIf"],[1,"flex-1","flex","justify-center","items-center","p-6"],[1,"inline-block","h-8","w-8","animate-spin","rounded-full","border-4","border-solid","border-blue-600","border-r-transparent"],[1,"text-red-600","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-3","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700",3,"click"],[1,"text-gray-500","text-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[4,"ngIf"],[1,"flex-1","overflow-auto",3,"scroll"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50","sticky","top-0","z-10"],["scope","col",1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","py-3 flex justify-center",4,"ngIf"],["class","py-3 text-center text-sm text-gray-500",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-4","py-3","whitespace-nowrap"],[1,"text-sm","text-gray-900"],[1,"px-2","py-1","inline-flex","text-xs","leading-5","font-semibold","rounded-full","capitalize",3,"ngClass"],[1,"px-4","py-3","whitespace-nowrap","text-sm","text-gray-500"],[1,"py-3","flex","justify-center"],[1,"inline-block","h-6","w-6","animate-spin","rounded-full","border-4","border-solid","border-blue-600","border-r-transparent"],[1,"py-3","text-center","text-sm","text-gray-500"]],template:function(n,r){n&1&&(V(0,"div",1)(1,"div",2)(2,"h2",3),It(),V(3,"svg",4),De(4,"path",5),j(),J(5," Scan History "),j()(),Vt(),V(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),It(),V(11,"svg",11),De(12,"path",12),j()(),Vt(),V(13,"input",13),Mt("input",function(c){return r.onSearch(c)}),j()()()(),V(14,"div",14),Tt(15,fN,2,0,"div",15)(16,hN,8,1,"div",15)(17,mN,6,2,"div",15)(18,CN,15,3,"div",16),j()(),De(19,"app-bot-menu"),j()),n&2&&(ae(13),Ee("ngModel",r.searchTerm),ae(2),Ee("ngIf",r.isLoading),ae(),Ee("ngIf",!r.isLoading&&r.error),ae(),Ee("ngIf",!r.isLoading&&!r.error&&r.displayedHistory.length===0),ae(),Ee("ngIf",!r.isLoading&&!r.error&&r.displayedHistory.length>0))},dependencies:[Zn,md,yd,ta,px,wa,ef,P0,pa,Ji],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c5d5e4;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a3b9cc}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{transition:all .2s ease}.bg-green-100.text-green-800[_ngcontent-%COMP%], .bg-red-100.text-red-800[_ngcontent-%COMP%], .bg-gray-100.text-gray-800[_ngcontent-%COMP%]{transition:all .2s ease;font-weight:600;box-shadow:0 1px 2px #0000000d}tr.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{background-color:#f3f4f6cc;cursor:pointer}thead.sticky[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0000000a}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}tr[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.overflow-auto[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;scrollbar-width:thin}input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #3b82f64d;outline:none}@media (max-width: 640px){.px-6[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.p-4[_ngcontent-%COMP%]{padding:.75rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem .75rem}}"]})};var ie=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(ie||{}),wx=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function vx(e){return Object.values(ie).includes(e)}var Xr=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(Xr||{}),Bn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Xr.SCAN_TYPE_CAMERA,Xr.SCAN_TYPE_FILE],e}();var af=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!wx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,wx.get(t))},e}();var W0=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}();var Cx=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(Cx||{}),lf=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Cx.UNKWOWN_ERROR}},e}();var cf=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function cr(e){return typeof e>"u"||e===null}function xx(e,t,n){return e>n?n:e<t?t:e}var eo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}();var Je=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}();var q0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}();var Y0=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(s),f=Object.keys(t),g=0,x=f;g<x.length;g++){var v=x[g];if(c.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}();var ct=Tc(bx());var Z0=function(){function e(t,n,r){if(this.formatMap=new Map([[ie.QR_CODE,ct.BarcodeFormat.QR_CODE],[ie.AZTEC,ct.BarcodeFormat.AZTEC],[ie.CODABAR,ct.BarcodeFormat.CODABAR],[ie.CODE_39,ct.BarcodeFormat.CODE_39],[ie.CODE_93,ct.BarcodeFormat.CODE_93],[ie.CODE_128,ct.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,ct.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,ct.BarcodeFormat.MAXICODE],[ie.ITF,ct.BarcodeFormat.ITF],[ie.EAN_13,ct.BarcodeFormat.EAN_13],[ie.EAN_8,ct.BarcodeFormat.EAN_8],[ie.PDF_417,ct.BarcodeFormat.PDF_417],[ie.RSS_14,ct.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,ct.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,ct.BarcodeFormat.UPC_A],[ie.UPC_E,ct.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,ct.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ct)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),c=new Map;c.set(ct.DecodeHintType.POSSIBLE_FORMATS,s),c.set(ct.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(c){s(c)}})},e.prototype.decode=function(t){var n=new ct.MultiFormatReader(this.verbose,this.hints),r=new ct.HTMLCanvasElementLuminanceSource(t),s=new ct.BinaryBitmap(new ct.HybridBinarizer(r)),c=n.decode(s);return{text:c.text,format:af.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}();var xN=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},EN=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},X0=function(){function e(t,n,r){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return xN(this,void 0,void 0,function(){var n,r;return EN(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:af.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,c=t;s<c.length;s++){var f=c[s],g=f.boundingBox.width*f.boundingBox.height;g>r&&(r=g,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}();var Ix=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},Dx=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Ax=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&X0.isSupported()?(this.primaryDecoder=new X0(t,r,s),this.secondaryDecoder=new Z0(t,r,s)):this.primaryDecoder=new Z0(t,r,s)}return e.prototype.decodeAsync=function(t){return Ix(this,void 0,void 0,function(){var n;return Dx(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Ix(this,void 0,void 0,function(){var n,r;return Dx(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}();var Q0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},ff=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Sx=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),bN=function(e){Q0(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Sx),IN=function(e){Q0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(bN),DN=function(e){Q0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Sx),AN=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new IN(this.track)},e.prototype.torchFeature=function(){return new DN(this.track)},e}(),SN=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return df(this,void 0,void 0,function(){var c,f;return ff(this,function(g){switch(g.label){case 0:return c=new e(t,n,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return df(this,void 0,void 0,function(){return ff(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),c=s.length,f=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++f,f>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new AN(this.getFirstTrackOrFail())},e}(),_x=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return df(this,void 0,void 0,function(){return ff(this,function(s){return[2,SN.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return df(this,void 0,void 0,function(){var n,r;return ff(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}();var Tx=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},Mx=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Nx=function(){function e(){}return e.failIfNotSupported=function(){return Tx(this,void 0,void 0,function(){return Mx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Tx(this,void 0,void 0,function(){return Mx(this,function(n){return[2,_x.create(t)]})})},e}();var _N=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},TN=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Rx=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=eo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=eo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return _N(this,void 0,void 0,function(){var t,n,r,s,c,f,g;return TN(this,function(x){switch(x.label){case 0:return t=function(v){for(var A=v.getVideoTracks(),D=0,U=A;D<U.length;D++){var R=U[D];R.enabled=!1,R.stop(),v.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),s=[],c=0,f=r;c<f.length;c++)g=f[c],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(c){for(var f=[],g=0,x=c;g<x.length;g++){var v=x[g];v.kind==="video"&&f.push({id:v.id,label:v.label})}t(f)},s=MediaStreamTrack;s.getSources(r)})},e}();var Nt=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Nt||{}),MN=function(){function e(){this.state=Nt.NOT_STARTED,this.onGoingTransactionNewState=Nt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Nt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Nt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Nt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Nt.UNKNOWN:throw"Transition from unknown is not allowed";case Nt.NOT_STARTED:this.failIfNewStateIs(t,[Nt.PAUSED]);break;case Nt.SCANNING:break;case Nt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var c=s[r];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),NN=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Nt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Nt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Nt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Nt.PAUSED},e}();var Ox=function(){function e(){}return e.create=function(){return new NN(new MN)},e}();var RN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=function(e){RN(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Bn),ON=function(){function e(t,n){this.logger=n,this.fps=Kn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Kn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Y0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Wo=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r,s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,r=s.experimentalFeatures),this.logger=new cf(this.verbose),this.qrcode=new Ax(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ox.create()}return e.prototype.start=function(t,n,r,s){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;s?f=s:f=this.verbose?this.logger.log:function(){};var g=ON.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=x,A=document.getElementById(this.elementId),D=A.clientWidth?A.clientWidth:Kn.DEFAULT_WIDTH;A.style.position="relative",this.shouldScan=!0,this.element=A;var U=this,R=this.stateManagerProxy.startTransition(Nt.SCANNING);return new Promise(function(G,X){var W=v?g.videoConstraints:U.createVideoConstraints(t);if(!W){R.cancel(),X("videoConstraints should be defined");return}var Q={};(!v||g.aspectRatio)&&(Q.aspectRatio=g.aspectRatio);var ye={onRenderSurfaceReady:function(Ze,Se){U.setupUi(Ze,Se,g),U.isScanning=!0,U.foreverScan(g,r,f)}};Nx.failIfNotSupported().then(function(Ze){Ze.create(W).then(function(Se){return Se.render(c.element,Q,ye).then(function(Y){U.renderedCamera=Y,R.execute(),G(null)}).catch(function(Y){R.cancel(),X(Y)})}).catch(function(Se){R.cancel(),X(eo.errorGettingUserMedia(Se))})}).catch(function(Ze){R.cancel(),X(eo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Nt.PAUSED),this.showPausedState(),(cr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Nt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Nt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var c=document.getElementById(Kn.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var g=f.width,x=f.height,v=document.getElementById(r.elementId),A=v.clientWidth?v.clientWidth:Kn.DEFAULT_WIDTH,D=Math.max(v.clientHeight?v.clientHeight:x,Kn.FILE_SCAN_MIN_HEIGHT),U=r.computeCanvasDrawConfig(g,x,A,D);if(n){var R=r.createCanvasElement(A,D,"qr-canvas-visible");R.style.display="inline-block",v.appendChild(R);var G=R.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=A,G.canvas.height=D,G.drawImage(f,0,0,g,x,U.x,U.y,U.width,U.height)}var X=Kn.FILE_SCAN_HIDDEN_CANVAS_PADDING,W=Math.max(f.width,U.width),Q=Math.max(f.height,U.height),ye=W+2*X,Ze=Q+2*X,Se=r.createCanvasElement(ye,Ze);v.appendChild(Se);var Y=Se.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=ye,Y.canvas.height=Ze,Y.drawImage(f,0,0,g,x,X,X,W,Q);try{r.qrcode.decodeRobustlyAsync(Se).then(function(Me){s(W0.createFromQrcodeResult(Me))}).catch(c)}catch(Me){c("QR code parse error, error = ".concat(Me))}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Rx.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Y0.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,c=t.formatsToSupport;s<c.length;s++){var f=c[s];vx(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(cr(t))return!0;if(!cr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(cr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return cr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,c=r.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,n,c),g=function(v){if(v<Kn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Kn.MIN_QR_BOX_SIZE,"px.")},x=function(v){return v>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};g(f.width),g(f.height),f.width=x(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=cr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,n,s);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&c.height<=n,g={x:0,y:0,width:t,height:n},x=f?this.getShadedRegionBounds(t,n,c):g,v=this.createCanvasElement(x.width,x.height),A={willReadFrequently:!0},D=v.getContext("2d",A);D.canvas.width=x.width,D.canvas.height=x.height,this.element.append(v),f&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=D,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=eo.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,W0.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var c=eo.codeParseError(s);return n(c,lf.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),f=c.videoWidth/c.clientWidth,g=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,v=this.qrRegion.height*g,A=this.qrRegion.x*f,D=this.qrRegion.y*g;this.context.drawImage(c,A,D,x,v,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(R){!R&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){U()})):U()}).catch(function(R){s.logger.logError("Error happend while scanning context",R),U()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},c="exact",f=function(G){if(G in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var v=t.facingMode;if(typeof v=="string"){if(f(v))return{facingMode:v}}else if(typeof v=="object")if(c in v){if(f(v["".concat(c)]))return{facingMode:{exact:v["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var A=typeof v;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var D=t.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(c in D)return{deviceId:{exact:D["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var U=typeof D;throw"Invalid type of 'deviceId' = ".concat(U)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var c=(r-t)/2,f=(s-n)/2;return{x:c,y:f,width:t,height:n}}else{var g=t,x=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Kn.BORDER_SHADER_MATCH_COLOR:Kn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,c=n,f=document.createElement("canvas");return f.style.width="".concat(s,"px"),f.style.height="".concat(c,"px"),f.style.display="none",f.id=cr(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(n-s.width)/2,g=(r-s.height)/2;if(c.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Kn.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var x=5,v=40;this.insertShaderBorders(c,v,x,-x,null,0,!0),this.insertShaderBorders(c,v,x,-x,null,0,!1),this.insertShaderBorders(c,v,x,null,-x,0,!0),this.insertShaderBorders(c,v,x,null,-x,0,!1),this.insertShaderBorders(c,x,v+x,-x,null,-x,!0),this.insertShaderBorders(c,x,v+x,null,-x,-x,!0),this.insertShaderBorders(c,x,v+x,-x,null,-x,!1),this.insertShaderBorders(c,x,v+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,s,c,f,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Kn.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),s!==null&&(x.style.top="".concat(s,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),g?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();var K0="data:image/svg+xml;base64,",kx=K0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Fx=K0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",J0=K0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Px="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var Lx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Bx=function(){function e(){this.data=Lx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Lx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}();var kN=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=q0.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var c=document.createElement("a");c.innerText=q0.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),FN=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=J0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Px,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=J0,this.infoIcon.style.opacity="0.6")},e}(),Ux=function(){function e(){var t=this;this.infoDiv=new kN,this.infoIcon=new FN(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}();var PN=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},LN=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},em=function(){function e(){}return e.hasPermissions=function(){return PN(this,void 0,void 0,function(){var t,n,r,s;return LN(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}();var Di=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Xr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Xr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Bn.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Bn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var c=s[r];if(!Bn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e}();var on=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}();var Un=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(on.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}();var jx=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(A){try{v(r.next(A))}catch(D){f(D)}}function x(A){try{v(r.throw(A))}catch(D){f(D)}}function v(A){A.done?c(A.value):s(A.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},Hx=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(v){return function(A){return x([v,A])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(n=0)),n;)try{if(r=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,s=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(A){v=[6,A],s=0}finally{r=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Vx=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return jx(this,void 0,void 0,function(){var t,n;return Hx(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Je.torchOffButton():Je.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Je.torchOnFailedMessage():Je.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),zx=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Un.createElement("button",on.TORCH_BUTTON_ID),this.torchController=new Vx(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Je.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(c){return jx(r,void 0,void 0,function(){return Hx(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(on.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(on.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(on.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(on.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Vx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Je.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var c=new e(n,s);return c.render(t,r),c},e}();var Gx=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Un.createElement("button",on.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Un.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var x=g.target;if(!(x.files&&x.files.length===0)){var v=x.files,A=v[0],D=A.name;c.setImageNameToButton(D),r(A)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var x=g.dataTransfer;if(x){var v=x.files;if(!v||v.length===0)return;for(var A=!1,D=0;D<v.length;++D){var U=v.item(D);if(U){var R=/image.*/;if(U.type.match(R)){A=!0;var G=U.name;c.setImageNameToButton(G),r(U),f.innerText=Je.dragAndDropMessage();break}}}A||(f.innerText=Je.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Je.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,c=t.substring(s-8,s);t="".concat(r,"....").concat(c)}var f=Je.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=Je.fileSelectionChooseImage()+" - "+Je.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}();var $x=function(){function e(t){this.selectElement=Un.createElement("select",on.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Je.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var c=1,f=0,g=this.cameras;f<g.length;f++){var x=g[f],v=x.id,A=x.label==null?v:x.label;(!A||A==="")&&(A=[Je.anonymousCameraPrefix(),c++].join(" "));var D=document.createElement("option");D.value=v,D.innerText=A,this.options.push(D),this.selectElement.appendChild(D)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}();var Wx=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Un.createElement("input",on.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Je.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Je.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}();var ur=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(ur||{});function BN(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function UN(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var VN=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Di(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new cf(this.verbose),this.persistedDataManager=new Bx,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,f){if(t)t(c,f);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(Je.lastMatch(c),ur.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,f){n&&n(c,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Wo(this.getScanRegionId(),UN(this.config,this.verbose))},e.prototype.pause=function(t){(cr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),s(c)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Bn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Bn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Bn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Bn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Bn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Bn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Bn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Di.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),c=this.getDashboardId();s.id=c,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Ux;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Je.cameraPermissionRequesting());var c=function(){r||s.createPermissionButton(t,n)};Wo.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),s.renderCameraSelection(f)):(s.setHeaderMessage(Je.noCameraFound(),ur.STATUS_WARNING),c())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),s.setHeaderMessage(f,ur.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Un.createElement("button",this.getCameraPermissionButtonId());s.innerText=Je.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Di.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){em.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Di.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Di.isFileScanType(this.currentScanType),r=this,s=function(c){if(!r.html5Qrcode)throw"html5Qrcode not defined";Di.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Je.loadingImage()),r.html5Qrcode.scanFileV2(c,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,ur.STATUS_WARNING),r.qrCodeErrorCallback(f,lf.createFrom(f))}))};this.fileSelectionUi=Gx.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var c=Wx.create(s,!1),f=function(X){var W=X.zoomFeature();if(W.isSupported()){c.setOnCameraZoomValueChangeCallback(function(ye){W.apply(ye)});var Q=1;n.config.defaultZoomValueIfSupported&&(Q=n.config.defaultZoomValueIfSupported),Q=xx(Q,W.min(),W.max()),c.setValues(W.min(),W.max(),Q,W.step()),c.show()}},g=$x.create(s,t),x=document.createElement("span"),v=Un.createElement("button",on.CAMERA_START_BUTTON_ID);v.innerText=Je.scanButtonStartScanningText(),x.appendChild(v);var A=Un.createElement("button",on.CAMERA_STOP_BUTTON_ID);A.innerText=Je.scanButtonStopScanningText(),A.style.display="none",A.disabled=!0,x.appendChild(A);var D,U=function(X){if(!X.torchFeature().isSupported()){D&&D.hide();return}D?D.updateTorchCapability(X.torchFeature()):D=zx.create(x,X.torchFeature(),{display:"none",marginLeft:"5px"},function(W){r.setHeaderMessage(W,ur.STATUS_WARNING)}),D.show()};s.appendChild(x);var R=function(X){X||(v.style.display="none"),v.innerText=Je.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,X&&(v.style.display="inline-block")};if(v.addEventListener("click",function(X){v.innerText=Je.scanButtonScanningStarting(),g.disable(),v.disabled=!0,v.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var W=g.getValue();r.persistedDataManager.setLastUsedCameraId(W),r.html5Qrcode.start(W,BN(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(Q){A.disabled=!1,A.style.display="inline-block",R(!1);var ye=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&U(ye),n.config.showZoomSliderIfSupported===!0&&f(ye)}).catch(function(Q){r.showHideScanTypeSwapLink(!0),g.enable(),R(!0),r.setHeaderMessage(Q,ur.STATUS_WARNING)})}),g.hasSingleItem()&&v.click(),A.addEventListener("click",function(X){if(!r.html5Qrcode)throw"html5Qrcode not defined";A.disabled=!0,r.html5Qrcode.stop().then(function(W){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),v.disabled=!1,A.style.display="none",v.style.display="inline-block",D&&(D.reset(),D.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(W){A.disabled=!1,r.setHeaderMessage(W,ur.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var G=r.persistedDataManager.getLastUsedCameraId();g.hasValue(G)?(g.setValue(G),v.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Je.textIfCameraScanSelected(),r=Je.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var f=Un.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=Di.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Di.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=r,t.currentScanType=Xr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=Xr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(f),s.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){em.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ur.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ur.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ur.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ur.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=kx,this.cameraScanImage.alt=Je.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Fx,this.fileScanImage.alt=Je.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return on.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return on.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();var jN=["scanResultsContainer"],HN=e=>({"opacity-50 cursor-not-allowed":e});function zN(e,t){if(e&1&&(V(0,"div",29),J(1),j()),e&2){let n=wt(4);ae(),Yn(" ",n.eligibilityDetails.message," ")}}function GN(e,t){if(e&1&&(V(0,"span",33),J(1),j()),e&2){let n=t.$implicit;ae(),Yn(" ",n," ")}}function $N(e,t){if(e&1&&(V(0,"div")(1,"div",30),J(2,"Unpaid Months:"),j(),V(3,"div",31),Tt(4,GN,2,1,"span",32),j()()),e&2){let n=wt(4);ae(4),Ee("ngForOf",n.eligibilityDetails.unpaidMonths)}}function WN(e,t){if(e&1&&(V(0,"div",27),Tt(1,zN,2,1,"div",28)(2,$N,5,1,"div",11),j()),e&2){let n=wt(3);ae(),Ee("ngIf",n.eligibilityDetails.message),ae(),Ee("ngIf",n.eligibilityDetails.unpaidMonths&&n.eligibilityDetails.unpaidMonths.length)}}function qN(e,t){if(e&1){let n=Uo();V(0,"div",34)(1,"button",35),Mt("click",function(){jr(n);let s=wt(3);return Hr(s.showPaymentDetails=!s.showPaymentDetails)}),V(2,"span"),J(3),j(),It(),V(4,"svg",36),De(5,"path",37),j()()()}if(e&2){let n=wt(3);ae(3),yi(n.showPaymentDetails?"Hide Details":"View Details"),ae(),Ys("rotate-180",n.showPaymentDetails)}}function YN(e,t){if(e&1&&(V(0,"span",47),J(1),j()),e&2){let n=t.$implicit;ae(),Yn(" ",n," ")}}function ZN(e,t){if(e&1&&(V(0,"div",44)(1,"h4",45),J(2,"Paid Months:"),j(),V(3,"div",31),Tt(4,YN,2,1,"span",46),j()()),e&2){let n=wt(4);ae(4),Ee("ngForOf",n.paymentDetails.paidMonths)}}function XN(e,t){if(e&1&&(V(0,"div",38)(1,"h3",39),J(2,"Payment Details"),j(),V(3,"div",16)(4,"span",40),J(5,"Current Month:"),j(),V(6,"span",41),J(7),j()(),V(8,"div",16)(9,"span",40),J(10,"Current Month Status:"),j(),V(11,"span",42),J(12),j()(),Tt(13,ZN,5,1,"div",43),j()),e&2){let n=wt(3);ae(7),yi(n.paymentDetails.currentMonth),ae(4),Ee("ngClass",n.paymentDetails.currentMonthPaid?"text-green-600":"text-red-600"),ae(),Yn(" ",n.paymentDetails.currentMonthPaid?"Paid":"Unpaid"," "),ae(),Ee("ngIf",n.paymentDetails.paidMonths&&n.paymentDetails.paidMonths.length>0)}}function QN(e,t){e&1&&(V(0,"div",48),J(1," Garbage collection confirmed successfully! "),j())}function KN(e,t){if(e&1&&(cd(0),V(1,"div",15)(2,"div",16)(3,"span",17),J(4,"Block:"),j(),V(5,"span",18),J(6),j()(),V(7,"div",16)(8,"span",17),J(9,"Lot:"),j(),V(10,"span",18),J(11),j()(),V(12,"div",19)(13,"span",20),J(14,"Payment:"),j(),V(15,"span",21),J(16),Ww(17,"titlecase"),j()(),V(18,"div",22)(19,"span",20),J(20,"Collection:"),j(),V(21,"span",21),J(22),j()(),Tt(23,WN,3,2,"div",23)(24,qN,6,3,"div",24)(25,XN,14,4,"div",25)(26,QN,2,0,"div",26),j(),ud()),e&2){let n=wt(2);ae(6),yi(n.homeowner.block),ae(5),yi(n.homeowner.lot),ae(4),Ee("ngClass",n.paymentStatus==="paid"?"text-green-600":"text-red-600"),ae(),Yn(" ",qw(17,10,n.paymentStatus)," "),ae(5),Ee("ngClass",n.garbageCollectionEligible?"text-green-600":"text-red-600"),ae(),Yn(" ",n.garbageCollectionEligible?"Eligible":"Not Eligible"," "),ae(),Ee("ngIf",!n.garbageCollectionEligible&&n.eligibilityDetails),ae(),Ee("ngIf",n.paymentDetails),ae(),Ee("ngIf",n.paymentDetails&&n.showPaymentDetails),ae(),Ee("ngIf",n.collectionConfirmed)}}function JN(e,t){e&1&&(V(0,"div",52)(1,"h3",53),J(2,"Possible Reasons:"),j(),V(3,"ul",54)(4,"li"),J(5,"Incorrect block or lot number"),j(),V(6,"li"),J(7,"QR code may be outdated"),j(),V(8,"li"),J(9,"Homeowner record may have been deleted"),j()(),V(10,"p",55),J(11,"Suggestions:"),j(),V(12,"ul",56)(13,"li"),J(14,"Verify the QR code details"),j(),V(15,"li"),J(16,"Check with property management"),j(),V(17,"li"),J(18,"Try scanning again"),j()()())}function e3(e,t){e&1&&(V(0,"div",52)(1,"h3",53),J(2,"QR Code Issues:"),j(),V(3,"ul",54)(4,"li"),J(5,"Ensure QR code is clear and fully visible"),j(),V(6,"li"),J(7,"Check if QR code is damaged or distorted"),j(),V(8,"li"),J(9,"Verify QR code was generated correctly"),j()(),V(10,"p",55),J(11,"Suggestions:"),j(),V(12,"ul",56)(13,"li"),J(14,"Request a new QR code"),j(),V(15,"li"),J(16,"Clean the QR code surface"),j(),V(17,"li"),J(18,"Ensure good lighting"),j()()())}function t3(e,t){e&1&&(V(0,"div",52)(1,"h3",53),J(2,"System Issues:"),j(),V(3,"ul",54)(4,"li"),J(5,"Temporary system unavailability"),j(),V(6,"li"),J(7,"Network connectivity problem"),j(),V(8,"li"),J(9,"Backend service interruption"),j()(),V(10,"p",55),J(11,"Suggestions:"),j(),V(12,"ul",56)(13,"li"),J(14,"Check your internet connection"),j(),V(15,"li"),J(16,"Wait a few moments and try again"),j(),V(17,"li"),J(18,"Contact technical support"),j()()())}function n3(e,t){if(e&1&&(cd(0),V(1,"div",49)(2,"p",50),J(3),j(),Tt(4,JN,19,0,"div",51)(5,e3,19,0,"div",51)(6,t3,19,0,"div",51),j(),ud()),e&2){let n=wt(2);ae(3),yi(n.errorMessage),ae(),Ee("ngIf",n.errorMessage.includes("Homeowner not found")),ae(),Ee("ngIf",n.errorMessage.includes("Invalid QR code")),ae(),Ee("ngIf",n.errorMessage.includes("Server Error")||n.errorMessage.includes("Failed to confirm"))}}function r3(e,t){e&1&&(V(0,"span"),J(1,"Confirm Collection"),j())}function i3(e,t){e&1&&(V(0,"span"),J(1,"Already Collected Today"),j())}function o3(e,t){e&1&&(V(0,"span",59),It(),V(1,"svg",60),De(2,"circle",61)(3,"path",62),j(),J(4," Processing... "),j())}function s3(e,t){if(e&1){let n=Uo();V(0,"button",57),Mt("click",function(){jr(n);let s=wt(2);return Hr(s.confirmGarbageCollection())}),Tt(1,r3,2,0,"span",11)(2,i3,2,0,"span",11)(3,o3,5,0,"span",58),j()}if(e&2){let n=wt(2);Ee("disabled",n.collectingGarbage||n.todayCollectionAlreadyConfirmed)("ngClass",Gw(5,HN,n.todayCollectionAlreadyConfirmed)),ae(),Ee("ngIf",!n.collectingGarbage&&!n.todayCollectionAlreadyConfirmed),ae(),Ee("ngIf",!n.collectingGarbage&&n.todayCollectionAlreadyConfirmed),ae(),Ee("ngIf",n.collectingGarbage)}}function a3(e,t){if(e&1){let n=Uo();V(0,"div",3),Mt("click",function(s){jr(n);let c=wt();return Hr(c.onBackdropClick(s))}),V(1,"div",4),Mt("click",function(s){return jr(n),Hr(s.stopPropagation())}),V(2,"div",5)(3,"h2",6),J(4),j(),V(5,"button",7),Mt("click",function(){jr(n);let s=wt();return Hr(s.closeModal())}),It(),V(6,"svg",8),De(7,"path",9),j()()(),Vt(),V(8,"div",10),Tt(9,KN,27,12,"ng-container",11)(10,n3,7,4,"ng-container",11),j(),V(11,"div",12)(12,"button",13),Mt("click",function(){jr(n);let s=wt();return Hr(s.closeModal())}),J(13," Scan Again "),j(),Tt(14,s3,4,7,"button",14),j()()()}if(e&2){let n=wt();ae(4),Yn(" ",n.errorMessage?"Verification Error":"Payment Verification"," "),ae(5),Ee("ngIf",n.homeowner&&!n.errorMessage),ae(),Ee("ngIf",n.errorMessage),ae(4),Ee("ngIf",n.garbageCollectionEligible&&!n.collectionConfirmed&&!n.errorMessage)}}var hf=class e{constructor(t){this.dataService=t}html5QrCode=null;scannerInitialized=!1;scanResult=!1;homeowner=null;paymentStatus="";errorMessage="";garbageCollectionEligible=!1;collectionConfirmed=!1;collectingGarbage=!1;rawQrCodeData="";eligibilityDetails=null;todayCollectionAlreadyConfirmed=!1;paymentDetails=null;showPaymentDetails=!1;scannerStopped=!1;scanResultsContainer=null;ngOnInit(){this.initializeScanner()}initializeScanner(){if(this.scannerInitialized&&this.html5QrCode){this.scannerStopped&&this.resumeScanning();return}if(!document.getElementById("reader")){this.errorMessage="Unable to find scanner element";return}this.html5QrCode=new Wo("reader"),this.scannerInitialized=!0,Wo.getCameras().then(n=>{if(n&&n.length){let r=n.find(c=>c.label.toLowerCase().includes("back")||c.label.toLowerCase().includes("rear")),s=r?r.id:n[n.length-1].id;this.html5QrCode&&this.html5QrCode.start(s,{fps:10,qrbox:{width:window.innerWidth>600?400:window.innerWidth-80,height:300}},this.onScanSuccess.bind(this),this.onScanError.bind(this)).catch(c=>{this.errorMessage=`Camera start error: ${c}`,console.error("Camera start error",c),this.scannerInitialized=!1})}else this.errorMessage="No cameras found",this.scannerInitialized=!1}).catch(n=>{this.errorMessage=`Error accessing cameras: ${n}`,console.error("Camera access error",n),this.scannerInitialized=!1})}onScanSuccess(t){try{if(this.scannerStopped)return;this.pauseScanning(),console.log("Raw Scanned Text:",t),this.rawQrCodeData=t,this.todayCollectionAlreadyConfirmed=!1,this.collectionConfirmed=!1;let n;try{n=JSON.parse(t)}catch{let s=this.cleanQRCodeData(t);n=JSON.parse(s),this.rawQrCodeData=s}this.dataService.verifyPaymentByQRCode({qrCodeData:JSON.stringify(n)}).subscribe({next:r=>{this.scanResult=!0,this.homeowner=r.homeowner,this.paymentStatus=r.paymentStatus,this.garbageCollectionEligible=r.garbageCollectionEligible||!1,this.eligibilityDetails=r.eligibilityDetails||null,this.paymentDetails=r.paymentDetails||null,this.errorMessage="",this.homeowner&&this.homeowner.accountNumber&&this.garbageCollectionEligible?this.checkTodayCollectionStatus(this.homeowner.accountNumber):this.todayCollectionAlreadyConfirmed=!1},error:r=>{this.scanResult=!0,this.errorMessage=r.error?.message||"Error verifying payment",this.homeowner=null,this.garbageCollectionEligible=!1,this.eligibilityDetails=null,this.paymentDetails=null,this.todayCollectionAlreadyConfirmed=!1,console.error("Verification Error:",r)}})}catch(n){this.scanResult=!0,this.errorMessage="Invalid QR code format",this.garbageCollectionEligible=!1,this.eligibilityDetails=null,this.paymentDetails=null,this.todayCollectionAlreadyConfirmed=!1,console.error("QR Code Parsing Error:",n)}}pauseScanning(){if(this.html5QrCode&&this.html5QrCode.isScanning)try{this.scannerStopped=!0,console.log("Scanner logically paused")}catch(t){console.error("Error pausing scanner:",t)}}resumeScanning(){if(this.html5QrCode)try{this.scannerStopped&&(this.scannerStopped=!1,console.log("Scanner resumed"))}catch(t){console.error("Error resuming scanner:",t),this.scannerInitialized=!1,this.initializeScanner()}}checkTodayCollectionStatus(t){this.dataService.getGarbageCollectionStatus(t).subscribe({next:n=>{if(n.success&&n.garbageCollectionStatus){let r=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});this.todayCollectionAlreadyConfirmed=n.garbageCollectionStatus.currentMonthCollections.some(s=>s.includes(r))}else this.todayCollectionAlreadyConfirmed=!1},error:n=>{console.error("Error checking collection status:",n),this.todayCollectionAlreadyConfirmed=!1}})}confirmGarbageCollection(){!this.garbageCollectionEligible||this.todayCollectionAlreadyConfirmed||(this.collectingGarbage=!0,this.dataService.confirmGarbageCollection(this.rawQrCodeData).subscribe({next:t=>{this.collectionConfirmed=!0,this.todayCollectionAlreadyConfirmed=!0,this.collectingGarbage=!1},error:t=>{this.collectingGarbage=!1,t.error?.alreadyCollected?(this.todayCollectionAlreadyConfirmed=!0,this.errorMessage="Garbage collection already confirmed for this homeowner today"):this.errorMessage=t.error?.message||"Failed to confirm garbage collection",console.error("Garbage Collection Error:",t)}}))}cleanQRCodeData(t){let n=t.replace(/<!DOCTYPE.*?>/i,"").replace(/<\/?html.*?>/i,"").replace(/<\/?body.*?>/i,"").trim();return console.log("Cleaned QR Code Data:",n),n}closeModal(){this.scanResult=!1,this.errorMessage="",this.collectionConfirmed=!1,this.showPaymentDetails=!1,this.homeowner=null,this.paymentStatus="",this.garbageCollectionEligible=!1,this.todayCollectionAlreadyConfirmed=!1,this.eligibilityDetails=null,this.paymentDetails=null,this.scannerInitialized?this.resumeScanning():this.initializeScanner()}onBackdropClick(t){t.target===t.currentTarget&&this.closeModal()}resetScanner(){if(!this.scannerInitialized||!this.html5QrCode){this.initializeScanner();return}this.scannerStopped&&this.resumeScanning()}completeReset(){if(this.html5QrCode)try{this.html5QrCode.isScanning?this.html5QrCode.stop().then(()=>{this.html5QrCode=null,this.scannerInitialized=!1,this.scannerStopped=!1,this.resetScanState(),this.initializeScanner()}).catch(n=>{console.error("Error stopping scanner:",n),this.html5QrCode=null,this.scannerInitialized=!1,this.scannerStopped=!1,this.resetScanState(),this.initializeScanner()}):(this.html5QrCode=null,this.scannerInitialized=!1,this.scannerStopped=!1,this.resetScanState(),this.initializeScanner())}catch(t){console.error("Error in completeReset:",t),this.html5QrCode=null,this.scannerInitialized=!1,this.scannerStopped=!1,this.resetScanState(),this.initializeScanner()}else this.resetScanState(),this.initializeScanner()}resetScanState(){this.scanResult=!1,this.homeowner=null,this.paymentStatus="",this.errorMessage="",this.garbageCollectionEligible=!1,this.collectionConfirmed=!1,this.collectingGarbage=!1,this.rawQrCodeData="",this.eligibilityDetails=null,this.paymentDetails=null,this.todayCollectionAlreadyConfirmed=!1,this.showPaymentDetails=!1}onScanError(t){console.log(`Scan error: ${t}`)}ngOnDestroy(){if(this.html5QrCode){try{this.html5QrCode.isScanning&&this.html5QrCode.stop().catch(n=>{console.error("Error stopping scanner in ngOnDestroy:",n)})}catch(t){console.error("Error in ngOnDestroy:",t)}this.html5QrCode=null,this.scannerInitialized=!1,this.scannerStopped=!1}}static \u0275fac=function(n){return new(n||e)(ce(Ca))};static \u0275cmp=mn({type:e,selectors:[["app-scan"]],viewQuery:function(n,r){if(n&1&&dd(jN,5),n&2){let s;Zs(s=Xs())&&(r.scanResultsContainer=s.first)}},decls:3,vars:1,consts:[[1,"flex","flex-col","h-full","w-full","relative"],["id","reader",1,"flex-1","w-full"],["class","fixed inset-0 flex items-center justify-center z-10 p-4 bg-black/50",3,"click",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","z-10","p-4","bg-black/50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-md","mx-auto","my-auto","max-h-[90vh]","overflow-y-auto","sm:max-h-[80vh]",3,"click"],[1,"sticky","top-0","bg-white","border-b","p-3","md:p-4","flex","justify-between","items-center"],[1,"text-lg","md:text-xl","font-bold","truncate"],[1,"text-gray-500","hover:text-gray-700","p-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","md:h-6","md:w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-3","md:p-4"],[4,"ngIf"],[1,"sticky","bottom-0","bg-white","border-t","p-3","sm:p-4","flex","flex-col","sm:flex-row","justify-center","gap-2","sm:gap-3"],[1,"bg-blue-600","hover:bg-blue-700","text-white","py-2","px-3","sm:px-4","rounded","transition","duration-300","text-sm","sm:text-base","w-full","sm:w-auto",3,"click"],["class","bg-green-600 hover:bg-green-700 text-white py-2 px-3 sm:px-4 rounded transition duration-300 flex items-center justify-center text-sm sm:text-base w-full sm:w-auto",3,"disabled","ngClass","click",4,"ngIf"],[1,"bg-gray-50","rounded-lg","p-3","md:p-4"],[1,"flex","flex-wrap","justify-between","py-2","px-2","mb-2","border-b"],[1,"font-semibold","text-gray-600","w-1/3","sm:w-auto"],[1,"text-gray-800","w-2/3","sm:w-auto","text-right"],[1,"flex","flex-wrap","justify-between","py-2","px-2","mb-2","font-bold"],[1,"text-gray-600","w-1/3","sm:w-auto"],[1,"w-2/3","sm:w-auto","text-right",3,"ngClass"],[1,"flex","flex-wrap","justify-between","py-2","px-2","mb-2","font-bold","border-b"],["class","mt-3 bg-red-50 border border-red-200 rounded-lg p-2 sm:p-3 text-left",4,"ngIf"],["class","flex justify-center my-2 sm:my-3",4,"ngIf"],["class","mt-2 border-t pt-2 sm:pt-3 transition-all duration-300",4,"ngIf"],["class","mt-2 sm:mt-3 bg-green-100 text-green-700 p-2 sm:p-3 rounded-md font-semibold text-center text-sm sm:text-base",4,"ngIf"],[1,"mt-3","bg-red-50","border","border-red-200","rounded-lg","p-2","sm:p-3","text-left"],["class","text-xs sm:text-sm font-medium text-red-700 mb-2",4,"ngIf"],[1,"text-xs","sm:text-sm","font-medium","text-red-700","mb-2"],[1,"text-xs","sm:text-sm","font-medium","text-red-700","mb-1"],[1,"flex","flex-wrap","gap-1","sm:gap-2"],["class","bg-red-100 text-red-800 text-xs font-medium px-2 py-0.5 rounded",4,"ngFor","ngForOf"],[1,"bg-red-100","text-red-800","text-xs","font-medium","px-2","py-0.5","rounded"],[1,"flex","justify-center","my-2","sm:my-3"],[1,"flex","items-center","text-blue-600","hover:text-blue-800","transition","text-sm","sm:text-base",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4","sm:h-5","sm:w-5","ml-1"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],[1,"mt-2","border-t","pt-2","sm:pt-3","transition-all","duration-300"],[1,"text-base","sm:text-lg","font-semibold","mb-2","text-left"],[1,"font-semibold","text-gray-600","w-1/2","sm:w-auto"],[1,"text-gray-800","w-1/2","sm:w-auto","text-right"],[1,"w-1/2","sm:w-auto","text-right",3,"ngClass"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"text-xs","sm:text-sm","font-medium","text-gray-700","mb-1","text-left"],["class","bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded mb-1",4,"ngFor","ngForOf"],[1,"bg-green-100","text-green-800","text-xs","font-medium","px-2","py-0.5","rounded","mb-1"],[1,"mt-2","sm:mt-3","bg-green-100","text-green-700","p-2","sm:p-3","rounded-md","font-semibold","text-center","text-sm","sm:text-base"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-3","sm:p-5"],[1,"text-red-700","font-bold","mb-3","sm:mb-4","text-sm","sm:text-base"],["class","bg-red-100 rounded-md p-3 sm:p-4 mt-3 sm:mt-4",4,"ngIf"],[1,"bg-red-100","rounded-md","p-3","sm:p-4","mt-3","sm:mt-4"],[1,"text-red-700","font-semibold","mb-1","sm:mb-2","text-sm","sm:text-base"],[1,"list-disc","pl-4","sm:pl-5","mb-2","text-xs","sm:text-sm"],[1,"font-semibold","text-xs","sm:text-sm"],[1,"list-disc","pl-4","sm:pl-5","text-xs","sm:text-sm"],[1,"bg-green-600","hover:bg-green-700","text-white","py-2","px-3","sm:px-4","rounded","transition","duration-300","flex","items-center","justify-center","text-sm","sm:text-base","w-full","sm:w-auto",3,"click","disabled","ngClass"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(n,r){n&1&&(V(0,"div",0),De(1,"div",1),Tt(2,a3,15,4,"div",2),j()),n&2&&(ae(2),Ee("ngIf",r.scanResult))},dependencies:[Zn,md,yd,ta,cv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;height:100%}#reader[_ngcontent-%COMP%]{width:100%}  #reader video{width:100%!important;height:100%!important;object-fit:cover}"]})};var pf=class e{constructor(t){this.router=t}ngOnInit(){}goBack(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||e)(ce(cn))};static \u0275cmp=mn({type:e,selectors:[["app-scan-page"]],decls:9,vars:0,consts:[[1,"flex","flex-col","h-screen"],[1,"bg-sky-900","text-white","px-6","py-4","flex","justify-between","items-center","shadow-md"],[1,"text-xl","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h4v4H3V3zm0 7h4v4H3v-4zm0 7h4v4H3v-4zm7-14h4v4h-4V3zm0 7h4v4h-4v-4zm0 7h4v4h-4v-4zm7-14h4v4h-4V3zm0 7h4v4h-4v-4z"],[1,"flex-1","flex","flex-col","overflow-y-auto","pb-16"],[1,"flex-1","flex","flex-col"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"div",1)(2,"h2",2),It(),V(3,"svg",3),De(4,"path",4),j(),J(5," Scan QR Code "),j()(),Vt(),V(6,"main",5),De(7,"app-scan",6),j(),De(8,"app-bot-menu"),j())},dependencies:[Zn,hf,Ji],encapsulation:2})};var qx=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth/login",component:Zl},{path:"home",component:rf,canActivate:[of]},{path:"history",component:sf,canActivate:[of]},{path:"scan",component:pf,canActivate:[of]},{path:"**",component:Zl}];var Yx=(e,t)=>{let n=q(lr);if(e.url.includes("/auth/login")||e.url.includes("/refresh-token"))return t(e);let r=n.getToken();if(r){let s=e.clone({setHeaders:{Authorization:`Bearer ${r}`},withCredentials:!0});return t(s).pipe(Cn(c=>c.status===401&&c.error?.code==="TOKEN_EXPIRED"?n.refreshToken().pipe(an(f=>{let g=e.clone({setHeaders:{Authorization:`Bearer ${f}`}});return t(g)}),Cn(f=>rr(()=>f))):rr(()=>c)))}return t(e)};var Zx={providers:[Zw({eventCoalescing:!0}),MC(qx),Av(_v(),Sv([Yx]))]};var gf=class e{title="HOAMSSCAN";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=mn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&De(0,"router-outlet")},dependencies:[y0],encapsulation:2})};Uv(gf,Zx).catch(e=>console.error(e));
